##################################################
#
# STRATEGIC EFFECTS - A.K.A. "TRIGGERED MODIFIERS"
#
##################################################

# Bankruptcy
negative_money = {
	potential = {
		is_ruler = yes
	}

	trigger = {
		NOT = { wealth = 0 }
	}

	icon = 24

	land_morale = -1
	monthly_character_prestige = -1
	general_opinion = -20
}

#Bad religion in capital
wrong_religion_group_capital = {
	potential = {
		is_ruler = yes
	}

	trigger = {
		is_ruler = yes
		ai = no
		capital_scope = {
			NOT = { religion_group = ROOT }
		}
		NOT = { religion_group = muslim }
	}

	icon = 24

	global_tax_modifier = -0.2
}

wrong_religion_capital = {
	potential = {
		is_ruler = yes
	}

	trigger = {
		is_ruler = yes
		ai = no
		capital_scope = {
			religion_group = ROOT
			NOT = { religion = ROOT }
		}
	}

	icon = 24

	global_tax_modifier = -0.1
}

#Small demesne
small_demesne = {
	potential = {
		is_ruler = yes
	}
	trigger = {
		is_ruler = yes
		OR = {
			is_patrician = yes
			higher_tier_than = baron
		}
		NOT = { demesne_size = 2 }
	}

	icon = 6

	global_tax_modifier = 1
}

small_demesne = {
	potential = {
		is_ruler = yes
	}
	trigger = {
		is_ruler = yes
		OR = {
			is_patrician = yes
			higher_tier_than = baron
		}
		demesne_size = 2
		NOT = { demesne_size = 3 }
	}

	icon = 6

	global_tax_modifier = 0.5
}

small_demesne = {
	potential = {
		is_ruler = yes
	}
	trigger = {
		is_ruler = yes
		OR = {
			is_patrician = yes
			higher_tier_than = baron
		}
		demesne_size = 3
		NOT = { demesne_size = 4 }
	}

	icon = 6

	global_tax_modifier = 0.15
}

mongol_tribute = {
	potential = {
		is_ruler = yes
	}
	trigger = {
		is_ruler = yes
		OR = {
			has_landed_title = e_golden_horde
			has_landed_title = e_il-khanate
		}
	}
	castle_vassal_tax_modifier = 0.2
	vassal_opinion = -10
	icon = 6
}

#Player isn't picking an ambition
player_no_ambition = {
	potential = {
		is_ruler = yes
	}

	trigger = {
		is_ruler = yes
		OR = {
			NOT = { has_character_flag = obj_aborted }
			had_character_flag = {
				flag = obj_aborted
				days = 1095
			}
		}
		NOT = { regent = { is_alive = yes } }
		ai = no
		NOT = {
			has_ambition = obj_befriend_liege
			has_ambition = obj_befriend_top_liege
			has_ambition = obj_befriend_relhead
			has_ambition = obj_become_chancellor
			has_ambition = obj_become_marshal
			has_ambition = obj_become_treasurer
			has_ambition = obj_become_spymaster
			has_ambition = obj_become_spiritual
			has_ambition = obj_amass_wealth
			has_ambition = obj_amass_wealth_2
			has_ambition = obj_amass_wealth_3
			has_ambition = obj_amass_wealth_4
			has_ambition = obj_become_paragon_of_virtue
			has_ambition = obj_become_exalted
			has_ambition = obj_become_exalted_2
			has_ambition = obj_become_exalted_3
			has_ambition = obj_become_exalted_4
			has_ambition = obj_get_married
			has_ambition = obj_marry_ruler
			has_ambition = obj_have_a_daughter
			has_ambition = obj_have_a_son
			has_ambition = obj_become_heir
			has_ambition = obj_wants_landed_title
			has_ambition = obj_five_children
			has_ambition = obj_ten_children
			has_ambition = obj_fifteen_children
			has_ambition = obj_twenty_children
			has_ambition = obj_increase_demesne_1
			has_ambition = obj_increase_demesne_2
			has_ambition = obj_increase_demesne_3
			has_ambition = obj_increase_demesne_4
			has_ambition = obj_increase_demesne_5
			has_ambition = obj_increase_demesne_6
			has_ambition = obj_increase_demesne_7
			has_ambition = obj_increase_demesne_8
			has_ambition = obj_increase_demesne_9
			has_ambition = obj_go_crusade
			has_ambition = obj_go_jihad
			has_ambition = obj_find_lover
			has_ambition = obj_become_independent
			has_ambition = obj_become_duke
			has_ambition = obj_become_multiduke
			has_ambition = obj_become_king
			has_ambition = obj_become_emperor
			has_ambition = obj_adopt_a_lifestyle
			has_ambition = obj_gain_honorary_title
			has_ambition = obj_convert_a_province
			has_ambition = obj_win_a_war
			has_ambition = obj_break_out_of_prison
			has_ambition = obj_improve_martial
			has_ambition = obj_improve_stewardship
			has_ambition = obj_improve_learning
			has_ambition = obj_improve_diplomacy
			has_ambition = obj_improve_intrigue
			has_ambition = obj_make_a_friend
			has_ambition = obj_get_nick
			has_ambition = obj_change_nick
			has_ambition = obj_spouse_councillor
			has_ambition = obj_ward_liege_child
			has_ambition = obj_mentor_liege_child
			has_ambition = obj_become_regent
			has_ambition = obj_church_career
			has_ambition = obj_known_for_virtue
			has_ambition = obj_raise_worthy_son
			has_ambition = obj_reign_20_years
			has_ambition = obj_peace_10_year
			has_ambition = obj_great_council
			has_ambition = obj_civilize_province
			has_ambition = obj_lower_decadence50
			has_ambition = obj_lower_decadence55
			has_ambition = obj_lower_decadence60
			has_ambition = obj_lower_decadence65
			has_ambition = obj_lower_decadence70
			has_ambition = obj_lower_decadence75
			has_ambition = obj_lower_decadence80
			has_ambition = obj_buddhist_stop_drinking
			has_ambition = obj_buddhist_reject_empty_pleasures
			has_ambition = obj_buddhist_abstain_sexual_excess
			has_ambition = obj_buddhist_reject_cruelty
			has_ambition = obj_buddhist_temperance_food
			has_ambition = obj_buddhist_reject_greed
			has_ambition = obj_buddhist_reject_envy
			has_ambition = obj_buddhist_reject_hate
			has_ambition = obj_buddhist_reject_pride
			has_ambition = obj_buddhist_defeat_fear
			has_ambition = obj_become_paragon_of_enlightenment
		}
	}

	icon = 25

	monthly_character_prestige = -1
}

#Faction moods
faction_mood_happy = {
	potential = {
		is_ruler = yes
	}

	trigger = {
		is_ruler = yes
		OR = {
			AND = {
				OR = {
					leads_faction = faction_court_emperor
					leads_faction = faction_court_king
					leads_faction = faction_court_duke
				}
				liege = { has_character_flag = faction_court_happy	}
			}
			AND = {
				OR = {
					leads_faction = faction_feudal_emperor
					leads_faction = faction_feudal_king
					leads_faction = faction_feudal_duke
				}
				liege = { has_character_flag = faction_feudal_happy	}
			}
			AND = {
				OR = {
					leads_faction = faction_republican_emperor
					leads_faction = faction_republican_king
					leads_faction = faction_republican_duke
				}
				liege = { has_character_flag = faction_republican_happy	}
			}
			AND = {
				OR = {
					leads_faction = faction_religious_emperor
					leads_faction = faction_religious_king
					leads_faction = faction_religious_duke
				}
				liege = { has_character_flag = faction_religious_happy	}
			}
		}
	}

	icon = 52
}

faction_mood_content = {
	potential = {
		is_ruler = yes
	}

	trigger = {
		is_ruler = yes
		OR = {
			AND = {
				OR = {
					leads_faction = faction_court_emperor
					leads_faction = faction_court_king
					leads_faction = faction_court_duke
				}
				liege = {
					NOT = {
						has_character_flag = faction_court_happy
						has_character_flag = faction_court_unhappy
						has_character_flag = faction_court_angry
					}
				}
			}
			AND = {
				OR = {
					leads_faction = faction_feudal_emperor
					leads_faction = faction_feudal_king
					leads_faction = faction_feudal_duke
				}
				liege = {
					NOT = {
						has_character_flag = faction_feudal_happy
						has_character_flag = faction_feudal_unhappy
						has_character_flag = faction_feudal_angry
					}
				}
			}
			AND = {
				OR = {
					leads_faction = faction_republican_emperor
					leads_faction = faction_republican_king
					leads_faction = faction_republican_duke
				}
				liege = {
					NOT = {
						has_character_flag = faction_republican_happy
						has_character_flag = faction_republican_unhappy
						has_character_flag = faction_republican_angry
					}
				}
			}
			AND = {
				OR = {
					leads_faction = faction_religious_emperor
					leads_faction = faction_religious_king
					leads_faction = faction_religious_duke
				}
				liege = {
					NOT = {
						has_character_flag = faction_religious_happy
						has_character_flag = faction_religious_unhappy
						has_character_flag = faction_religious_angry
					}
				}
			}
		}
	}

	icon = 55
}

faction_mood_unhappy = {
	potential = {
		is_ruler = yes
	}

	trigger = {
		is_ruler = yes
		OR = {
			AND = {
				OR = {
					leads_faction = faction_court_emperor
					leads_faction = faction_court_king
					leads_faction = faction_court_duke
				}
				liege = { has_character_flag = faction_court_unhappy }
			}
			AND = {
				OR = {
					leads_faction = faction_feudal_emperor
					leads_faction = faction_feudal_king
					leads_faction = faction_feudal_duke
				}
				liege = { has_character_flag = faction_feudal_unhappy }
			}
			AND = {
				OR = {
					leads_faction = faction_republican_emperor
					leads_faction = faction_republican_king
					leads_faction = faction_republican_duke
				}
				liege = { has_character_flag = faction_republican_unhappy }
			}
			AND = {
				OR = {
					leads_faction = faction_religious_emperor
					leads_faction = faction_religious_king
					leads_faction = faction_religious_duke
				}
				liege = { has_character_flag = faction_religious_unhappy }
			}
		}
	}

	icon = 53
}

faction_mood_angry = {
	potential = {
		is_ruler = yes
	}

	trigger = {
		is_ruler = yes
		OR = {
			AND = {
				OR = {
					leads_faction = faction_court_emperor
					leads_faction = faction_court_king
					leads_faction = faction_court_duke
				}
				liege = { has_character_flag = faction_court_angry }
			}
			AND = {
				OR = {
					leads_faction = faction_feudal_emperor
					leads_faction = faction_feudal_king
					leads_faction = faction_feudal_duke
				}
				liege = { has_character_flag = faction_feudal_angry }
			}
			AND = {
				OR = {
					leads_faction = faction_republican_emperor
					leads_faction = faction_republican_king
					leads_faction = faction_republican_duke
				}
				liege = { has_character_flag = faction_republican_angry }
			}
			AND = {
				OR = {
					leads_faction = faction_religious_emperor
					leads_faction = faction_religious_king
					leads_faction = faction_religious_duke
				}
				liege = { has_character_flag = faction_religious_angry }
			}
		}
	}

	icon = 54
}

flip_flopper = {
	potential = {
		is_ruler = yes
	}

	trigger = {
		is_ruler = yes
		ai = no
		OR = {
			AND = {
				OR = {
					leads_faction = faction_court_emperor
					leads_faction = faction_court_king
					leads_faction = faction_court_duke
					in_faction = faction_court_emperor
					in_faction = faction_court_king
					in_faction = faction_court_duke
				}
				OR = {
					in_faction = faction_republican_emperor
					in_faction = faction_republican_king
					in_faction = faction_republican_duke
					in_faction = faction_religious_emperor
					in_faction = faction_religious_king
					in_faction = faction_religious_duke
					in_faction = faction_feudal_emperor
					in_faction = faction_feudal_king
					in_faction = faction_feudal_duke
				}
			}
			AND = {
				OR = {
					leads_faction = faction_republican_emperor
					leads_faction = faction_republican_king
					leads_faction = faction_republican_duke
					in_faction = faction_republican_emperor
					in_faction = faction_republican_king
					in_faction = faction_republican_duke
				}
				OR = {
					in_faction = faction_court_emperor
					in_faction = faction_court_king
					in_faction = faction_court_duke
					in_faction = faction_religious_emperor
					in_faction = faction_religious_king
					in_faction = faction_religious_duke
					in_faction = faction_feudal_emperor
					in_faction = faction_feudal_king
					in_faction = faction_feudal_duke
				}
			}
			AND = {
				OR = {
					leads_faction = faction_religious_emperor
					leads_faction = faction_religious_king
					leads_faction = faction_religious_duke
					in_faction = faction_religious_emperor
					in_faction = faction_religious_king
					in_faction = faction_religious_duke
				}
				OR = {
					in_faction = faction_republican_emperor
					in_faction = faction_republican_king
					in_faction = faction_republican_duke
					in_faction = faction_court_emperor
					in_faction = faction_court_king
					in_faction = faction_court_duke
					in_faction = faction_feudal_emperor
					in_faction = faction_feudal_king
					in_faction = faction_feudal_duke
				}
			}
			AND = {
				OR = {
					leads_faction = faction_feudal_emperor
					leads_faction = faction_feudal_king
					leads_faction = faction_feudal_duke
					in_faction = faction_feudal_emperor
					in_faction = faction_feudal_king
					in_faction = faction_feudal_duke
				}
				OR = {
					in_faction = faction_republican_emperor
					in_faction = faction_republican_king
					in_faction = faction_republican_duke
					in_faction = faction_religious_emperor
					in_faction = faction_religious_king
					in_faction = faction_religious_duke
					in_faction = faction_court_emperor
					in_faction = faction_court_king
					in_faction = faction_court_duke
				}
			}
		}
	}

	general_opinion = -50
	monthly_character_prestige = -5

	icon = 20
}
zoroastrian_honesty = {
	potential = {
		religion_group = zoroastrian_group
	}
	
	trigger = {
		trait = honest
		religion_group = zoroastrian_group
	}
	
	icon = 12
	monthly_character_piety = 0.40
	church_opinion = 5
}

zoroastrian_deceitfulness = {
	potential = {
		religion_group = zoroastrian_group
	}
	
	trigger = {
		trait = deceitful
		religion_group = zoroastrian_group
	}
	
	icon = 12
	monthly_character_piety = -0.40
	church_opinion = -5
}

zoroastrian_celibacy = {
	potential = {
		religion_group = zoroastrian_group
	}
	
	trigger = {
		trait = celibate
		religion_group = zoroastrian_group
	}
	
	icon = 12
	monthly_character_piety = -1.50
	church_opinion = -10
}

zoroastrian_chastity = {
	potential = {
		religion_group = zoroastrian_group
	}
	
	trigger = {
		trait = chaste
		religion_group = zoroastrian_group
	}
	
	icon = 12
	monthly_character_piety = -0.70
}

zoroastrian_hedonism = {
	potential = {
		religion_group = zoroastrian_group
	}
	
	trigger = {
		trait = hedonist
		religion_group = zoroastrian_group
	}
	
	icon = 12
	monthly_character_piety = 0.70
}


zoroastrian_lustfulness = {
	potential = {
		religion_group = zoroastrian_group
	}
	
	trigger = {
		trait = lustful
		religion_group = zoroastrian_group
	}
	
	icon = 12
	monthly_character_piety = 0.5
}


zoroastrian_not_married = {
	potential = {
		religion_group = zoroastrian_group
	}
	
	trigger = {
		is_adult = yes
		religion_group = zoroastrian_group
		is_married = no
		is_betrothed = no
		mercenary = no
		is_theocracy = no
		holy_order = no
	}
	
	icon = 36
	monthly_character_piety = -0.40
	monthly_character_prestige = -0.40
}

pagan_economy = {
	potential = {
		is_ruler = yes
	}
	trigger = {
		is_ruler = yes
		religion_group = pagan_group
		is_reformed_religion = no
	}
	icon = 22
	global_tax_modifier = -0.2
}

overextended_republic = {
	potential = {
		is_ruler = yes
		higher_tier_than = COUNT
	}
	trigger = {
		OR = {
			is_merchant_republic = yes
			is_patrician = yes
		}
		any_realm_title = {
			location = {
				port = yes
				ROOT = {
					capital_scope = {
						location = {
							distance = {
								where = PREVPREVPREV # Comparing the distance between ROOT's capital and the title in question
								value = 590	#  From  aprox.Venice to East Cyprus and from Venice to Gibraltar
							}
						}	
					}
				}			
			}
			tier = BARON
			is_republic = yes # Cities only
		}
	}
	icon = 22
	global_tax_modifier = -0.2
}
