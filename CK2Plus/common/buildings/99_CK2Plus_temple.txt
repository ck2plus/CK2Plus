#Triggers are in Province scope. The From Scope contains the settlement holder (character)
#start trigger is in title scope.

#<tag> = {
#	desc = description used in the tooltip of the building
#	trigger = used for tech requirement of the building, set to 0 if no requirement so it can be build automatically on new games
#	gold_cost = cost to build the building
#	build_time = time to build, in days
#
#	ai_creation_factor = weight that the AI uses to determine what building to build
#	extra_tech_building_start = when starting a new game this building will be pre-built if the province has higher tech than the requirement + this + random 0-1
#}

#Temple
temple = {
	# Order Houses
	# TODO: Revisit these. Maybe make them holy order exclusive
	tp_order_house_1 = {
		gold_cost = 300
		build_time = 365
		ai_creation_factor = 95
		extra_tech_building_start = 0.8

		heavy_infantry = 100

		potential = {
			OR = {
				FROMFROM = { has_building = tp_order_house_1 }

				AND = {
					FROMFROM = { has_building = tp_temple_1 }
					TECH_TEMPLE_CONSTRUCTION >= 3
				}
			}
		}

		trigger = {
			TECH_TEMPLE_CONSTRUCTION >= 3
			ai_can_build_trigger = yes
		}
	}
	tp_order_house_2 = {
		upgrades_from = tp_order_house_1
		gold_cost = 700
		build_time = 730
		ai_creation_factor = 94
		extra_tech_building_start = 1.5

		heavy_infantry = 225

		trigger = {
			TECH_TEMPLE_CONSTRUCTION >= 6
			ai_can_build_trigger = yes
		}
	}

	# Stable
	tp_stable_1 = {
		gold_cost = 100
		build_time = 365
		ai_creation_factor = 89
		extra_tech_building_start = 0.6

		light_cavalry = 46

		potential = {
			OR = {
				FROMFROM = { has_building = tp_stable_1 }

				AND = {
					TECH_CAVALRY >= 1

					FROMFROM = {
						OR = {
							has_building = tp_temple_1

							AND = {
								has_building = tp_town_market_1
								has_building = tp_housing_1
							}
						}
					}
				}
			}
		}

		trigger = {
			TECH_CAVALRY >= 1
			ai_can_build_trigger = yes
		}
	}
	tp_stable_2 = {
		upgrades_from = tp_stable_1
		gold_cost = 120
		build_time = 547
		ai_creation_factor = 88
		extra_tech_building_start = 1.2

		light_cavalry = 56

		trigger = {
			TECH_CAVALRY >= 1
			ai_can_build_trigger = yes
		}
	}
	tp_stable_3 = {
		upgrades_from = tp_stable_2
		gold_cost = 200
		build_time = 730
		ai_creation_factor = 87
		extra_tech_building_start = 0.8

		light_cavalry = 66

		trigger = {
			TECH_CAVALRY >= 3
			ai_can_build_trigger = yes
		}
	}
	tp_stable_4 = {
		upgrades_from = tp_stable_3
		gold_cost = 300
		build_time = 1095
		ai_creation_factor = 86
		extra_tech_building_start = 1.0

		light_cavalry = 66
		knights = 15

		trigger = {
			TECH_CAVALRY >= 5
			ai_can_build_trigger = yes
		}
	}
	tp_stable_5 = {
		upgrades_from = tp_stable_4
		gold_cost = 400
		build_time = 2190
		ai_creation_factor = 85
		extra_tech_building_start = 1.2

		light_cavalry = 66
		knights = 20

		trigger = {
			TECH_CAVALRY >= 7
			ai_can_build_trigger = yes
		}
	}

	# Desert Stable
	tp_desert_stable_1 = {
		replaces = tp_stable_1
		gold_cost = 100
		build_time = 365
		ai_creation_factor = 89
		extra_tech_building_start = 0.6

		camel_cavalry = 46

		potential = {
			terrain = desert

			OR = {
				FROMFROM = { has_building = tp_desert_stable_1 }

				AND = {
					TECH_CAVALRY >= 1

					FROMFROM = {
						OR = {
							has_building = tp_temple_1

							AND = {
								has_building = tp_town_market_1
								has_building = tp_housing_1
							}
						}
					}
				}
			}
		}

		trigger = {
			TECH_CAVALRY >= 1
			ai_can_build_trigger = yes
		}
	}
	tp_desert_stable_2 = {
		replaces = tp_stable_2
		upgrades_from = tp_desert_stable_1
		gold_cost = 120
		build_time = 547
		ai_creation_factor = 88
		extra_tech_building_start = 1.2

		camel_cavalry = 56

		potential = {
			terrain = desert
		}

		trigger = {
			TECH_CAVALRY >= 1
			ai_can_build_trigger = yes
		}
	}
	tp_desert_stable_3 = {
		replaces = tp_stable_3
		upgrades_from = tp_desert_stable_2
		gold_cost = 200
		build_time = 730
		ai_creation_factor = 87
		extra_tech_building_start = 0.8

		camel_cavalry = 66

		potential = {
			terrain = desert
		}

		trigger = {
			TECH_CAVALRY >= 3
			ai_can_build_trigger = yes
		}
	}
	tp_desert_stable_4 = {
		replaces = tp_stable_4
		upgrades_from = tp_desert_stable_3
		gold_cost = 300
		build_time = 1095
		ai_creation_factor = 86
		extra_tech_building_start = 1.0

		camel_cavalry = 66
		knights = 15

		potential = {
			terrain = desert
		}

		trigger = {
			TECH_CAVALRY >= 5
			ai_can_build_trigger = yes
		}
	}
	tp_desert_stable_5 = {
		replaces = tp_stable_5
		upgrades_from = tp_desert_stable_4
		gold_cost = 400
		build_time = 2190
		ai_creation_factor = 85
		extra_tech_building_start = 1.2

		camel_cavalry = 66
		knights = 20

		potential = {
			terrain = desert
		}

		trigger = {
			TECH_CAVALRY >= 7
			ai_can_build_trigger = yes
		}
	}

	# Steppe Stable
	tp_steppe_stable_1 = {
		replaces = tp_stable_1
		gold_cost = 100
		build_time = 365
		extra_tech_building_start = 0.6
		ai_creation_factor = 89

		light_cavalry = 32
		horse_archers = 14

		potential = {
			terrain = steppe

			OR = {
				FROMFROM = { has_building = tp_steppe_stable_1 }

				AND = {
					TECH_CAVALRY >= 1

					FROMFROM = {
						OR = {
							has_building = tp_temple_1

							AND = {
								has_building = tp_town_market_1
								has_building = tp_housing_1
							}
						}
					}
				}
			}
		}

		trigger = {
			TECH_CAVALRY >= 1
			ai_can_build_trigger = yes
		}
	}
	tp_steppe_stable_2 = {
		replaces = tp_stable_2
		upgrades_from = tp_steppe_stable_1
		gold_cost = 120
		build_time = 547
		ai_creation_factor = 88
		extra_tech_building_start = 1.2

		light_cavalry = 42
		horse_archers = 24

		potential = {
			terrain = steppe
		}

		trigger = {
			TECH_CAVALRY >= 1
			ai_can_build_trigger = yes
		}
	}
	tp_steppe_stable_3 = {
		replaces = tp_stable_3
		upgrades_from = tp_steppe_stable_2
		gold_cost = 200
		build_time = 730
		ai_creation_factor = 87
		extra_tech_building_start = 0.8

		light_cavalry = 42
		horse_archers = 24

		potential = {
			terrain = steppe
		}

		trigger = {
			TECH_CAVALRY >= 3
			ai_can_build_trigger = yes
		}
	}
	tp_steppe_stable_4 = {
		replaces = tp_stable_4
		upgrades_from = tp_steppe_stable_3
		gold_cost = 300
		build_time = 1095
		ai_creation_factor = 86
		extra_tech_building_start = 1.0

		light_cavalry = 42
		horse_archers = 24
		knights = 15

		potential = {
			terrain = steppe
		}

		trigger = {
			TECH_CAVALRY >= 5
			ai_can_build_trigger = yes
		}
	}
	tp_steppe_stable_5 = {
		replaces = tp_stable_5
		upgrades_from = tp_steppe_stable_4
		gold_cost = 400
		build_time = 2190
		ai_creation_factor = 85
		extra_tech_building_start = 1.2

		light_cavalry = 42
		horse_archers = 24
		knights = 20

		potential = {
			terrain = steppe
		}

		trigger = {
			TECH_CAVALRY >= 7
			ai_can_build_trigger = yes
		}
	}

	# Trade
	tp_port_1 = {
		gold_cost = 100
		build_time = 365
		ai_creation_factor = 130
		extra_tech_building_start = 0

		tax_income = 0.5

		port = yes

		potential = {
			OR = {
				FROMFROM = { has_building = tp_port_1 }

				AND = {
					TECH_NAVAL >= 1
					TECH_TRADE_PRACTICES >= 1

					FROMFROM = {
						has_building = tp_town_market_1
						has_building = tp_housing_1
					}
				}
			}
		}

		trigger = {
			TECH_NAVAL >= 1
			TECH_TRADE_PRACTICES >= 1
			ai_can_build_trigger = yes
		}
	}
	tp_port_2 = {
		upgrades_from = tp_port_1
		gold_cost = 150
		build_time = 547
		ai_creation_factor = 130
		extra_tech_building_start = 0.6

		tax_income = 0.5

		port = yes

		trigger = {
			TECH_TRADE_PRACTICES >= 3
			ai_can_build_trigger = yes
		}
	}
	tp_port_3 = {
		upgrades_from = tp_port_2
		gold_cost = 200
		build_time = 730
		ai_creation_factor = 130
		extra_tech_building_start = 0.8

		tax_income = 0.5

		port = yes

		trigger = {
			TECH_TRADE_PRACTICES >= 5
			ai_can_build_trigger = yes
		}
	}
	tp_port_4 = {
		upgrades_from = tp_port_3
		gold_cost = 300
		build_time = 1095
		ai_creation_factor = 130
		extra_tech_building_start = 1.0

		tax_income = 0.5

		port = yes

		trigger = {
			TECH_TRADE_PRACTICES >= 6
			ai_can_build_trigger = yes
		}
	}
	tp_port_5 = {
		upgrades_from = tp_port_4
		gold_cost = 400
		build_time = 2190
		ai_creation_factor = 130
		extra_tech_building_start = 1.2

		tax_income = 1

		port = yes

		trigger = {
			TECH_TRADE_PRACTICES >= 7
			ai_can_build_trigger = yes
		}
	}
}