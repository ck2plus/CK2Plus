# pick_potential_blood_games_winners_effect
# pick_blood_games_winner_effect
# clean_up_great_tribal_festival_flags_effect
# great_tribal_festival_flavor_list_liege_effect
# great_tribal_festival_flavor_list_effect
# pick_potential_brawling_winners_effect
# pick_potential_drinking_winners_effect
# pick_potential_eating_winners_effect
# pick_potential_taming_winners_effect
# pick_potential_beauty_winners_effect
# pick_potential_poetry_winners_effect
# pick_potential_singing_winners_effect
# pick_potential_tapestry_winners_effect
# warrior_lodge_arm_wrestling_cleanup_effect
# warrior_lodge_arm_wrestling_first_round_effect
# warrior_lodge_arm_wrestling_second_round_effect
# post_arm_wrestling_flavor_effect
# warrior_lodge_flyting_cleanup_effect
# set_flyting_patience_effect
# warrior_lodge_flyting_winner_selection_effect
# warrior_lodge_drinking_game_cleanup_effect
# pick_potential_WL_drinking_finalists_effect
# pick_potential_WL_drinking_winner_effect

pick_potential_blood_games_winners_effect = { # Only checking for characters existing and saving them as target for the event
	if = {
		limit = {
			any_realm_character = {
				has_character_flag = flag_blood_contender
			}
		}

		random_realm_character = { # First
			limit = { has_character_flag = flag_blood_contender }

			preferred_limit = {
				combat_rating > 200

				OR = {
					is_strong_trigger = yes
					is_smart_trigger = yes
					has_education_martial_trigger = yes
					has_lifestyle_martial_trigger = yes
				}
			}

			preferred_limit = {
				combat_rating >= 200

				NOR = {
					is_weak_trigger = yes
					is_dumb_trigger = yes
				}
			}

			preferred_limit = {
				combat_rating >= 200
			}

			preferred_limit = {
				combat_rating >= 150

				OR = {
					is_strong_trigger = yes
					is_smart_trigger = yes
					has_education_martial_trigger = yes
					has_lifestyle_martial_trigger = yes
				}
			}

			preferred_limit = {
				combat_rating >= 150

				NOR = {
					is_weak_trigger = yes
					is_dumb_trigger = yes
				}
			}

			preferred_limit = {
				combat_rating >= 150
			}

			preferred_limit = {
				combat_rating >= 100

				OR = {
					is_strong_trigger = yes
					is_smart_trigger = yes
					has_education_martial_trigger = yes
					has_lifestyle_martial_trigger = yes
				}
			}

			preferred_limit = {
				combat_rating >= 100

				NOR = {
					is_weak_trigger = yes
					is_dumb_trigger = yes
				}
			}

			preferred_limit = {
				combat_rating >= 100
			}

			preferred_limit = {
				combat_rating >= 50

				OR = {
					is_strong_trigger = yes
					is_smart_trigger = yes
					has_education_martial_trigger = yes
					has_lifestyle_martial_trigger = yes
				}
			}

			preferred_limit = {
				combat_rating >= 50

				NOR = {
					is_weak_trigger = yes
					is_dumb_trigger = yes
				}
			}

			preferred_limit = {
				combat_rating >= 50
			}

			preferred_limit = {
				combat_rating >= 25

				OR = {
					is_strong_trigger = yes
					is_smart_trigger = yes
					has_education_martial_trigger = yes
					has_lifestyle_martial_trigger = yes
				}
			}

			preferred_limit = {
				combat_rating = 25

				NOR = {
					is_weak_trigger = yes
					is_dumb_trigger = yes
				}
			}

			preferred_limit = {
				combat_rating >= 25
			}

			preferred_limit = {
				combat_rating = 10

				OR = {
					is_strong_trigger = yes
					is_smart_trigger = yes
					has_education_martial_trigger = yes
					has_lifestyle_martial_trigger = yes
				}
			}

			preferred_limit = {
				combat_rating >= 10

				NOR = {
					is_weak_trigger = yes
					is_dumb_trigger = yes
				}
			}

			preferred_limit = {
				combat_rating >= 10
			}

			preferred_limit = {
				combat_rating >= 0

				OR = {
					is_strong_trigger = yes
					is_smart_trigger = yes
					has_education_martial_trigger = yes
					has_lifestyle_martial_trigger = yes
				}
			}

			preferred_limit = {
				combat_rating >= 0

				NOR = {
					is_weak_trigger = yes
					is_dumb_trigger = yes
				}
			}

			preferred_limit = {
				combat_rating >= 0
			}

			preferred_limit = {
				trait = brave
			}

			preferred_limit = {
				NOT = { trait = craven }
			}

			save_event_target_as = blood_games_potential_winner_1
		}
	}

	if = {
		limit = {
			any_realm_character = {
				has_character_flag = flag_blood_contender
				NOT = { character = event_target:blood_games_potential_winner_1 }
			}
		}

		random_realm_character = { # Second
			limit = {
				has_character_flag = flag_blood_contender
				NOT = { character = event_target:blood_games_potential_winner_1 }
			}

			preferred_limit = {
				combat_rating > 200

				OR = {
					is_strong_trigger = yes
					is_smart_trigger = yes
					has_education_martial_trigger = yes
					has_lifestyle_martial_trigger = yes
				}
			}

			preferred_limit = {
				combat_rating >= 200

				NOR = {
					is_weak_trigger = yes
					is_dumb_trigger = yes
				}
			}

			preferred_limit = {
				combat_rating >= 200
			}

			preferred_limit = {
				combat_rating >= 150

				OR = {
					is_strong_trigger = yes
					is_smart_trigger = yes
					has_education_martial_trigger = yes
					has_lifestyle_martial_trigger = yes
				}
			}

			preferred_limit = {
				combat_rating >= 150

				NOR = {
					is_weak_trigger = yes
					is_dumb_trigger = yes
				}
			}

			preferred_limit = {
				combat_rating >= 150
			}

			preferred_limit = {
				combat_rating >= 100

				OR = {
					is_strong_trigger = yes
					is_smart_trigger = yes
					has_education_martial_trigger = yes
					has_lifestyle_martial_trigger = yes
				}
			}

			preferred_limit = {
				combat_rating >= 100

				NOR = {
					is_weak_trigger = yes
					is_dumb_trigger = yes
				}
			}

			preferred_limit = {
				combat_rating >= 100
			}

			preferred_limit = {
				combat_rating >= 50

				OR = {
					is_strong_trigger = yes
					is_smart_trigger = yes
					has_education_martial_trigger = yes
					has_lifestyle_martial_trigger = yes
				}
			}

			preferred_limit = {
				combat_rating >= 50

				NOR = {
					is_weak_trigger = yes
					is_dumb_trigger = yes
				}
			}

			preferred_limit = {
				combat_rating >= 50
			}

			preferred_limit = {
				combat_rating >= 25

				OR = {
					is_strong_trigger = yes
					is_smart_trigger = yes
					has_education_martial_trigger = yes
					has_lifestyle_martial_trigger = yes
				}
			}

			preferred_limit = {
				combat_rating = 25

				NOR = {
					is_weak_trigger = yes
					is_dumb_trigger = yes
				}
			}

			preferred_limit = {
				combat_rating >= 25
			}

			preferred_limit = {
				combat_rating = 10

				OR = {
					is_strong_trigger = yes
					is_smart_trigger = yes
					has_education_martial_trigger = yes
					has_lifestyle_martial_trigger = yes
				}
			}

			preferred_limit = {
				combat_rating >= 10

				NOR = {
					is_weak_trigger = yes
					is_dumb_trigger = yes
				}
			}

			preferred_limit = {
				combat_rating >= 10
			}

			preferred_limit = {
				combat_rating >= 0

				OR = {
					is_strong_trigger = yes
					is_smart_trigger = yes
					has_education_martial_trigger = yes
					has_lifestyle_martial_trigger = yes
				}
			}

			preferred_limit = {
				combat_rating >= 0

				NOR = {
					is_weak_trigger = yes
					is_dumb_trigger = yes
				}
			}

			preferred_limit = {
				combat_rating >= 0
			}

			preferred_limit = {
				trait = brave
			}

			preferred_limit = {
				NOT = { trait = craven }
			}

			save_event_target_as = blood_games_potential_winner_2
		}
	}

	if = {
		limit = {
			any_realm_character = {
				has_character_flag = flag_blood_contender

				NOR = {
					character = event_target:blood_games_potential_winner_1
					character = event_target:blood_games_potential_winner_2
				}
			}
		}

		random_realm_character = { # Third
			limit = {
				has_character_flag = flag_blood_contender

				NOR = {
					character = event_target:blood_games_potential_winner_1
					character = event_target:blood_games_potential_winner_2
				}
			}

			preferred_limit = {
				combat_rating > 200

				OR = {
					is_strong_trigger = yes
					is_smart_trigger = yes
					has_education_martial_trigger = yes
					has_lifestyle_martial_trigger = yes
				}
			}

			preferred_limit = {
				combat_rating >= 200

				NOR = {
					is_weak_trigger = yes
					is_dumb_trigger = yes
				}
			}

			preferred_limit = {
				combat_rating >= 200
			}

			preferred_limit = {
				combat_rating >= 150

				OR = {
					is_strong_trigger = yes
					is_smart_trigger = yes
					has_education_martial_trigger = yes
					has_lifestyle_martial_trigger = yes
				}
			}

			preferred_limit = {
				combat_rating >= 150

				NOR = {
					is_weak_trigger = yes
					is_dumb_trigger = yes
				}
			}

			preferred_limit = {
				combat_rating >= 150
			}

			preferred_limit = {
				combat_rating >= 100

				OR = {
					is_strong_trigger = yes
					is_smart_trigger = yes
					has_education_martial_trigger = yes
					has_lifestyle_martial_trigger = yes
				}
			}

			preferred_limit = {
				combat_rating >= 100

				NOR = {
					is_weak_trigger = yes
					is_dumb_trigger = yes
				}
			}

			preferred_limit = {
				combat_rating >= 100
			}

			preferred_limit = {
				combat_rating >= 50

				OR = {
					is_strong_trigger = yes
					is_smart_trigger = yes
					has_education_martial_trigger = yes
					has_lifestyle_martial_trigger = yes
				}
			}

			preferred_limit = {
				combat_rating >= 50

				NOR = {
					is_weak_trigger = yes
					is_dumb_trigger = yes
				}
			}

			preferred_limit = {
				combat_rating >= 50
			}

			preferred_limit = {
				combat_rating >= 25

				OR = {
					is_strong_trigger = yes
					is_smart_trigger = yes
					has_education_martial_trigger = yes
					has_lifestyle_martial_trigger = yes
				}
			}

			preferred_limit = {
				combat_rating = 25

				NOR = {
					is_weak_trigger = yes
					is_dumb_trigger = yes
				}
			}

			preferred_limit = {
				combat_rating >= 25
			}

			preferred_limit = {
				combat_rating = 10

				OR = {
					is_strong_trigger = yes
					is_smart_trigger = yes
					has_education_martial_trigger = yes
					has_lifestyle_martial_trigger = yes
				}
			}

			preferred_limit = {
				combat_rating >= 10

				NOR = {
					is_weak_trigger = yes
					is_dumb_trigger = yes
				}
			}

			preferred_limit = {
				combat_rating >= 10
			}

			preferred_limit = {
				combat_rating >= 0

				OR = {
					is_strong_trigger = yes
					is_smart_trigger = yes
					has_education_martial_trigger = yes
					has_lifestyle_martial_trigger = yes
				}
			}

			preferred_limit = {
				combat_rating >= 0

				NOR = {
					is_weak_trigger = yes
					is_dumb_trigger = yes
				}
			}

			preferred_limit = {
				combat_rating >= 0
			}

			preferred_limit = {
				trait = brave
			}

			preferred_limit = {
				NOT = { trait = craven }
			}

			save_event_target_as = blood_games_potential_winner_3
		}
	}

	if = {
		limit = {
			any_realm_character = {
				has_character_flag = flag_blood_contender

				NOR = {
					character = event_target:blood_games_potential_winner_1
					character = event_target:blood_games_potential_winner_2
					character = event_target:blood_games_potential_winner_3
				}
			}
		}

		random_realm_character = { # Fourth
			limit = {
				has_character_flag = flag_blood_contender

				NOR = {
					character = event_target:blood_games_potential_winner_1
					character = event_target:blood_games_potential_winner_2
					character = event_target:blood_games_potential_winner_3
				}
			}

			preferred_limit = {
				combat_rating > 200

				OR = {
					is_strong_trigger = yes
					is_smart_trigger = yes
					has_education_martial_trigger = yes
					has_lifestyle_martial_trigger = yes
				}
			}

			preferred_limit = {
				combat_rating >= 200

				NOR = {
					is_weak_trigger = yes
					is_dumb_trigger = yes
				}
			}

			preferred_limit = {
				combat_rating >= 200
			}

			preferred_limit = {
				combat_rating >= 150

				OR = {
					is_strong_trigger = yes
					is_smart_trigger = yes
					has_education_martial_trigger = yes
					has_lifestyle_martial_trigger = yes
				}
			}

			preferred_limit = {
				combat_rating >= 150

				NOR = {
					is_weak_trigger = yes
					is_dumb_trigger = yes
				}
			}

			preferred_limit = {
				combat_rating >= 150
			}

			preferred_limit = {
				combat_rating >= 100

				OR = {
					is_strong_trigger = yes
					is_smart_trigger = yes
					has_education_martial_trigger = yes
					has_lifestyle_martial_trigger = yes
				}
			}

			preferred_limit = {
				combat_rating >= 100

				NOR = {
					is_weak_trigger = yes
					is_dumb_trigger = yes
				}
			}

			preferred_limit = {
				combat_rating >= 100
			}

			preferred_limit = {
				combat_rating >= 50

				OR = {
					is_strong_trigger = yes
					is_smart_trigger = yes
					has_education_martial_trigger = yes
					has_lifestyle_martial_trigger = yes
				}
			}

			preferred_limit = {
				combat_rating >= 50

				NOR = {
					is_weak_trigger = yes
					is_dumb_trigger = yes
				}
			}

			preferred_limit = {
				combat_rating >= 50
			}

			preferred_limit = {
				combat_rating >= 25

				OR = {
					is_strong_trigger = yes
					is_smart_trigger = yes
					has_education_martial_trigger = yes
					has_lifestyle_martial_trigger = yes
				}
			}

			preferred_limit = {
				combat_rating = 25

				NOR = {
					is_weak_trigger = yes
					is_dumb_trigger = yes
				}
			}

			preferred_limit = {
				combat_rating >= 25
			}

			preferred_limit = {
				combat_rating = 10

				OR = {
					is_strong_trigger = yes
					is_smart_trigger = yes
					has_education_martial_trigger = yes
					has_lifestyle_martial_trigger = yes
				}
			}

			preferred_limit = {
				combat_rating >= 10

				NOR = {
					is_weak_trigger = yes
					is_dumb_trigger = yes
				}
			}

			preferred_limit = {
				combat_rating >= 10
			}

			preferred_limit = {
				combat_rating >= 0

				OR = {
					is_strong_trigger = yes
					is_smart_trigger = yes
					has_education_martial_trigger = yes
					has_lifestyle_martial_trigger = yes
				}
			}

			preferred_limit = {
				combat_rating >= 0

				NOR = {
					is_weak_trigger = yes
					is_dumb_trigger = yes
				}
			}

			preferred_limit = {
				combat_rating >= 0
			}

			preferred_limit = {
				trait = brave
			}

			preferred_limit = {
				NOT = { trait = craven }
			}

			save_event_target_as = blood_games_potential_winner_4
		}
	}
	if = {
		limit = {
			any_realm_character = {
				has_character_flag = flag_blood_contender

				NOR = {
					character = event_target:blood_games_potential_winner_1
					character = event_target:blood_games_potential_winner_2
					character = event_target:blood_games_potential_winner_3
					character = event_target:blood_games_potential_winner_4
				}
			}
		}

		random_realm_character = { # Fifth
			limit = {
				has_character_flag = flag_blood_contender

				NOR = {
					character = event_target:blood_games_potential_winner_1
					character = event_target:blood_games_potential_winner_2
					character = event_target:blood_games_potential_winner_3
					character = event_target:blood_games_potential_winner_4
				}
			}

			preferred_limit = {
				combat_rating > 200

				OR = {
					is_strong_trigger = yes
					is_smart_trigger = yes
					has_education_martial_trigger = yes
					has_lifestyle_martial_trigger = yes
				}
			}

			preferred_limit = {
				combat_rating >= 200

				NOR = {
					is_weak_trigger = yes
					is_dumb_trigger = yes
				}
			}

			preferred_limit = {
				combat_rating >= 200
			}

			preferred_limit = {
				combat_rating >= 150

				OR = {
					is_strong_trigger = yes
					is_smart_trigger = yes
					has_education_martial_trigger = yes
					has_lifestyle_martial_trigger = yes
				}
			}

			preferred_limit = {
				combat_rating >= 150

				NOR = {
					is_weak_trigger = yes
					is_dumb_trigger = yes
				}
			}

			preferred_limit = {
				combat_rating >= 150
			}

			preferred_limit = {
				combat_rating >= 100

				OR = {
					is_strong_trigger = yes
					is_smart_trigger = yes
					has_education_martial_trigger = yes
					has_lifestyle_martial_trigger = yes
				}
			}

			preferred_limit = {
				combat_rating >= 100

				NOR = {
					is_weak_trigger = yes
					is_dumb_trigger = yes
				}
			}

			preferred_limit = {
				combat_rating >= 100
			}

			preferred_limit = {
				combat_rating >= 50

				OR = {
					is_strong_trigger = yes
					is_smart_trigger = yes
					has_education_martial_trigger = yes
					has_lifestyle_martial_trigger = yes
				}
			}

			preferred_limit = {
				combat_rating >= 50

				NOR = {
					is_weak_trigger = yes
					is_dumb_trigger = yes
				}
			}

			preferred_limit = {
				combat_rating >= 50
			}

			preferred_limit = {
				combat_rating >= 25

				OR = {
					is_strong_trigger = yes
					is_smart_trigger = yes
					has_education_martial_trigger = yes
					has_lifestyle_martial_trigger = yes
				}
			}

			preferred_limit = {
				combat_rating = 25

				NOR = {
					is_weak_trigger = yes
					is_dumb_trigger = yes
				}
			}

			preferred_limit = {
				combat_rating >= 25
			}

			preferred_limit = {
				combat_rating = 10

				OR = {
					is_strong_trigger = yes
					is_smart_trigger = yes
					has_education_martial_trigger = yes
					has_lifestyle_martial_trigger = yes
				}
			}

			preferred_limit = {
				combat_rating >= 10

				NOR = {
					is_weak_trigger = yes
					is_dumb_trigger = yes
				}
			}

			preferred_limit = {
				combat_rating >= 10
			}

			preferred_limit = {
				combat_rating >= 0

				OR = {
					is_strong_trigger = yes
					is_smart_trigger = yes
					has_education_martial_trigger = yes
					has_lifestyle_martial_trigger = yes
				}
			}

			preferred_limit = {
				combat_rating >= 0

				NOR = {
					is_weak_trigger = yes
					is_dumb_trigger = yes
				}
			}

			preferred_limit = {
				combat_rating >= 0
			}

			preferred_limit = {
				trait = brave
			}

			preferred_limit = {
				NOT = { trait = craven }
			}

			save_event_target_as = blood_games_potential_winner_5
		}
	}
}

pick_blood_games_winner_effect = {
	random_list = {
		25 = {
			trigger = {
				event_target:blood_games_potential_winner_1 = { is_alive = yes }
			}

			event_target:blood_games_potential_winner_1 = {
				character_event = { id = HF.23455 } # Winner of the tournament
			}

			mult_modifier = {
				factor = 0.1 # The difference in skill compared to the other fighters is too much
				OR = {
					event_target:blood_games_potential_winner_2 = { combat_rating_diff = { who = event_target:blood_games_potential_winner_1 value >= 40 } }
					event_target:blood_games_potential_winner_3 = { combat_rating_diff = { who = event_target:blood_games_potential_winner_1 value >= 40 } }
					event_target:blood_games_potential_winner_4 = { combat_rating_diff = { who = event_target:blood_games_potential_winner_1 value >= 40 } }
					event_target:blood_games_potential_winner_5 = { combat_rating_diff = { who = event_target:blood_games_potential_winner_1 value >= 40 } }
				}
			}

			mult_modifier = {
				factor = 0.75
				event_target:blood_games_potential_winner_2 = {
					combat_rating_diff = { who = event_target:blood_games_potential_winner_1 value >= 10 }
				}
			}

			mult_modifier = {
				factor = 0.75
				event_target:blood_games_potential_winner_3 = {
					combat_rating_diff = { who = event_target:blood_games_potential_winner_1 value >= 10 }
				}
			}

			mult_modifier = {
				factor = 0.75
				event_target:blood_games_potential_winner_4 = {
					combat_rating_diff = { who = event_target:blood_games_potential_winner_1 value >= 10 }
				}
			}

			mult_modifier = {
				factor = 0.75
				event_target:blood_games_potential_winner_5 = {
					combat_rating_diff = { who = event_target:blood_games_potential_winner_1 value >= 10 }
				}
			}

			mult_modifier = {
				factor = 0.75
				event_target:blood_games_potential_winner_2 = {
					combat_rating_diff = { who = event_target:blood_games_potential_winner_1 value >= 20 }
				}
			}

			mult_modifier = {
				factor = 0.75
				event_target:blood_games_potential_winner_3 = {
					combat_rating_diff = { who = event_target:blood_games_potential_winner_1 value >= 20 }
				}
			}

			mult_modifier = {
				factor = 0.75
				event_target:blood_games_potential_winner_4 = {
					combat_rating_diff = { who = event_target:blood_games_potential_winner_1 value >= 20 }
				}
			}

			mult_modifier = {
				factor = 0.75
				event_target:blood_games_potential_winner_5 = {
					combat_rating_diff = { who = event_target:blood_games_potential_winner_1 value >= 20 }
				}
			}

			mult_modifier = {
				factor = 0.75
				event_target:blood_games_potential_winner_2 = {
					combat_rating_diff = { who = event_target:blood_games_potential_winner_1 value >= 30 }
				}
			}

			mult_modifier = {
				factor = 0.75
				event_target:blood_games_potential_winner_3 = {
					combat_rating_diff = { who = event_target:blood_games_potential_winner_1 value >= 30 }
				}
			}

			mult_modifier = {
				factor = 0.75
				event_target:blood_games_potential_winner_4 = {
					combat_rating_diff = { who = event_target:blood_games_potential_winner_1 value >= 30 }
				}
			}

			mult_modifier = {
				factor = 0.75
				event_target:blood_games_potential_winner_5 = {
					combat_rating_diff = { who = event_target:blood_games_potential_winner_1 value >= 30 }
				}
			}

			mult_modifier = {
				factor = 1.5
				event_target:blood_games_potential_winner_1 = {
					combat_rating_diff = { who = event_target:blood_games_potential_winner_2 value >= 5 }
					combat_rating_diff = { who = event_target:blood_games_potential_winner_3 value >= 5 }
					combat_rating_diff = { who = event_target:blood_games_potential_winner_4 value >= 5 }
					combat_rating_diff = { who = event_target:blood_games_potential_winner_5 value >= 5 }
				}
			}

			mult_modifier = {
				factor = 1.5
				event_target:blood_games_potential_winner_1 = {
					combat_rating_diff = { who = event_target:blood_games_potential_winner_2 value >= 10 }
					combat_rating_diff = { who = event_target:blood_games_potential_winner_3 value >= 10 }
					combat_rating_diff = { who = event_target:blood_games_potential_winner_4 value >= 10 }
					combat_rating_diff = { who = event_target:blood_games_potential_winner_5 value >= 10 }
				}
			}

			mult_modifier = {
				factor = 1.5
				event_target:blood_games_potential_winner_1 = {
					combat_rating_diff = { who = event_target:blood_games_potential_winner_2 value >= 15 }
					combat_rating_diff = { who = event_target:blood_games_potential_winner_3 value >= 15 }
					combat_rating_diff = { who = event_target:blood_games_potential_winner_4 value >= 15 }
					combat_rating_diff = { who = event_target:blood_games_potential_winner_5 value >= 15 }
				}
			}

			mult_modifier = {
				factor = 1.5
				event_target:blood_games_potential_winner_1 = {
					combat_rating_diff = { who = event_target:blood_games_potential_winner_2 value >= 20 }
					combat_rating_diff = { who = event_target:blood_games_potential_winner_3 value >= 20 }
					combat_rating_diff = { who = event_target:blood_games_potential_winner_4 value >= 20 }
					combat_rating_diff = { who = event_target:blood_games_potential_winner_5 value >= 20 }
				}
			}

			mult_modifier = {
				factor = 1.5
				event_target:blood_games_potential_winner_1 = {
					combat_rating_diff = { who = event_target:blood_games_potential_winner_2 value >= 30 }
					combat_rating_diff = { who = event_target:blood_games_potential_winner_3 value >= 30 }
					combat_rating_diff = { who = event_target:blood_games_potential_winner_4 value >= 30 }
					combat_rating_diff = { who = event_target:blood_games_potential_winner_5 value >= 30 }
				}
			}

			mult_modifier = {
				factor = 1.5
				event_target:blood_games_potential_winner_1 = {
					combat_rating_diff = { who = event_target:blood_games_potential_winner_2 value >= 40 }
					combat_rating_diff = { who = event_target:blood_games_potential_winner_3 value >= 40 }
					combat_rating_diff = { who = event_target:blood_games_potential_winner_4 value >= 40 }
					combat_rating_diff = { who = event_target:blood_games_potential_winner_5 value >= 40 }
				}
			}

			mult_modifier = {
				factor = 1.5
				event_target:blood_games_potential_winner_1 = {
					combat_rating_diff = { who = event_target:blood_games_potential_winner_2 value >= 50 }
					combat_rating_diff = { who = event_target:blood_games_potential_winner_3 value >= 50 }
					combat_rating_diff = { who = event_target:blood_games_potential_winner_4 value >= 50 }
					combat_rating_diff = { who = event_target:blood_games_potential_winner_5 value >= 50 }
				}
			}

			mult_modifier = {
				factor = 1.75
				event_target:blood_games_potential_winner_1 = {
					combat_rating_diff = { who = event_target:blood_games_potential_winner_2 value >= 60 }
					combat_rating_diff = { who = event_target:blood_games_potential_winner_3 value >= 60 }
					combat_rating_diff = { who = event_target:blood_games_potential_winner_4 value >= 60 }
					combat_rating_diff = { who = event_target:blood_games_potential_winner_5 value >= 60 }
				}
			}

			mult_modifier = {
				factor = 1.75
				event_target:blood_games_potential_winner_1 = {
					combat_rating_diff = { who = event_target:blood_games_potential_winner_2 value >= 70 }
					combat_rating_diff = { who = event_target:blood_games_potential_winner_3 value >= 70 }
					combat_rating_diff = { who = event_target:blood_games_potential_winner_4 value >= 70 }
					combat_rating_diff = { who = event_target:blood_games_potential_winner_5 value >= 70 }
				}
			}

			mult_modifier = {
				factor = 1.5
				event_target:blood_games_potential_winner_1 = { trait = duelist }
			}

			mult_modifier = {
				factor = 1.25
				event_target:blood_games_potential_winner_1 = { trait = brave }
			}

			mult_modifier = {
				factor = 1.25
				event_target:blood_games_potential_winner_1 = { trait = strong }
			}

			mult_modifier = {
				factor = 1.05
				event_target:blood_games_potential_winner_1 = { trait = brawny }
			}

			mult_modifier = {
				factor = 1.05
				event_target:blood_games_potential_winner_1 = { trait = genius }
			}

			mult_modifier = {
				factor = 1.05
				event_target:blood_games_potential_winner_1 = { trait = quick }
			}

			mult_modifier = {
				factor = 1.05
				event_target:blood_games_potential_winner_1 = { trait = berserker }
			}

			mult_modifier = {
				factor = 0.95
				event_target:blood_games_potential_winner_1 = { trait = craven }
			}

			mult_modifier = {
				factor = 0.95
				event_target:blood_games_potential_winner_1 = { trait = weak }
			}

			mult_modifier = {
				factor = 0.95
				event_target:blood_games_potential_winner_1 = { trait = frail }
			}

			mult_modifier = {
				factor = 0.75
				event_target:blood_games_potential_winner_1 = { trait = mangled }
			}

			mult_modifier = {
				factor = 0.95
				event_target:blood_games_potential_winner_1 = { trait = infirm }
			}

			mult_modifier = {
				factor = 0.25
				event_target:blood_games_potential_winner_1 = { is_incapable = yes }
			}

			mult_modifier = {
				factor = 0.95
				event_target:blood_games_potential_winner_1 = { trait = wounded }
			}

			mult_modifier = {
				factor = 1.05
				event_target:blood_games_potential_winner_1 = { has_character_modifier = gladiatorial_equipment }
			}

			mult_modifier = {
				factor = 1.15
				event_target:blood_games_potential_winner_1 = { has_character_modifier = poisoned_weapons }
			}

			mult_modifier = {
				factor = 1.25
				event_target:blood_games_potential_winner_1 = { has_character_modifier = fearless_potion }
			}
		}

		25 = {
			trigger = {
				event_target:blood_games_potential_winner_2 = { is_alive = yes }
			}

			event_target:blood_games_potential_winner_2 = {
				character_event = { id = HF.23455 } # Winner of the tournament
			}

			mult_modifier = {
				factor = 0.1 #The difference in skill compared to the other fighters is too much.
				OR = {
					event_target:blood_games_potential_winner_1 = { combat_rating_diff = { who = event_target:blood_games_potential_winner_2 value >= 40 } }
					event_target:blood_games_potential_winner_3 = { combat_rating_diff = { who = event_target:blood_games_potential_winner_2 value >= 40 } }
					event_target:blood_games_potential_winner_4 = { combat_rating_diff = { who = event_target:blood_games_potential_winner_2 value >= 40 } }
					event_target:blood_games_potential_winner_5 = { combat_rating_diff = { who = event_target:blood_games_potential_winner_2 value >= 40 } }
				}
			}

			mult_modifier = {
				factor = 0.75
				event_target:blood_games_potential_winner_1 = {
					combat_rating_diff = { who = event_target:blood_games_potential_winner_2 value >= 10 }
				}
			}

			mult_modifier = {
				factor = 0.75
				event_target:blood_games_potential_winner_3 = {
					combat_rating_diff = { who = event_target:blood_games_potential_winner_2 value >= 10 }
				}
			}

			mult_modifier = {
				factor = 0.75
				event_target:blood_games_potential_winner_4 = {
					combat_rating_diff = { who = event_target:blood_games_potential_winner_2 value >= 10 }
				}
			}

			mult_modifier = {
				factor = 0.75
				event_target:blood_games_potential_winner_5 = {
					combat_rating_diff = { who = event_target:blood_games_potential_winner_2 value >= 10 }
				}
			}

			mult_modifier = {
				factor = 0.75
				event_target:blood_games_potential_winner_1 = {
					combat_rating_diff = { who = event_target:blood_games_potential_winner_2 value >= 20 }
				}
			}

			mult_modifier = {
				factor = 0.75
				event_target:blood_games_potential_winner_3 = {
					combat_rating_diff = { who = event_target:blood_games_potential_winner_2 value >= 20 }
				}
			}

			mult_modifier = {
				factor = 0.75
				event_target:blood_games_potential_winner_4 = {
					combat_rating_diff = { who = event_target:blood_games_potential_winner_2 value >= 20 }
				}
			}

			mult_modifier = {
				factor = 0.75
				event_target:blood_games_potential_winner_5 = {
					combat_rating_diff = { who = event_target:blood_games_potential_winner_2 value >= 20 }
				}
			}

			mult_modifier = {
				factor = 0.75
				event_target:blood_games_potential_winner_1 = {
					combat_rating_diff = { who = event_target:blood_games_potential_winner_2 value >= 30 }
				}
			}

			mult_modifier = {
				factor = 0.75
				event_target:blood_games_potential_winner_3 = {
					combat_rating_diff = { who = event_target:blood_games_potential_winner_2 value >= 30 }
				}
			}

			mult_modifier = {
				factor = 0.75
				event_target:blood_games_potential_winner_4 = {
					combat_rating_diff = { who = event_target:blood_games_potential_winner_2 value >= 30 }
				}
			}

			mult_modifier = {
				factor = 0.75
				event_target:blood_games_potential_winner_5 = {
					combat_rating_diff = { who = event_target:blood_games_potential_winner_2 value >= 30 }
				}
			}

			mult_modifier = {
				factor = 1.5
				event_target:blood_games_potential_winner_2 = {
					combat_rating_diff = { who = event_target:blood_games_potential_winner_1 value >= 5 }
					combat_rating_diff = { who = event_target:blood_games_potential_winner_3 value >= 5 }
					combat_rating_diff = { who = event_target:blood_games_potential_winner_4 value >= 5 }
					combat_rating_diff = { who = event_target:blood_games_potential_winner_5 value >= 5 }
				}
			}

			mult_modifier = {
				factor = 1.5
				event_target:blood_games_potential_winner_2 = {
					combat_rating_diff = { who = event_target:blood_games_potential_winner_1 value >= 10 }
					combat_rating_diff = { who = event_target:blood_games_potential_winner_3 value >= 10 }
					combat_rating_diff = { who = event_target:blood_games_potential_winner_4 value >= 10 }
					combat_rating_diff = { who = event_target:blood_games_potential_winner_5 value >= 10 }
				}
			}

			mult_modifier = {
				factor = 1.5
				event_target:blood_games_potential_winner_2 = {
					combat_rating_diff = { who = event_target:blood_games_potential_winner_1 value >= 15 }
					combat_rating_diff = { who = event_target:blood_games_potential_winner_3 value >= 15 }
					combat_rating_diff = { who = event_target:blood_games_potential_winner_4 value >= 15 }
					combat_rating_diff = { who = event_target:blood_games_potential_winner_5 value >= 15 }
				}
			}

			mult_modifier = {
				factor = 1.5
				event_target:blood_games_potential_winner_2 = {
					combat_rating_diff = { who = event_target:blood_games_potential_winner_1 value >= 20 }
					combat_rating_diff = { who = event_target:blood_games_potential_winner_3 value >= 20 }
					combat_rating_diff = { who = event_target:blood_games_potential_winner_4 value >= 20 }
					combat_rating_diff = { who = event_target:blood_games_potential_winner_5 value >= 20 }
				}
			}

			mult_modifier = {
				factor = 1.5
				event_target:blood_games_potential_winner_2 = {
					combat_rating_diff = { who = event_target:blood_games_potential_winner_1 value >= 30 }
					combat_rating_diff = { who = event_target:blood_games_potential_winner_3 value >= 30 }
					combat_rating_diff = { who = event_target:blood_games_potential_winner_4 value >= 30 }
					combat_rating_diff = { who = event_target:blood_games_potential_winner_5 value >= 30 }
				}
			}

			mult_modifier = {
				factor = 1.5
				event_target:blood_games_potential_winner_2 = {
					combat_rating_diff = { who = event_target:blood_games_potential_winner_1 value >= 40 }
					combat_rating_diff = { who = event_target:blood_games_potential_winner_3 value >= 40 }
					combat_rating_diff = { who = event_target:blood_games_potential_winner_4 value >= 40 }
					combat_rating_diff = { who = event_target:blood_games_potential_winner_5 value >= 40 }
				}
			}

			mult_modifier = {
				factor = 1.5
				event_target:blood_games_potential_winner_2 = {
					combat_rating_diff = { who = event_target:blood_games_potential_winner_1 value >= 50 }
					combat_rating_diff = { who = event_target:blood_games_potential_winner_3 value >= 50 }
					combat_rating_diff = { who = event_target:blood_games_potential_winner_4 value >= 50 }
					combat_rating_diff = { who = event_target:blood_games_potential_winner_5 value >= 50 }
				}
			}

			mult_modifier = {
				factor = 1.75
				event_target:blood_games_potential_winner_2 = {
					combat_rating_diff = { who = event_target:blood_games_potential_winner_1 value >= 60 }
					combat_rating_diff = { who = event_target:blood_games_potential_winner_3 value >= 60 }
					combat_rating_diff = { who = event_target:blood_games_potential_winner_4 value >= 60 }
					combat_rating_diff = { who = event_target:blood_games_potential_winner_5 value >= 60 }
				}
			}

			mult_modifier = {
				factor = 1.75
				event_target:blood_games_potential_winner_2 = {
					combat_rating_diff = { who = event_target:blood_games_potential_winner_1 value >= 70 }
					combat_rating_diff = { who = event_target:blood_games_potential_winner_3 value >= 70 }
					combat_rating_diff = { who = event_target:blood_games_potential_winner_4 value >= 70 }
					combat_rating_diff = { who = event_target:blood_games_potential_winner_5 value >= 70 }
				}
			}

			mult_modifier = {
				factor = 1.5
				event_target:blood_games_potential_winner_2 = { trait = duelist }
			}

			mult_modifier = {
				factor = 1.25
				event_target:blood_games_potential_winner_2 = { trait = brave }
			}

			mult_modifier = {
				factor = 1.25
				event_target:blood_games_potential_winner_2 = { trait = strong }
			}

			mult_modifier = {
				factor = 1.05
				event_target:blood_games_potential_winner_2 = { trait = brawny }
			}

			mult_modifier = {
				factor = 1.05
				event_target:blood_games_potential_winner_2 = { trait = genius }
			}

			mult_modifier = {
				factor = 1.05
				event_target:blood_games_potential_winner_2 = { trait = quick }
			}

			mult_modifier = {
				factor = 1.05
				event_target:blood_games_potential_winner_2 = { trait = berserker }
			}

			mult_modifier = {
				factor = 0.95
				event_target:blood_games_potential_winner_2 = { trait = craven }
			}

			mult_modifier = {
				factor = 0.95
				event_target:blood_games_potential_winner_2 = { trait = weak }
			}

			mult_modifier = {
				factor = 0.95
				event_target:blood_games_potential_winner_2 = { trait = frail }
			}

			mult_modifier = {
				factor = 0.75
				event_target:blood_games_potential_winner_2 = { trait = mangled }
			}

			mult_modifier = {
				factor = 0.95
				event_target:blood_games_potential_winner_2 = { trait = infirm }
			}

			mult_modifier = {
				factor = 0.25
				event_target:blood_games_potential_winner_2 = { is_incapable = yes }
			}

			mult_modifier = {
				factor = 0.95
				event_target:blood_games_potential_winner_2 = { trait = wounded }
			}

			mult_modifier = {
				factor = 1.05
				event_target:blood_games_potential_winner_2 = { has_character_modifier = gladiatorial_equipment }
			}

			mult_modifier = {
				factor = 1.15
				event_target:blood_games_potential_winner_2 = { has_character_modifier = poisoned_weapons }
			}

			mult_modifier = {
				factor = 1.25
				event_target:blood_games_potential_winner_2 = { has_character_modifier = fearless_potion }
			}
		}

		25 = {
			trigger = {
				event_target:blood_games_potential_winner_3 = { is_alive = yes }
			}

			event_target:blood_games_potential_winner_3 = {
				character_event = { id = HF.23455 } # Winner of the tournament
			}

			mult_modifier = {
				factor = 0.1 # The difference in skill compared to the other fighters is too much
				OR = {
					event_target:blood_games_potential_winner_2 = { combat_rating_diff = { who = event_target:blood_games_potential_winner_3 value >= 40 } }
					event_target:blood_games_potential_winner_1 = { combat_rating_diff = { who = event_target:blood_games_potential_winner_3 value >= 40 } }
					event_target:blood_games_potential_winner_4 = { combat_rating_diff = { who = event_target:blood_games_potential_winner_3 value >= 40 } }
					event_target:blood_games_potential_winner_5 = { combat_rating_diff = { who = event_target:blood_games_potential_winner_3 value >= 40 } }
				}
			}

			mult_modifier = {
				factor = 0.75
				event_target:blood_games_potential_winner_2 = {
					combat_rating_diff = { who = event_target:blood_games_potential_winner_3 value >= 10 }
				}
			}

			mult_modifier = {
				factor = 0.75
				event_target:blood_games_potential_winner_1 = {
					combat_rating_diff = { who = event_target:blood_games_potential_winner_3 value >= 10 }
				}
			}

			mult_modifier = {
				factor = 0.75
				event_target:blood_games_potential_winner_4 = {
					combat_rating_diff = { who = event_target:blood_games_potential_winner_3 value >= 10 }
				}
			}

			mult_modifier = {
				factor = 0.75
				event_target:blood_games_potential_winner_5 = {
					combat_rating_diff = { who = event_target:blood_games_potential_winner_3 value >= 10 }
				}
			}

			mult_modifier = {
				factor = 0.75
				event_target:blood_games_potential_winner_2 = {
					combat_rating_diff = { who = event_target:blood_games_potential_winner_3 value >= 20 }
				}
			}

			mult_modifier = {
				factor = 0.75
				event_target:blood_games_potential_winner_1 = {
					combat_rating_diff = { who = event_target:blood_games_potential_winner_3 value >= 20 }
				}
			}

			mult_modifier = {
				factor = 0.75
				event_target:blood_games_potential_winner_4 = {
					combat_rating_diff = { who = event_target:blood_games_potential_winner_3 value >= 20 }
				}
			}

			mult_modifier = {
				factor = 0.75
				event_target:blood_games_potential_winner_5 = {
					combat_rating_diff = { who = event_target:blood_games_potential_winner_3 value >= 20 }
				}
			}

			mult_modifier = {
				factor = 0.75
				event_target:blood_games_potential_winner_2 = {
					combat_rating_diff = { who = event_target:blood_games_potential_winner_3 value >= 30 }
				}
			}

			mult_modifier = {
				factor = 0.75
				event_target:blood_games_potential_winner_1 = {
					combat_rating_diff = { who = event_target:blood_games_potential_winner_3 value >= 30 }
				}
			}

			mult_modifier = {
				factor = 0.75
				event_target:blood_games_potential_winner_4 = {
					combat_rating_diff = { who = event_target:blood_games_potential_winner_3 value >= 30 }
				}
			}

			mult_modifier = {
				factor = 0.75
				event_target:blood_games_potential_winner_5 = {
					combat_rating_diff = { who = event_target:blood_games_potential_winner_3 value >= 30 }
				}
			}

			mult_modifier = {
				factor = 1.5
				event_target:blood_games_potential_winner_3 = {
					combat_rating_diff = { who = event_target:blood_games_potential_winner_1 value >= 5 }
					combat_rating_diff = { who = event_target:blood_games_potential_winner_2 value >= 5 }
					combat_rating_diff = { who = event_target:blood_games_potential_winner_4 value >= 5 }
					combat_rating_diff = { who = event_target:blood_games_potential_winner_5 value >= 5 }
				}
			}

			mult_modifier = {
				factor = 1.5
				event_target:blood_games_potential_winner_3 = {
					combat_rating_diff = { who = event_target:blood_games_potential_winner_1 value >= 10 }
					combat_rating_diff = { who = event_target:blood_games_potential_winner_2 value >= 10 }
					combat_rating_diff = { who = event_target:blood_games_potential_winner_4 value >= 10 }
					combat_rating_diff = { who = event_target:blood_games_potential_winner_5 value >= 10 }
				}
			}

			mult_modifier = {
				factor = 1.5
				event_target:blood_games_potential_winner_3 = {
					combat_rating_diff = { who = event_target:blood_games_potential_winner_1 value >= 15 }
					combat_rating_diff = { who = event_target:blood_games_potential_winner_2 value >= 15 }
					combat_rating_diff = { who = event_target:blood_games_potential_winner_4 value >= 15 }
					combat_rating_diff = { who = event_target:blood_games_potential_winner_5 value >= 15 }
				}
			}

			mult_modifier = {
				factor = 1.5
				event_target:blood_games_potential_winner_3 = {
					combat_rating_diff = { who = event_target:blood_games_potential_winner_1 value >= 20 }
					combat_rating_diff = { who = event_target:blood_games_potential_winner_2 value >= 20 }
					combat_rating_diff = { who = event_target:blood_games_potential_winner_4 value >= 20 }
					combat_rating_diff = { who = event_target:blood_games_potential_winner_5 value >= 20 }
				}
			}

			mult_modifier = {
				factor = 1.5
				event_target:blood_games_potential_winner_3 = {
					combat_rating_diff = { who = event_target:blood_games_potential_winner_1 value >= 30 }
					combat_rating_diff = { who = event_target:blood_games_potential_winner_2 value >= 30 }
					combat_rating_diff = { who = event_target:blood_games_potential_winner_4 value >= 30 }
					combat_rating_diff = { who = event_target:blood_games_potential_winner_5 value >= 30 }
				}
			}

			mult_modifier = {
				factor = 1.5
				event_target:blood_games_potential_winner_3 = {
					combat_rating_diff = { who = event_target:blood_games_potential_winner_1 value >= 40 }
					combat_rating_diff = { who = event_target:blood_games_potential_winner_2 value >= 40 }
					combat_rating_diff = { who = event_target:blood_games_potential_winner_4 value >= 40 }
					combat_rating_diff = { who = event_target:blood_games_potential_winner_5 value >= 40 }
				}
			}

			mult_modifier = {
				factor = 1.5
				event_target:blood_games_potential_winner_3 = {
					combat_rating_diff = { who = event_target:blood_games_potential_winner_1 value >= 50 }
					combat_rating_diff = { who = event_target:blood_games_potential_winner_2 value >= 50 }
					combat_rating_diff = { who = event_target:blood_games_potential_winner_4 value >= 50 }
					combat_rating_diff = { who = event_target:blood_games_potential_winner_5 value >= 50 }
				}
			}

			mult_modifier = {
				factor = 1.75
				event_target:blood_games_potential_winner_3 = {
					combat_rating_diff = { who = event_target:blood_games_potential_winner_1 value >= 60 }
					combat_rating_diff = { who = event_target:blood_games_potential_winner_2 value >= 60 }
					combat_rating_diff = { who = event_target:blood_games_potential_winner_4 value >= 60 }
					combat_rating_diff = { who = event_target:blood_games_potential_winner_5 value >= 60 }
				}
			}

			mult_modifier = {
				factor = 1.75
				event_target:blood_games_potential_winner_3 = {
					combat_rating_diff = { who = event_target:blood_games_potential_winner_1 value >= 70 }
					combat_rating_diff = { who = event_target:blood_games_potential_winner_2 value >= 70 }
					combat_rating_diff = { who = event_target:blood_games_potential_winner_4 value >= 70 }
					combat_rating_diff = { who = event_target:blood_games_potential_winner_5 value >= 70 }
				}
			}

			mult_modifier = {
				factor = 1.5
				event_target:blood_games_potential_winner_3 = { trait = duelist }
			}

			mult_modifier = {
				factor = 1.25
				event_target:blood_games_potential_winner_3 = { trait = brave }
			}

			mult_modifier = {
				factor = 1.25
				event_target:blood_games_potential_winner_3 = { trait = strong }
			}

			mult_modifier = {
				factor = 1.05
				event_target:blood_games_potential_winner_3 = { trait = brawny }
			}

			mult_modifier = {
				factor = 1.05
				event_target:blood_games_potential_winner_3 = { trait = genius }
			}

			mult_modifier = {
				factor = 1.05
				event_target:blood_games_potential_winner_3 = { trait = quick }
			}

			mult_modifier = {
				factor = 1.05
				event_target:blood_games_potential_winner_3 = { trait = berserker }
			}

			mult_modifier = {
				factor = 0.95
				event_target:blood_games_potential_winner_3 = { trait = craven }
			}

			mult_modifier = {
				factor = 0.95
				event_target:blood_games_potential_winner_3 = { trait = weak }
			}

			mult_modifier = {
				factor = 0.95
				event_target:blood_games_potential_winner_3 = { trait = frail }
			}

			mult_modifier = {
				factor = 0.75
				event_target:blood_games_potential_winner_3 = { trait = mangled }
			}

			mult_modifier = {
				factor = 0.95
				event_target:blood_games_potential_winner_3 = { trait = infirm }
			}

			mult_modifier = {
				factor = 0.25
				event_target:blood_games_potential_winner_3 = { is_incapable = yes }
			}

			mult_modifier = {
				factor = 0.95
				event_target:blood_games_potential_winner_3 = { trait = wounded }
			}

			mult_modifier = {
				factor = 1.05
				event_target:blood_games_potential_winner_3 = { has_character_modifier = gladiatorial_equipment }
			}

			mult_modifier = {
				factor = 1.15
				event_target:blood_games_potential_winner_3 = { has_character_modifier = poisoned_weapons }
			}

			mult_modifier = {
				factor = 1.25
				event_target:blood_games_potential_winner_3 = { has_character_modifier = fearless_potion }
			}
		}

		25 = {
			trigger = {
				event_target:blood_games_potential_winner_4 = { is_alive = yes }
			}

			event_target:blood_games_potential_winner_4 = {
				character_event = { id = HF.23455 } # Winner of the tournament
			}

			mult_modifier = {
				factor = 0.1 # The difference in skill compared to the other fighters is too much
				OR = {
					event_target:blood_games_potential_winner_2 = { combat_rating_diff = { who = event_target:blood_games_potential_winner_4 value >= 40 } }
					event_target:blood_games_potential_winner_1 = { combat_rating_diff = { who = event_target:blood_games_potential_winner_4 value >= 40 } }
					event_target:blood_games_potential_winner_3 = { combat_rating_diff = { who = event_target:blood_games_potential_winner_4 value >= 40 } }
					event_target:blood_games_potential_winner_5 = { combat_rating_diff = { who = event_target:blood_games_potential_winner_4 value >= 40 } }
				}
			}

			mult_modifier = {
				factor = 0.75
				event_target:blood_games_potential_winner_2 = {
					combat_rating_diff = { who = event_target:blood_games_potential_winner_4 value >= 10 }
				}
			}

			mult_modifier = {
				factor = 0.75
				event_target:blood_games_potential_winner_1 = {
					combat_rating_diff = { who = event_target:blood_games_potential_winner_4 value >= 10 }
				}
			}

			mult_modifier = {
				factor = 0.75
				event_target:blood_games_potential_winner_4 = {
					combat_rating_diff = { who = event_target:blood_games_potential_winner_4 value >= 10 }
				}
			}

			mult_modifier = {
				factor = 0.75
				event_target:blood_games_potential_winner_5 = {
					combat_rating_diff = { who = event_target:blood_games_potential_winner_4 value >= 10 }
				}
			}

			mult_modifier = {
				factor = 0.75
				event_target:blood_games_potential_winner_2 = {
					combat_rating_diff = { who = event_target:blood_games_potential_winner_4 value >= 20 }
				}
			}

			mult_modifier = {
				factor = 0.75
				event_target:blood_games_potential_winner_1 = {
					combat_rating_diff = { who = event_target:blood_games_potential_winner_4 value >= 20 }
				}
			}

			mult_modifier = {
				factor = 0.75
				event_target:blood_games_potential_winner_4 = {
					combat_rating_diff = { who = event_target:blood_games_potential_winner_4 value >= 20 }
				}
			}

			mult_modifier = {
				factor = 0.75
				event_target:blood_games_potential_winner_5 = {
					combat_rating_diff = { who = event_target:blood_games_potential_winner_4 value >= 20 }
				}
			}

			mult_modifier = {
				factor = 0.75
				event_target:blood_games_potential_winner_2 = {
					combat_rating_diff = { who = event_target:blood_games_potential_winner_4 value >= 30 }
				}
			}

			mult_modifier = {
				factor = 0.75
				event_target:blood_games_potential_winner_1 = {
					combat_rating_diff = { who = event_target:blood_games_potential_winner_4 value >= 30 }
				}
			}

			mult_modifier = {
				factor = 0.75
				event_target:blood_games_potential_winner_4 = {
					combat_rating_diff = { who = event_target:blood_games_potential_winner_4 value >= 30 }
				}
			}

			mult_modifier = {
				factor = 0.75
				event_target:blood_games_potential_winner_5 = {
					combat_rating_diff = { who = event_target:blood_games_potential_winner_4 value >= 30 }
				}
			}

			mult_modifier = {
				factor = 1.5
				event_target:blood_games_potential_winner_4 = {
					combat_rating_diff = { who = event_target:blood_games_potential_winner_1 value >= 5 }
					combat_rating_diff = { who = event_target:blood_games_potential_winner_2 value >= 5 }
					combat_rating_diff = { who = event_target:blood_games_potential_winner_3 value >= 5 }
					combat_rating_diff = { who = event_target:blood_games_potential_winner_5 value >= 5 }
				}
			}

			mult_modifier = {
				factor = 1.5
				event_target:blood_games_potential_winner_4 = {
					combat_rating_diff = { who = event_target:blood_games_potential_winner_1 value >= 10 }
					combat_rating_diff = { who = event_target:blood_games_potential_winner_2 value >= 10 }
					combat_rating_diff = { who = event_target:blood_games_potential_winner_3 value >= 10 }
					combat_rating_diff = { who = event_target:blood_games_potential_winner_5 value >= 10 }
				}
			}

			mult_modifier = {
				factor = 1.5
				event_target:blood_games_potential_winner_4 = {
					combat_rating_diff = { who = event_target:blood_games_potential_winner_1 value >= 15 }
					combat_rating_diff = { who = event_target:blood_games_potential_winner_2 value >= 15 }
					combat_rating_diff = { who = event_target:blood_games_potential_winner_3 value >= 15 }
					combat_rating_diff = { who = event_target:blood_games_potential_winner_5 value >= 15 }
				}
			}

			mult_modifier = {
				factor = 1.5
				event_target:blood_games_potential_winner_4 = {
					combat_rating_diff = { who = event_target:blood_games_potential_winner_1 value >= 20 }
					combat_rating_diff = { who = event_target:blood_games_potential_winner_2 value >= 20 }
					combat_rating_diff = { who = event_target:blood_games_potential_winner_3 value >= 20 }
					combat_rating_diff = { who = event_target:blood_games_potential_winner_5 value >= 20 }
				}
			}

			mult_modifier = {
				factor = 1.5
				event_target:blood_games_potential_winner_4 = {
					combat_rating_diff = { who = event_target:blood_games_potential_winner_1 value >= 30 }
					combat_rating_diff = { who = event_target:blood_games_potential_winner_2 value >= 30 }
					combat_rating_diff = { who = event_target:blood_games_potential_winner_3 value >= 30 }
					combat_rating_diff = { who = event_target:blood_games_potential_winner_5 value >= 30 }
				}
			}

			mult_modifier = {
				factor = 1.5
				event_target:blood_games_potential_winner_4 = {
					combat_rating_diff = { who = event_target:blood_games_potential_winner_1 value >= 40 }
					combat_rating_diff = { who = event_target:blood_games_potential_winner_2 value >= 40 }
					combat_rating_diff = { who = event_target:blood_games_potential_winner_3 value >= 40 }
					combat_rating_diff = { who = event_target:blood_games_potential_winner_5 value >= 40 }
				}
			}

			mult_modifier = {
				factor = 1.5
				event_target:blood_games_potential_winner_4 = {
					combat_rating_diff = { who = event_target:blood_games_potential_winner_1 value >= 50 }
					combat_rating_diff = { who = event_target:blood_games_potential_winner_2 value >= 50 }
					combat_rating_diff = { who = event_target:blood_games_potential_winner_3 value >= 50 }
					combat_rating_diff = { who = event_target:blood_games_potential_winner_5 value >= 50 }
				}
			}

			mult_modifier = {
				factor = 1.75
				event_target:blood_games_potential_winner_4 = {
					combat_rating_diff = { who = event_target:blood_games_potential_winner_1 value >= 60 }
					combat_rating_diff = { who = event_target:blood_games_potential_winner_2 value >= 60 }
					combat_rating_diff = { who = event_target:blood_games_potential_winner_3 value >= 60 }
					combat_rating_diff = { who = event_target:blood_games_potential_winner_5 value >= 60 }
				}
			}

			mult_modifier = {
				factor = 1.75
				event_target:blood_games_potential_winner_4 = {
					combat_rating_diff = { who = event_target:blood_games_potential_winner_1 value >= 70 }
					combat_rating_diff = { who = event_target:blood_games_potential_winner_2 value >= 70 }
					combat_rating_diff = { who = event_target:blood_games_potential_winner_3 value >= 70 }
					combat_rating_diff = { who = event_target:blood_games_potential_winner_5 value >= 70 }
				}
			}

			mult_modifier = {
				factor = 1.5
				event_target:blood_games_potential_winner_4 = { trait = duelist }
			}

			mult_modifier = {
				factor = 1.25
				event_target:blood_games_potential_winner_4 = { trait = brave }
			}

			mult_modifier = {
				factor = 1.25
				event_target:blood_games_potential_winner_4 = { trait = strong }
			}

			mult_modifier = {
				factor = 1.05
				event_target:blood_games_potential_winner_4 = { trait = brawny }
			}

			mult_modifier = {
				factor = 1.05
				event_target:blood_games_potential_winner_4 = { trait = genius }
			}

			mult_modifier = {
				factor = 1.05
				event_target:blood_games_potential_winner_4 = { trait = quick }
			}

			mult_modifier = {
				factor = 1.05
				event_target:blood_games_potential_winner_4 = { trait = berserker }
			}

			mult_modifier = {
				factor = 0.95
				event_target:blood_games_potential_winner_4 = { trait = craven }
			}

			mult_modifier = {
				factor = 0.95
				event_target:blood_games_potential_winner_4 = { trait = weak }
			}

			mult_modifier = {
				factor = 0.95
				event_target:blood_games_potential_winner_4 = { trait = frail }
			}

			mult_modifier = {
				factor = 0.75
				event_target:blood_games_potential_winner_4 = { trait = mangled }
			}

			mult_modifier = {
				factor = 0.95
				event_target:blood_games_potential_winner_4 = { trait = infirm }
			}

			mult_modifier = {
				factor = 0.25
				event_target:blood_games_potential_winner_4 = { is_incapable = yes }
			}

			mult_modifier = {
				factor = 0.95
				event_target:blood_games_potential_winner_4 = { trait = wounded }
			}

			mult_modifier = {
				factor = 1.05
				event_target:blood_games_potential_winner_4 = { has_character_modifier = gladiatorial_equipment }
			}

			mult_modifier = {
				factor = 1.15
				event_target:blood_games_potential_winner_4 = { has_character_modifier = poisoned_weapons }
			}

			mult_modifier = {
				factor = 1.25
				event_target:blood_games_potential_winner_4 = { has_character_modifier = fearless_potion }
			}
		}

		25 = {
			trigger = {
				event_target:blood_games_potential_winner_5 = { is_alive = yes }
			}

			event_target:blood_games_potential_winner_5 = {
				character_event = { id = HF.23455 } # Winner of the tournament
			}

			mult_modifier = {
				factor = 0.1 # The difference in skill compared to the other fighters is too much
				OR = {
					event_target:blood_games_potential_winner_1 = { combat_rating_diff = { who = event_target:blood_games_potential_winner_5 value >= 40 } }
					event_target:blood_games_potential_winner_2 = { combat_rating_diff = { who = event_target:blood_games_potential_winner_5 value >= 40 } }
					event_target:blood_games_potential_winner_3 = { combat_rating_diff = { who = event_target:blood_games_potential_winner_5 value >= 40 } }
					event_target:blood_games_potential_winner_4 = { combat_rating_diff = { who = event_target:blood_games_potential_winner_5 value >= 40 } }
				}
			}

			mult_modifier = {
				factor = 0.75
				event_target:blood_games_potential_winner_1 = {
					combat_rating_diff = { who = event_target:blood_games_potential_winner_5 value >= 10 }
				}
			}

			mult_modifier = {
				factor = 0.75
				event_target:blood_games_potential_winner_2 = {
					combat_rating_diff = { who = event_target:blood_games_potential_winner_5 value >= 10 }
				}
			}

			mult_modifier = {
				factor = 0.75
				event_target:blood_games_potential_winner_3 = {
					combat_rating_diff = { who = event_target:blood_games_potential_winner_5 value >= 10 }
				}
			}

			mult_modifier = {
				factor = 0.75
				event_target:blood_games_potential_winner_4 = {
					combat_rating_diff = { who = event_target:blood_games_potential_winner_5 value >= 10 }
				}
			}

			mult_modifier = {
				factor = 0.75
				event_target:blood_games_potential_winner_1 = {
					combat_rating_diff = { who = event_target:blood_games_potential_winner_5 value >= 20 }
				}
			}

			mult_modifier = {
				factor = 0.75
				event_target:blood_games_potential_winner_2 = {
					combat_rating_diff = { who = event_target:blood_games_potential_winner_5 value >= 20 }
				}
			}

			mult_modifier = {
				factor = 0.75
				event_target:blood_games_potential_winner_3 = {
					combat_rating_diff = { who = event_target:blood_games_potential_winner_5 value >= 20 }
				}
			}

			mult_modifier = {
				factor = 0.75
				event_target:blood_games_potential_winner_4 = {
					combat_rating_diff = { who = event_target:blood_games_potential_winner_5 value >= 20 }
				}
			}

			mult_modifier = {
				factor = 0.75
				event_target:blood_games_potential_winner_1 = {
					combat_rating_diff = { who = event_target:blood_games_potential_winner_5 value >= 30 }
				}
			}

			mult_modifier = {
				factor = 0.75
				event_target:blood_games_potential_winner_2 = {
					combat_rating_diff = { who = event_target:blood_games_potential_winner_5 value >= 30 }
				}
			}

			mult_modifier = {
				factor = 0.75
				event_target:blood_games_potential_winner_3 = {
					combat_rating_diff = { who = event_target:blood_games_potential_winner_5 value >= 30 }
				}
			}

			mult_modifier = {
				factor = 0.75
				event_target:blood_games_potential_winner_4 = {
					combat_rating_diff = { who = event_target:blood_games_potential_winner_5 value >= 30 }
				}
			}

			mult_modifier = {
				factor = 1.5
				event_target:blood_games_potential_winner_5 = {
					combat_rating_diff = { who = event_target:blood_games_potential_winner_1 value >= 5 }
					combat_rating_diff = { who = event_target:blood_games_potential_winner_2 value >= 5 }
					combat_rating_diff = { who = event_target:blood_games_potential_winner_3 value >= 5 }
					combat_rating_diff = { who = event_target:blood_games_potential_winner_4 value >= 5 }
				}
			}

			mult_modifier = {
				factor = 1.5
				event_target:blood_games_potential_winner_5 = {
					combat_rating_diff = { who = event_target:blood_games_potential_winner_1 value >= 10 }
					combat_rating_diff = { who = event_target:blood_games_potential_winner_2 value >= 10 }
					combat_rating_diff = { who = event_target:blood_games_potential_winner_3 value >= 10 }
					combat_rating_diff = { who = event_target:blood_games_potential_winner_4 value >= 10 }
				}
			}

			mult_modifier = {
				factor = 1.5
				event_target:blood_games_potential_winner_5 = {
					combat_rating_diff = { who = event_target:blood_games_potential_winner_1 value >= 15 }
					combat_rating_diff = { who = event_target:blood_games_potential_winner_2 value >= 15 }
					combat_rating_diff = { who = event_target:blood_games_potential_winner_3 value >= 15 }
					combat_rating_diff = { who = event_target:blood_games_potential_winner_4 value >= 15 }
				}
			}

			mult_modifier = {
				factor = 1.5
				event_target:blood_games_potential_winner_5 = {
					combat_rating_diff = { who = event_target:blood_games_potential_winner_1 value >= 20 }
					combat_rating_diff = { who = event_target:blood_games_potential_winner_2 value >= 20 }
					combat_rating_diff = { who = event_target:blood_games_potential_winner_3 value >= 20 }
					combat_rating_diff = { who = event_target:blood_games_potential_winner_4 value >= 20 }
				}
			}

			mult_modifier = {
				factor = 1.5
				event_target:blood_games_potential_winner_5 = {
					combat_rating_diff = { who = event_target:blood_games_potential_winner_1 value >= 30 }
					combat_rating_diff = { who = event_target:blood_games_potential_winner_2 value >= 30 }
					combat_rating_diff = { who = event_target:blood_games_potential_winner_3 value >= 30 }
					combat_rating_diff = { who = event_target:blood_games_potential_winner_4 value >= 30 }
				}
			}

			mult_modifier = {
				factor = 1.5
				event_target:blood_games_potential_winner_5 = {
					combat_rating_diff = { who = event_target:blood_games_potential_winner_1 value >= 40 }
					combat_rating_diff = { who = event_target:blood_games_potential_winner_2 value >= 40 }
					combat_rating_diff = { who = event_target:blood_games_potential_winner_3 value >= 40 }
					combat_rating_diff = { who = event_target:blood_games_potential_winner_4 value >= 40 }
				}
			}

			mult_modifier = {
				factor = 1.5
				event_target:blood_games_potential_winner_5 = {
					combat_rating_diff = { who = event_target:blood_games_potential_winner_1 value >= 50 }
					combat_rating_diff = { who = event_target:blood_games_potential_winner_2 value >= 50 }
					combat_rating_diff = { who = event_target:blood_games_potential_winner_3 value >= 50 }
					combat_rating_diff = { who = event_target:blood_games_potential_winner_4 value >= 50 }
				}
			}

			mult_modifier = {
				factor = 1.75
				event_target:blood_games_potential_winner_5 = {
					combat_rating_diff = { who = event_target:blood_games_potential_winner_1 value >= 60 }
					combat_rating_diff = { who = event_target:blood_games_potential_winner_2 value >= 60 }
					combat_rating_diff = { who = event_target:blood_games_potential_winner_3 value >= 60 }
					combat_rating_diff = { who = event_target:blood_games_potential_winner_4 value >= 60 }
				}
			}

			mult_modifier = {
				factor = 1.75
				event_target:blood_games_potential_winner_5 = {
					combat_rating_diff = { who = event_target:blood_games_potential_winner_1 value >= 70 }
					combat_rating_diff = { who = event_target:blood_games_potential_winner_2 value >= 70 }
					combat_rating_diff = { who = event_target:blood_games_potential_winner_3 value >= 70 }
					combat_rating_diff = { who = event_target:blood_games_potential_winner_4 value >= 70 }
				}
			}

			mult_modifier = {
				factor = 1.5
				event_target:blood_games_potential_winner_5 = { trait = duelist }
			}

			mult_modifier = {
				factor = 1.25
				event_target:blood_games_potential_winner_5 = { trait = brave }
			}

			mult_modifier = {
				factor = 1.25
				event_target:blood_games_potential_winner_5 = { trait = strong }
			}

			mult_modifier = {
				factor = 1.05
				event_target:blood_games_potential_winner_5 = { trait = brawny }
			}

			mult_modifier = {
				factor = 1.05
				event_target:blood_games_potential_winner_5 = { trait = genius }
			}

			mult_modifier = {
				factor = 1.05
				event_target:blood_games_potential_winner_5 = { trait = quick }
			}

			mult_modifier = {
				factor = 1.05
				event_target:blood_games_potential_winner_5 = { trait = berserker }
			}

			mult_modifier = {
				factor = 0.95
				event_target:blood_games_potential_winner_5 = { trait = craven }
			}

			mult_modifier = {
				factor = 0.95
				event_target:blood_games_potential_winner_5 = { trait = weak }
			}

			mult_modifier = {
				factor = 0.95
				event_target:blood_games_potential_winner_5 = { trait = frail }
			}

			mult_modifier = {
				factor = 0.75
				event_target:blood_games_potential_winner_5 = { trait = mangled }
			}

			mult_modifier = {
				factor = 0.95
				event_target:blood_games_potential_winner_5 = { trait = infirm }
			}

			mult_modifier = {
				factor = 0.25
				event_target:blood_games_potential_winner_5 = { is_incapable = yes }
			}

			mult_modifier = {
				factor = 0.95
				event_target:blood_games_potential_winner_5 = { trait = wounded }
			}

			mult_modifier = {
				factor = 1.05
				event_target:blood_games_potential_winner_5 = { has_character_modifier = gladiatorial_equipment }
			}

			mult_modifier = {
				factor = 1.15
				event_target:blood_games_potential_winner_5 = { has_character_modifier = poisoned_weapons }
			}

			mult_modifier = {
				factor = 1.25
				event_target:blood_games_potential_winner_5 = { has_character_modifier = fearless_potion }
			}
		}

		25 = { # Fallback, if no potential winner exists in the first place.
			trigger = {
				event_target:blood_games_potential_winner_1 = { is_alive = no }
				event_target:blood_games_potential_winner_2 = { is_alive = no }
				event_target:blood_games_potential_winner_3 = { is_alive = no }
				event_target:blood_games_potential_winner_4 = { is_alive = no }
				event_target:blood_games_potential_winner_5 = { is_alive = no }
			}

			spawn_good_commander_effect = yes # Saved as invited_character

			event_target:invited_character = {
				character_event = { id = HF.23455 }# Surprise winner
			}
		}
	}
}

clean_up_great_tribal_festival_flags_effect = {
	hidden_effect = {
		clear_event_target = warrior_lodge_guest
		clr_character_flag = flag_holding_great_tribal_festival
		clr_character_flag = flag_host_holding_brawling_tournament
		clr_character_flag = flag_host_holding_drinking_tournament
		clr_character_flag = flag_host_holding_eating_tournament
		clr_character_flag = flag_host_holding_taming_tournament
		clr_character_flag = flag_host_holding_beauty_contest
		clr_character_flag = flag_host_holding_tapestry_contest
		clr_character_flag = flag_host_holding_poetry_contest
		clr_character_flag = flag_host_holding_singing_contest
		clr_character_flag = flag_child_race_winner
		clr_character_flag = flag_tribal_festival_brawling_contender
		clr_character_flag = flag_tribal_festival_drinking_contender
		clr_character_flag = flag_tribal_festival_eating_contender
		clr_character_flag = flag_tribal_festival_taming_contender
		clr_character_flag = flag_tribal_festival_beauty_contender
		clr_character_flag = flag_tribal_festival_poetry_contender
		clr_character_flag = flag_tribal_festival_singing_contender
		clr_character_flag = flag_tribal_festival_tapestry_contender
		remove_character_modifier = enjoying_the_countryside
		remove_character_modifier = feverish_grooming
		remove_character_modifier = tribal_studying_legends
		remove_character_modifier = expensive_craftsmen
		remove_character_modifier = tribal_festival_bought_potion
		remove_character_modifier = tribal_festival_bought_charm
		remove_character_modifier = tribal_festival_bought_perfume
		remove_character_modifier = tribal_festival_bought_strength_potion
		remove_character_modifier = tribal_festival_bought_strength_charm
		remove_character_modifier = tribal_festival_bought_bravery_amulet
		remove_character_modifier = tribal_festival_very_good_fortune
		remove_character_modifier = tribal_festival_good_fortune
		remove_character_modifier = tribal_festival_bad_fortune
		remove_character_modifier = tribal_festival_bought_very_good_trinkets
		remove_character_modifier = tribal_festival_bought_good_trinkets
		remove_character_modifier = tribal_festival_bought_cheap_trinkets

		set_variable = {
			which = tribal_festival_divine_favor
			value = 0
		}

		if = {
			limit = {
				has_opinion_modifier = {
					name = opinion_great_tribal_festival_guest
					who = event_target:great_tribal_festival_host
				}
			}

			remove_opinion = {
				name = opinion_great_tribal_festival_guest
				who = event_target:great_tribal_festival_host
			}
		}
	}
}

great_tribal_festival_flavor_list_liege_effect = {
	random_list = {
		## Adults ##
		# Fortuneteller reads fate
		# Traveling alchemist sells perfumes
		# Traveling alchemist sells strength potions
		# Merchants selling exotic trinkets
		# Good guest tries to befriend other guest (fired from liege event only)
		# Deceitful guest tries to mock other guest (fired from liege event only)
		# Warrior Lodge Hero brags to guests (fired from liege event only)
		# Nothing

		20 = { # Fortuneteller reads fate
			character_event = {
				id = HF.23814
				days = 5
				random = 30
			}
		}

		20 = { # Traveling alchemist sells perfumes
			trigger = {
				event_target:great_tribal_festival_host = {
					OR = {
						AND = {
							has_character_flag = flag_host_holding_beauty_contest

							ROOT = {
								OR = {
									can_enter_festival_physical_competitions_trigger = no

									has_game_rule = {
										name = gender
										value = all
									}
								}
							}
						}

						has_character_flag = flag_host_holding_poetry_contest
						has_character_flag = flag_host_holding_singing_contest
					}
				}
			}

			character_event = {
				id = HF.23818
				days = 5
				random = 30
			}
		}

		20 = { # Traveling alchemist sells strength potions
			trigger = {
				OR = {
					can_enter_festival_physical_competitions_trigger = yes

					has_game_rule = {
						name = gender
						value = all
					}
				}

				event_target:great_tribal_festival_host = {
					OR = {
						has_character_flag = flag_host_holding_brawling_tournament
						has_character_flag = flag_host_holding_drinking_tournament
						has_character_flag = flag_host_holding_eating_tournament
						has_character_flag = flag_host_holding_horse_taming_tournament
					}
				}
			}

			character_event = {
				id = HF.23819
				days = 5
				random = 30
			}
		}

		20 = { # Merchants selling exotic trinkets
			character_event = {
				id = HF.23820
				days = 5
				random = 30
			}
		}

		15 = { # Good guest tries to befriend other guest (liege version)
			trigger = {
				any_realm_character = {
					is_adult = yes

					OR = {
						character = ROOT
						has_opinion_modifier = {
							name = opinion_great_tribal_festival_guest
							who = ROOT
						}
					}

					event_target:great_tribal_festival_host = {
						is_adult = yes

						has_opinion_modifier = {
							name = opinion_great_tribal_festival_guest
							who = ROOT
						}

						NOR = {
							character = PREV
							is_rival = PREV
							is_friend = PREV
							is_lover = PREV
							dynasty = PREV
						}
					}
				}
			}

			event_target:great_tribal_festival_host = {
				random_realm_character = {
					limit = {
						is_adult = yes

						OR = {
							character = ROOT

							has_opinion_modifier = {
								name = opinion_great_tribal_festival_guest
								who = ROOT
							}
						}
					}

					save_event_target_as = tribal_festival_potential_friend_1
				}

				event_target:great_tribal_festival_host = {
					save_event_target_as = tribal_festival_potential_friend_2

					character_event = {
						id = HF.23821
						days = 5
						random = 30
					}
				}
			}
		}

		15 = { # Good guest tries to befriend other guest (fired from liege event only)
			trigger = {
				any_realm_character = {
					is_adult = yes

					OR = {
						character = ROOT

						has_opinion_modifier = {
							name = opinion_great_tribal_festival_guest
							who = ROOT
						}
					}

					event_target:great_tribal_festival_host = {
						any_realm_character = {
							is_adult = yes

							has_opinion_modifier = {
								name = opinion_great_tribal_festival_guest
								who = ROOT
							}

							NOR = {
								character = PREVPREV
								is_rival = PREVPREV
								is_friend = PREVPREV
								is_lover = PREVPREV
								dynasty = PREVPREV
							}
						}
					}
				}
			}

			event_target:great_tribal_festival_host = {
				random_realm_character = {
					limit = {
						is_adult = yes

						OR = {
							character = ROOT

							has_opinion_modifier = {
								name = opinion_great_tribal_festival_guest
								who = ROOT
							}
						}
					}

					save_event_target_as = tribal_festival_potential_friend_1
				}

				random_realm_character = {
					limit = {
						is_adult = yes

						OR = {
							character = ROOT

							has_opinion_modifier = {
								name = opinion_great_tribal_festival_guest
								who = ROOT
							}
						}

						NOR = {
							character = event_target:tribal_festival_potential_friend_1
							character = PREV
							is_rival = PREV
							is_friend = PREV
							is_lover = PREV
							dynasty = PREV
						}
					}

					preferred_limit = {
						ai = no
					}

					save_event_target_as = tribal_festival_potential_friend_2

					character_event = {
						id = HF.23821
						days = 5
						random = 30
					}
				}
			}
		}

		15 = { # Deceitful guest tries to mock other guest (liege version)
			trigger = {
				any_realm_character = {
					is_adult = yes

					OR = {
						character = ROOT

						has_opinion_modifier = {
							name = opinion_great_tribal_festival_guest
							who = ROOT
						}
					}

					event_target:great_tribal_festival_host = {
						is_adult = yes

						OR = {
							character = ROOT

							has_opinion_modifier = {
								name = opinion_great_tribal_festival_guest
								who = ROOT
							}
						}

						NOR = {
							character = PREV
							is_rival = PREV
							is_friend = PREV
							is_lover = PREV
						}

						OR = {
							persistent_event_target:antagonize_target = {
								character = PREVPREV
							}

							trait = envious
							trait = deceitful
							trait = master_schemer
							trait = cruel
							trait = arbitrary
						}
					}
				}
			}

			random_realm_character = {
				limit = {
					is_adult = yes

					OR = {
						character = ROOT

						has_opinion_modifier = {
							name = opinion_great_tribal_festival_guest
							who = ROOT
						}
					}
				}

				save_event_target_as = tribal_festival_potential_enemy_1
			}

			event_target:great_tribal_festival_host = {
				save_event_target_as = tribal_festival_potential_enemy_2

				character_event = {
					id = HF.23828
					days = 5
					random = 30
				}
			}
		}

		15 = { # Deceitful guest tries to mock other guest (fired from liege event only)
			trigger = {
				any_realm_character = {
					is_adult = yes

					OR = {
						character = ROOT

						has_opinion_modifier = {
							name = opinion_great_tribal_festival_guest
							who = ROOT
						}
					}

					any_realm_character = {
						is_adult = yes

						OR = {
							character = ROOT

							has_opinion_modifier = {
								name = opinion_great_tribal_festival_guest
								who = ROOT
							}
						}

						NOR = {
							character = PREV
							is_rival = PREV
							is_friend = PREV
							is_lover = PREV
						}

						OR = {
							persistent_event_target:antagonize_target = {
								character = PREVPREV
							}

							trait = envious
							trait = deceitful
							trait = master_schemer
							trait = cruel
							trait = arbitrary
						}
					}
				}
			}

			random_realm_character = {
				limit = {
					is_adult = yes

					OR = {
						character = ROOT

						has_opinion_modifier = {
							name = opinion_great_tribal_festival_guest
							who = ROOT
						}
					}
				}

				save_event_target_as = tribal_festival_potential_enemy_1
			}

			random_realm_character = {
				limit = {
					is_adult = yes

					OR = {
						character = ROOT

						has_opinion_modifier = {
							name = opinion_great_tribal_festival_guest
							who = ROOT
						}
					}

					NOR = {
						character = event_target:tribal_festival_potential_enemy_1
						character = PREV
						is_rival = PREV
						is_friend = PREV
						is_lover = PREV
					}

					OR = {
						persistent_event_target:antagonize_target = {
							character = PREVPREV
						}

						trait = envious
						trait = deceitful
						trait = master_schemer
						trait = cruel
						trait = arbitrary
					}
				}

				preferred_limit = {
					ai = no
				}

				save_event_target_as = tribal_festival_potential_enemy_2

				character_event = {
					id = HF.23828
					days = 5
					random = 30
				}
			}
		}

		5 = { # Warrior Lodge Hero brags to guests (fired from liege event only)
			trigger = {
				event_target:warrior_lodge_guest = { is_alive = yes }
			}

			mult_modifier = {
				factor = 0.25
				event_target:warrior_lodge_guest = { trait = shy }
			}
			mult_modifier = {
				factor = 0.5
				event_target:warrior_lodge_guest = { trait = just }
			}
			mult_modifier = {
				factor = 1.5
				event_target:warrior_lodge_guest = { trait = gregarious }
			}
			mult_modifier = {
				factor = 1.5
				event_target:warrior_lodge_guest = { trait = wroth }
			}

			character_event = {
				id = HF.23835
				days = 5
				random = 30
			}
		}

		10 = { # Nothing
			mult_modifier = {
				factor = 4
				is_adult = no
			}
		}
	}

	random_list = {
		## Kids ## (fired from liege event only, to avoid host getting showered with notifications later on)
		#Sneaking in main hall
		#Stealing trinket from merchant
		#Throwing mud at guests
		#Racing with other kid
		#Daring tree-climbing
		#Nothing

		# Liege's row

		10 = { #Sneaking in main hall
			trigger = {
				event_target:great_tribal_festival_host = {
					is_adult = no

					OR = {
						character = ROOT

						has_opinion_modifier = {
							name = opinion_great_tribal_festival_guest
							who = ROOT
						}
					}
				}
			}

			mult_modifier = {
				factor = 1.5

				ai = no

				OR = {
					trait = indolent
					trait = gluttonous
					trait = curious
				}
			}

			event_target:great_tribal_festival_host = {
				character_event = {
					id = HF.23836
					days = 5
					random = 30
				}
			}
		}

		20 = { # Stealing trinket from merchant
			trigger = {
				event_target:great_tribal_festival_host = {
					is_adult = no

					OR = {
						character = ROOT

						has_opinion_modifier = {
							name = opinion_great_tribal_festival_guest
							who = ROOT
						}
					}
				}
			}

			mult_modifier = {
				factor = 1.5

				ai = no

				OR = {
					trait = haughty
					trait = greedy
					trait = willful
				}
			}

			event_target:great_tribal_festival_host = {
				character_event = {
					id = HF.23841
					days = 5
					random = 30
				}
			}
		}

		20 = { # Throwing mud at guests
			trigger = {
				event_target:great_tribal_festival_host = {
					is_adult = no

					OR = {
						character = ROOT

						has_opinion_modifier = {
							name = opinion_great_tribal_festival_guest
							who = ROOT
						}
					}
				}
			}

			mult_modifier = {
				factor = 1.5

				ai = no

				OR = {
					trait = haughty
					trait = cruel
					trait = willful
				}
			}

			event_target:great_tribal_festival_host = {
				character_event = {
					id = HF.23845
					days = 5
					random = 30
				}
			}
		}

		20 = { # Racing with other kid
			trigger = {
				event_target:great_tribal_festival_host = {
					is_adult = no
					NOT = { character = ROOT }

					has_opinion_modifier = {
						name = opinion_great_tribal_festival_guest
						who = ROOT
					}
				}

				any_realm_character = {
					is_adult = no
					NOT = { character = ROOT }

					has_opinion_modifier = {
						name = opinion_great_tribal_festival_guest
						who = ROOT
					}
				}
			}

			mult_modifier = {
				factor = 1.5

				ai = no

				OR = {
					trait = rowdy
					trait = playful
					trait = brave
				}
			}

			random_realm_character = {
				limit = {
					is_adult = no
					NOT = { character = PREV }

					OR = {
						character = ROOT

						has_opinion_modifier = {
							name = opinion_great_tribal_festival_guest
							who = ROOT
						}
					}
				}

				preferred_limit = {
					ai = no

					OR = {
						trait = rowdy
						trait = playful
						trait = brave
					}
				}

				preferred_limit = {
					OR = {
						trait = rowdy
						trait = playful
						trait = brave
					}
				}

				preferred_limit = {
					ai = no
				}

				save_event_target_as = scoped_running_child_1

				event_target:great_tribal_festival_host = {
					save_event_target_as = scoped_running_child_2

					character_event = {
						id = HF.23849
						days = 5
						random = 30
					}
				}
			}
		}

		20 = { # Daring tree-climbing
			trigger = {
				event_target:great_tribal_festival_host = {
					is_adult = no

					OR = {
						character = ROOT

						has_opinion_modifier = {
							name = opinion_great_tribal_festival_guest
							who = ROOT
						}
					}
				}
			}

			mult_modifier = {
				factor = 1.5

				ai = no

				OR = {
					trait = rowdy
					trait = playful
					trait = brave
				}
			}

			event_target:great_tribal_festival_host = {
				character_event = {
					id = HF.23854
					days = 5
					random = 30
				}
			}
		}

		# Vassals and courtiers row

		20 = { # Sneaking in main hall
			trigger = {
				any_realm_character = {
					is_adult = no

					has_opinion_modifier = {
						name = opinion_great_tribal_festival_guest
						who = ROOT
					}
				}
			}

			random_realm_character = {
				limit = {
					is_adult = no

					has_opinion_modifier = {
						name = opinion_great_tribal_festival_guest
						who = ROOT
					}
				}

				preferred_limit = {
					ai = no

					OR = {
						trait = indolent
						trait = gluttonous
						trait = curious
					}
				}

				preferred_limit = {
					OR = {
						trait = indolent
						trait = gluttonous
						trait = curious
					}
				}

				preferred_limit = {
					ai = no
				}

				character_event = {
					id = HF.23836
					days = 5
					random = 30
				}
			}
		}

		20 = { # Stealing trinket from merchant
			trigger = {
				any_realm_character = {
					is_adult = no

					has_opinion_modifier = {
						name = opinion_great_tribal_festival_guest
						who = ROOT
					}
				}
			}

			random_realm_character = {
				limit = {
					is_adult = no

					has_opinion_modifier = {
						name = opinion_great_tribal_festival_guest
						who = ROOT
					}
				}

				preferred_limit = {
					ai = no

					OR = {
						trait = haughty
						trait = greedy
						trait = willful
					}
				}

				preferred_limit = {
					OR = {
						trait = haughty
						trait = greedy
						trait = willful
					}
				}

				preferred_limit = {
					ai = no
				}

				character_event = {
					id = HF.23841
					days = 5
					random = 30
				}
			}
		}

		20 = { # Throwing mud at guests
			trigger = {
				any_realm_character = {
					is_adult = no

					has_opinion_modifier = {
						name = opinion_great_tribal_festival_guest
						who = ROOT
					}
				}
			}

			random_realm_character = {
				limit = {
					is_adult = no

					has_opinion_modifier = {
						name = opinion_great_tribal_festival_guest
						who = ROOT
					}
				}

				preferred_limit = {
					ai = no

					OR = {
						trait = haughty
						trait = cruel
						trait = willful
					}
				}

				preferred_limit = {
					OR = {
						trait = haughty
						trait = cruel
						trait = willful
					}
				}

				preferred_limit = {
					ai = no
				}

				character_event = {
					id = HF.23845
					days = 5
					random = 30
				}
			}
		}

		20 = { # Racing with other kid
			trigger = {
				any_realm_character = {
					count >= 2

					is_adult = no

					has_opinion_modifier = {
						name = opinion_great_tribal_festival_guest
						who = ROOT
					}
				}
			}

			random_realm_character = {
				limit = {
					is_adult = no

					has_opinion_modifier = {
						name = opinion_great_tribal_festival_guest
						who = ROOT
					}
				}

				preferred_limit = {
					ai = no

					OR = {
						trait = rowdy
						trait = playful
						trait = brave
					}
				}

				preferred_limit = {
					OR = {
						trait = rowdy
						trait = playful
						trait = brave
					}
				}

				preferred_limit = {
					ai = no
				}

				save_event_target_as = scoped_running_child_1

				random_realm_character = {
					limit = {
						is_adult = no
						NOT = { character = PREV }

						has_opinion_modifier = {
							name = opinion_great_tribal_festival_guest
							who = ROOT
						}
					}

					preferred_limit = {
						ai = no

						OR = {
							trait = rowdy
							trait = playful
							trait = brave
						}
					}

					preferred_limit = {
						OR = {
							trait = rowdy
							trait = playful
							trait = brave
						}
					}

					preferred_limit = {
						ai = no
					}

					save_event_target_as = scoped_running_child_2

					character_event = {
						id = HF.23849
						days = 5
						random = 30 }

				}
			}
		}

		20 = { # Daring tree-climbing
			trigger = {
				any_realm_character = {
					is_adult = no

					has_opinion_modifier = {
						name = opinion_great_tribal_festival_guest
						who = ROOT
					}
				}
			}

			random_realm_character = {
				limit = {
					is_adult = no

					has_opinion_modifier = {
						name = opinion_great_tribal_festival_guest
						who = ROOT
					}
				}

				preferred_limit = {
					ai = no

					OR = {
						trait = rowdy
						trait = playful
						trait = brave
					}
				}

				preferred_limit = {
					OR = {
						trait = rowdy
						trait = playful
						trait = brave
					}
				}

				preferred_limit = {
					ai = no
				}

				character_event = {
					id = HF.23854
					days = 5
					random = 30
				}
			}
		}

		5 = { } # Nothing
	}
}

great_tribal_festival_flavor_list_effect = {
	random_list = {
		20 = { # Fortuneteller reads fate
			character_event = {
				id = HF.23814
				days = 5
				random = 30
			}
		}

		20 = { # Traveling alchemist sells perfumes
			trigger = {
				OR = {
					OR = {
						can_enter_festival_physical_competitions_trigger = no

						has_game_rule = {
							name = gender
							value = all
						}
					}

					event_target:warrior_lodge_guest = {
						OR = {
							has_character_flag = flag_host_holding_poetry_contest
							has_character_flag = flag_host_holding_singing_contest
						}
					}
				}
			}

			character_event = {
				id = HF.23818
				days = 5
				random = 30
			}
		}

		20 = { # Traveling alchemist sells strength potions
			trigger = {
				OR = {
					can_enter_festival_physical_competitions_trigger = yes

					has_game_rule = {
						name = gender
						value = all
					}
				}
			}

			character_event = {
				id = HF.23819
				days = 5
				random = 30
			}
		}

		20 = { # Merchants selling exotic trinkets
			character_event = {
				id = HF.23820
				days = 5
				random = 30
			}
		}

		20 = { } # Nothing
	}
}

# Pick two best contenders, then randomize winner amongst them
pick_potential_brawling_winners_effect = {
	if = {
		limit = {
			any_realm_character = {
				has_character_flag = flag_tribal_festival_brawling_contender
			}
		}

		random_realm_character = { # First
			limit = { has_character_flag = flag_tribal_festival_brawling_contender }

			preferred_limit = {
				combat_rating >= 200

				OR = {
					is_strong_trigger = yes
					is_smart_trigger = yes
					has_education_martial_trigger = yes
					has_lifestyle_martial_trigger = yes
				}
			}

			preferred_limit = {
				combat_rating >= 200

				NOR = {
					is_weak_trigger = yes
					is_dumb_trigger = yes
				}
			}

			preferred_limit = {
				combat_rating >= 200
			}

			preferred_limit = {
				combat_rating >= 150

				OR = {
					is_strong_trigger = yes
					is_smart_trigger = yes
					has_education_martial_trigger = yes
					has_lifestyle_martial_trigger = yes
				}
			}

			preferred_limit = {
				combat_rating >= 150

				NOR = {
					is_weak_trigger = yes
					is_dumb_trigger = yes
				}
			}

			preferred_limit = {
				combat_rating >= 150
			}

			preferred_limit = {
				combat_rating >= 100

				OR = {
					is_strong_trigger = yes
					is_smart_trigger = yes
					has_education_martial_trigger = yes
					has_lifestyle_martial_trigger = yes
				}
			}

			preferred_limit = {
				combat_rating >= 100

				NOR = {
					is_weak_trigger = yes
					is_dumb_trigger = yes
				}
			}

			preferred_limit = {
				combat_rating >= 100
			}

			preferred_limit = {
				combat_rating >= 50

				OR = {
					is_strong_trigger = yes
					is_smart_trigger = yes
					has_education_martial_trigger = yes
					has_lifestyle_martial_trigger = yes
				}
			}

			preferred_limit = {
				combat_rating >= 50

				NOR = {
					is_weak_trigger = yes
					is_dumb_trigger = yes
				}
			}

			preferred_limit = {
				combat_rating >= 50
			}

			preferred_limit = {
				combat_rating >= 25

				OR = {
					is_strong_trigger = yes
					is_smart_trigger = yes
					has_education_martial_trigger = yes
					has_lifestyle_martial_trigger = yes
				}
			}

			preferred_limit = {
				combat_rating >= 25

				NOR = {
					is_weak_trigger = yes
					is_dumb_trigger = yes
				}
			}

			preferred_limit = {
				combat_rating >= 25
			}

			preferred_limit = {
				combat_rating >= 10

				OR = {
					is_strong_trigger = yes
					is_smart_trigger = yes
					has_education_martial_trigger = yes
					has_lifestyle_martial_trigger = yes
				}
			}

			preferred_limit = {
				combat_rating >= 10

				NOR = {
					is_weak_trigger = yes
					is_dumb_trigger = yes
				}
			}

			preferred_limit = {
				combat_rating >= 10
			}

			preferred_limit = {
				combat_rating >= 0

				OR = {
					is_strong_trigger = yes
					is_smart_trigger = yes
					has_education_martial_trigger = yes
					has_lifestyle_martial_trigger = yes
				}
			}

			preferred_limit = {
				combat_rating >= 0

				NOR = {
					is_weak_trigger = yes
					is_dumb_trigger = yes
				}
			}

			preferred_limit = {
				combat_rating >= 0
			}

			preferred_limit = {
				trait = brave
			}

			preferred_limit = {
				NOT = { trait = craven }
			}

			save_event_target_as = tribal_festival_brawling_potential_winner_1
		}
	}

	if = {
		limit = {
			any_realm_character = {
				has_character_flag = flag_tribal_festival_brawling_contender
				NOT = { character = event_target:tribal_festival_brawling_potential_winner_1 }
			}
		}
		random_realm_character = { # Second
			limit = {
				has_character_flag = flag_tribal_festival_brawling_contender
				NOT = { character = event_target:tribal_festival_brawling_potential_winner_1 }
			}

			preferred_limit = {
				combat_rating >= 200

				OR = {
					is_strong_trigger = yes
					is_smart_trigger = yes
					has_education_martial_trigger = yes
					has_lifestyle_martial_trigger = yes
				}
			}

			preferred_limit = {
				combat_rating >= 200

				NOR = {
					is_weak_trigger = yes
					is_dumb_trigger = yes
				}
			}

			preferred_limit = {
				combat_rating >= 200
			}

			preferred_limit = {
				combat_rating >= 150

				OR = {
					is_strong_trigger = yes
					is_smart_trigger = yes
					has_education_martial_trigger = yes
					has_lifestyle_martial_trigger = yes
				}
			}

			preferred_limit = {
				combat_rating >= 150

				NOR = {
					is_weak_trigger = yes
					is_dumb_trigger = yes
				}
			}

			preferred_limit = {
				combat_rating >= 150
			}

			preferred_limit = {
				combat_rating >= 100

				OR = {
					is_strong_trigger = yes
					is_smart_trigger = yes
					has_education_martial_trigger = yes
					has_lifestyle_martial_trigger = yes
				}
			}

			preferred_limit = {
				combat_rating >= 100

				NOR = {
					is_weak_trigger = yes
					is_dumb_trigger = yes
				}
			}

			preferred_limit = {
				combat_rating >= 100
			}

			preferred_limit = {
				combat_rating >= 50

				OR = {
					is_strong_trigger = yes
					is_smart_trigger = yes
					has_education_martial_trigger = yes
					has_lifestyle_martial_trigger = yes
				}
			}

			preferred_limit = {
				combat_rating >= 50

				NOR = {
					is_weak_trigger = yes
					is_dumb_trigger = yes
				}
			}

			preferred_limit = {
				combat_rating >= 50
			}

			preferred_limit = {
				combat_rating >= 25

				OR = {
					is_strong_trigger = yes
					is_smart_trigger = yes
					has_education_martial_trigger = yes
					has_lifestyle_martial_trigger = yes
				}
			}

			preferred_limit = {
				combat_rating >= 25

				NOR = {
					is_weak_trigger = yes
					is_dumb_trigger = yes
				}
			}

			preferred_limit = {
				combat_rating >= 25
			}

			preferred_limit = {
				combat_rating >= 10

				OR = {
					is_strong_trigger = yes
					is_smart_trigger = yes
					has_education_martial_trigger = yes
					has_lifestyle_martial_trigger = yes
				}
			}

			preferred_limit = {
				combat_rating >= 10

				NOR = {
					is_weak_trigger = yes
					is_dumb_trigger = yes
				}
			}

			preferred_limit = {
				combat_rating >= 10
			}

			preferred_limit = {
				combat_rating >= 0

				OR = {
					is_strong_trigger = yes
					is_smart_trigger = yes
					has_education_martial_trigger = yes
					has_lifestyle_martial_trigger = yes
				}
			}

			preferred_limit = {
				combat_rating >= 0

				NOR = {
					is_weak_trigger = yes
					is_dumb_trigger = yes
				}
			}

			preferred_limit = {
				combat_rating >= 0
			}

			preferred_limit = {
				trait = brave
			}

			preferred_limit = {
				NOT = { trait = craven }
			}

			save_event_target_as = tribal_festival_brawling_potential_winner_2
		}
	}

	random_list = {
		25 = {
			trigger = {
				event_target:tribal_festival_brawling_potential_winner_1 = { is_alive = yes }
			}

			mult_modifier = {
				factor = 0.1 # The difference in skill compared to the other fighters is too much
				event_target:tribal_festival_brawling_potential_winner_2 = {
					combat_rating_diff = { who = event_target:tribal_festival_brawling_potential_winner_1 value >= 40 }
				}
			}

			mult_modifier = {
				factor = 0.75
				event_target:tribal_festival_brawling_potential_winner_2 = {
					combat_rating_diff = { who = event_target:tribal_festival_brawling_potential_winner_1 value >= 10 }
				}
			}

			mult_modifier = {
				factor = 0.75
				event_target:tribal_festival_brawling_potential_winner_2 = {
					combat_rating_diff = { who = event_target:tribal_festival_brawling_potential_winner_1 value >= 20 }
				}
			}

			mult_modifier = {
				factor = 0.75
				event_target:tribal_festival_brawling_potential_winner_2 = {
					combat_rating_diff = { who = event_target:tribal_festival_brawling_potential_winner_1 value >= 30 }
				}
			}

			mult_modifier = {
				factor = 1.5
				event_target:tribal_festival_brawling_potential_winner_1 = {
					combat_rating_diff = { who = event_target:tribal_festival_brawling_potential_winner_2 value >= 5 }
				}
			}

			mult_modifier = {
				factor = 1.5
				event_target:tribal_festival_brawling_potential_winner_1 = {
					combat_rating_diff = { who = event_target:tribal_festival_brawling_potential_winner_2 value >= 10 }
				}
			}

			mult_modifier = {
				factor = 1.5
				event_target:tribal_festival_brawling_potential_winner_1 = {
					combat_rating_diff = { who = event_target:tribal_festival_brawling_potential_winner_2 value >= 15 }
				}
			}

			mult_modifier = {
				factor = 1.5
				event_target:tribal_festival_brawling_potential_winner_1 = {
					combat_rating_diff = { who = event_target:tribal_festival_brawling_potential_winner_2 value >= 20 }
				}
			}

			mult_modifier = {
				factor = 1.5
				event_target:tribal_festival_brawling_potential_winner_1 = {
					combat_rating_diff = { who = event_target:tribal_festival_brawling_potential_winner_2 value >= 30 }
				}
			}

			mult_modifier = {
				factor = 1.5
				event_target:tribal_festival_brawling_potential_winner_1 = {
					combat_rating_diff = { who = event_target:tribal_festival_brawling_potential_winner_2 value >= 40 }
				}
			}

			mult_modifier = {
				factor = 1.5
				event_target:tribal_festival_brawling_potential_winner_1 = {
					combat_rating_diff = { who = event_target:tribal_festival_brawling_potential_winner_2 value >= 50 }
				}
			}

			mult_modifier = {
				factor = 1.75
				event_target:tribal_festival_brawling_potential_winner_1 = {
					combat_rating_diff = { who = event_target:tribal_festival_brawling_potential_winner_2 value >= 60 }
				}
			}

			mult_modifier = {
				factor = 1.75
				event_target:tribal_festival_brawling_potential_winner_1 = {
					combat_rating_diff = { who = event_target:tribal_festival_brawling_potential_winner_2 value >= 70 }
				}
			}

			mult_modifier = {
				factor = 1.5
				event_target:tribal_festival_brawling_potential_winner_1 = { trait = duelist }
			}

			mult_modifier = {
				factor = 1.25
				event_target:tribal_festival_brawling_potential_winner_1 = { trait = brave }
			}

			mult_modifier = {
				factor = 1.25
				event_target:tribal_festival_brawling_potential_winner_1 = { trait = strong }
			}

			mult_modifier = {
				factor = 1.05
				event_target:tribal_festival_brawling_potential_winner_1 = { trait = brawny }
			}

			mult_modifier = {
				factor = 1.05
				event_target:tribal_festival_brawling_potential_winner_1 = { trait = genius }
			}

			mult_modifier = {
				factor = 1.05
				event_target:tribal_festival_brawling_potential_winner_1 = { trait = quick }
			}

			mult_modifier = {
				factor = 1.05
				event_target:tribal_festival_brawling_potential_winner_1 = { trait = berserker }
			}

			mult_modifier = {
				factor = 0.95
				event_target:tribal_festival_brawling_potential_winner_1 = { trait = craven }
			}

			mult_modifier = {
				factor = 0.95
				event_target:tribal_festival_brawling_potential_winner_1 = { trait = weak }
			}

			mult_modifier = {
				factor = 0.95
				event_target:tribal_festival_brawling_potential_winner_1 = { trait = frail }
			}

			mult_modifier = {
				factor = 0.75
				event_target:tribal_festival_brawling_potential_winner_1 = { trait = mangled }
			}

			mult_modifier = {
				factor = 0.95
				event_target:tribal_festival_brawling_potential_winner_1 = { trait = infirm }
			}

			mult_modifier = {
				factor = 0.25
				event_target:tribal_festival_brawling_potential_winner_1 = { is_incapable = yes }
			}

			mult_modifier = {
				factor = 0.95
				event_target:tribal_festival_brawling_potential_winner_1 = { trait = wounded }
			}

			mult_modifier = {
				factor = 1.5
				event_target:tribal_festival_brawling_potential_winner_1 = { has_character_modifier = tribal_festival_very_good_fortune }
			}

			mult_modifier = {
				factor = 1.25
				event_target:tribal_festival_brawling_potential_winner_1 = { has_character_modifier = tribal_festival_good_fortune }
			}

			mult_modifier = {
				factor = 0.75
				event_target:tribal_festival_brawling_potential_winner_1 = { has_character_modifier = tribal_festival_bad_fortune }
			}

			mult_modifier = {
				factor = 1.5
				event_target:tribal_festival_brawling_potential_winner_1 = { has_character_modifier = enjoying_the_countryside }
			}

			mult_modifier = {
				factor = 1.5
				event_target:tribal_festival_brawling_potential_winner_1 = { has_character_modifier = tribal_festival_bought_strength_potion }
			}

			mult_modifier = {
				factor = 1.35
				event_target:tribal_festival_brawling_potential_winner_1 = { has_character_modifier = tribal_festival_bought_strength_charm }
			}

			mult_modifier = {
				factor = 1.15
				event_target:tribal_festival_brawling_potential_winner_1 = { has_character_modifier = tribal_festival_bought_bravery_amulet }
			}

			event_target:tribal_festival_brawling_potential_winner_1 = { save_event_target_as = tribal_festival_winner }
			event_target:tribal_festival_brawling_potential_winner_2 = { save_event_target_as = tribal_festival_loser }
			event_target:tribal_festival_winner = { character_event = { id = HF.23880 } }
		}

		25 = {
			trigger = {
				event_target:tribal_festival_brawling_potential_winner_2 = { is_alive = yes }
			}

			mult_modifier = {
				factor = 0.1 # The difference in skill compared to the other fighters is too much
				event_target:tribal_festival_brawling_potential_winner_1 = {
					combat_rating_diff = { who = event_target:tribal_festival_brawling_potential_winner_2 value >= 40 }
				}
			}

			mult_modifier = {
				factor = 0.75
				event_target:tribal_festival_brawling_potential_winner_1 = {
					combat_rating_diff = { who = event_target:tribal_festival_brawling_potential_winner_2 value >= 10 }
				}
			}

			mult_modifier = {
				factor = 0.75
				event_target:tribal_festival_brawling_potential_winner_1 = {
					combat_rating_diff = { who = event_target:tribal_festival_brawling_potential_winner_2 value >= 20 }
				}
			}

			mult_modifier = {
				factor = 0.75
				event_target:tribal_festival_brawling_potential_winner_1 = {
					combat_rating_diff = { who = event_target:tribal_festival_brawling_potential_winner_2 value >= 30 }
				}
			}

			mult_modifier = {
				factor = 1.5
				event_target:tribal_festival_brawling_potential_winner_2 = {
					combat_rating_diff = { who = event_target:tribal_festival_brawling_potential_winner_1 value = 5 }
				}
			}

			mult_modifier = {
				factor = 1.5
				event_target:tribal_festival_brawling_potential_winner_2 = {
					combat_rating_diff = { who = event_target:tribal_festival_brawling_potential_winner_1 value = 10 }
				}
			}

			mult_modifier = {
				factor = 1.5
				event_target:tribal_festival_brawling_potential_winner_2 = {
					combat_rating_diff = { who = event_target:tribal_festival_brawling_potential_winner_1 value = 15 }
				}
			}

			mult_modifier = {
				factor = 1.5
				event_target:tribal_festival_brawling_potential_winner_2 = {
					combat_rating_diff = { who = event_target:tribal_festival_brawling_potential_winner_1 value = 20 }
				}
			}

			mult_modifier = {
				factor = 1.5
				event_target:tribal_festival_brawling_potential_winner_2 = {
					combat_rating_diff = { who = event_target:tribal_festival_brawling_potential_winner_1 value = 30 }
				}
			}

			mult_modifier = {
				factor = 1.5
				event_target:tribal_festival_brawling_potential_winner_2 = {
					combat_rating_diff = { who = event_target:tribal_festival_brawling_potential_winner_1 value = 40 }
				}
			}

			mult_modifier = {
				factor = 1.5
				event_target:tribal_festival_brawling_potential_winner_2 = {
					combat_rating_diff = { who = event_target:tribal_festival_brawling_potential_winner_1 value = 50 }
				}
			}

			mult_modifier = {
				factor = 1.75
				event_target:tribal_festival_brawling_potential_winner_2 = {
					combat_rating_diff = { who = event_target:tribal_festival_brawling_potential_winner_1 value = 60 }
				}
			}

			mult_modifier = {
				factor = 1.75
				event_target:tribal_festival_brawling_potential_winner_2 = {
					combat_rating_diff = { who = event_target:tribal_festival_brawling_potential_winner_1 value = 70 }
				}
			}

			mult_modifier = {
				factor = 1.5
				event_target:tribal_festival_brawling_potential_winner_2 = { trait = duelist }
			}

			mult_modifier = {
				factor = 1.25
				event_target:tribal_festival_brawling_potential_winner_2 = { trait = brave }
			}

			mult_modifier = {
				factor = 1.25
				event_target:tribal_festival_brawling_potential_winner_2 = { trait = strong }
			}

			mult_modifier = {
				factor = 1.05
				event_target:tribal_festival_brawling_potential_winner_2 = { trait = brawny }
			}

			mult_modifier = {
				factor = 1.05
				event_target:tribal_festival_brawling_potential_winner_2 = { trait = genius }
			}

			mult_modifier = {
				factor = 1.05
				event_target:tribal_festival_brawling_potential_winner_2 = { trait = quick }
			}

			mult_modifier = {
				factor = 1.05
				event_target:tribal_festival_brawling_potential_winner_2 = { trait = berserker }
			}

			mult_modifier = {
				factor = 0.95
				event_target:tribal_festival_brawling_potential_winner_2 = { trait = craven }
			}

			mult_modifier = {
				factor = 0.95
				event_target:tribal_festival_brawling_potential_winner_2 = { trait = weak }
			}

			mult_modifier = {
				factor = 0.95
				event_target:tribal_festival_brawling_potential_winner_2 = { trait = frail }
			}

			mult_modifier = {
				factor = 0.75
				event_target:tribal_festival_brawling_potential_winner_2 = { trait = mangled }
			}

			mult_modifier = {
				factor = 0.95
				event_target:tribal_festival_brawling_potential_winner_2 = { trait = infirm }
			}

			mult_modifier = {
				factor = 0.25
				event_target:tribal_festival_brawling_potential_winner_2 = { is_incapable = yes }
			}

			mult_modifier = {
				factor = 0.95
				event_target:tribal_festival_brawling_potential_winner_2 = { trait = wounded }
			}

			mult_modifier = {
				factor = 1.5
				event_target:tribal_festival_brawling_potential_winner_2 = { has_character_modifier = tribal_festival_very_good_fortune }
			}

			mult_modifier = {
				factor = 1.25
				event_target:tribal_festival_brawling_potential_winner_2 = { has_character_modifier = tribal_festival_good_fortune }
			}

			mult_modifier = {
				factor = 0.75
				event_target:tribal_festival_brawling_potential_winner_2 = { has_character_modifier = tribal_festival_bad_fortune }
			}

			mult_modifier = {
				factor = 1.5
				event_target:tribal_festival_brawling_potential_winner_2 = { has_character_modifier = enjoying_the_countryside }
			}

			mult_modifier = {
				factor = 1.5
				event_target:tribal_festival_brawling_potential_winner_2 = { has_character_modifier = tribal_festival_bought_strength_potion }
			}

			mult_modifier = {
				factor = 1.35
				event_target:tribal_festival_brawling_potential_winner_2 = { has_character_modifier = tribal_festival_bought_strength_charm }
			}

			mult_modifier = {
				factor = 1.15
				event_target:tribal_festival_brawling_potential_winner_2 = { has_character_modifier = tribal_festival_bought_bravery_amulet }
			}

			event_target:tribal_festival_brawling_potential_winner_2 = { save_event_target_as = tribal_festival_winner }
			event_target:tribal_festival_brawling_potential_winner_1 = { save_event_target_as = tribal_festival_loser }
			event_target:tribal_festival_winner = { character_event = { id = HF.23880 } }
		}

		25 = { # Host participating
			trigger = {
				event_target:great_tribal_festival_host = {
					is_alive = yes
					has_character_flag = flag_tribal_festival_brawling_contender

					NOR = {
						character = event_target:tribal_festival_brawling_potential_winner_1
						character = event_target:tribal_festival_brawling_potential_winner_2
					}
				}
			}

			mult_modifier = {
				factor = 0.1 # The difference in skill compared to the other fighters is too much
				event_target:great_tribal_festival_host = {
					combat_rating_diff = { who = event_target:tribal_festival_brawling_potential_winner_1 value < 40 }
					combat_rating_diff = { who = event_target:tribal_festival_brawling_potential_winner_2 value < 40 }
				}
			}

			mult_modifier = {
				factor = 0.75
				event_target:great_tribal_festival_host = {
					combat_rating_diff = { who = event_target:tribal_festival_brawling_potential_winner_1 value < 30 }
					combat_rating_diff = { who = event_target:tribal_festival_brawling_potential_winner_2 value < 30 }
				}
			}

			mult_modifier = {
				factor = 0.75
				event_target:great_tribal_festival_host = {
					combat_rating_diff = { who = event_target:tribal_festival_brawling_potential_winner_1 value < 20 }
					combat_rating_diff = { who = event_target:tribal_festival_brawling_potential_winner_2 value < 20 }
				}
			}

			mult_modifier = {
				factor = 0.75
				event_target:great_tribal_festival_host = {
					combat_rating_diff = { who = event_target:tribal_festival_brawling_potential_winner_1 value < 10 }
					combat_rating_diff = { who = event_target:tribal_festival_brawling_potential_winner_2 value < 10 }
				}
			}

			mult_modifier = {
				factor = 1.5
				event_target:great_tribal_festival_host = {
					combat_rating_diff = { who = event_target:tribal_festival_brawling_potential_winner_1 value >= 5 }
					combat_rating_diff = { who = event_target:tribal_festival_brawling_potential_winner_2 value >= 5 }
				}
			}

			mult_modifier = {
				factor = 1.5
				event_target:great_tribal_festival_host = {
					combat_rating_diff = { who = event_target:tribal_festival_brawling_potential_winner_1 value >= 10 }
					combat_rating_diff = { who = event_target:tribal_festival_brawling_potential_winner_2 value >= 10 }
				}
			}

			mult_modifier = {
				factor = 1.5
				event_target:great_tribal_festival_host = {
					combat_rating_diff = { who = event_target:tribal_festival_brawling_potential_winner_1 value >= 15 }
					combat_rating_diff = { who = event_target:tribal_festival_brawling_potential_winner_2 value >= 15 }
				}
			}

			mult_modifier = {
				factor = 1.5
				event_target:great_tribal_festival_host = {
					combat_rating_diff = { who = event_target:tribal_festival_brawling_potential_winner_1 value >= 20 }
					combat_rating_diff = { who = event_target:tribal_festival_brawling_potential_winner_2 value >= 20 }
				}
			}

			mult_modifier = {
				factor = 1.5
				event_target:great_tribal_festival_host = {
					combat_rating_diff = { who = event_target:tribal_festival_brawling_potential_winner_1 value >= 30 }
					combat_rating_diff = { who = event_target:tribal_festival_brawling_potential_winner_2 value >= 30 }
				}
			}

			mult_modifier = {
				factor = 1.5
				event_target:great_tribal_festival_host = {
					combat_rating_diff = { who = event_target:tribal_festival_brawling_potential_winner_1 value >= 40 }
					combat_rating_diff = { who = event_target:tribal_festival_brawling_potential_winner_2 value >= 40 }
				}
			}

			mult_modifier = {
				factor = 1.5
				event_target:great_tribal_festival_host = {
					combat_rating_diff = { who = event_target:tribal_festival_brawling_potential_winner_1 value >= 50 }
					combat_rating_diff = { who = event_target:tribal_festival_brawling_potential_winner_2 value >= 50 }
				}
			}

			mult_modifier = {
				factor = 1.75
				event_target:great_tribal_festival_host = {
					combat_rating_diff = { who = event_target:tribal_festival_brawling_potential_winner_1 value >= 60 }
					combat_rating_diff = { who = event_target:tribal_festival_brawling_potential_winner_2 value >= 60 }
				}
			}

			mult_modifier = {
				factor = 1.75
				event_target:great_tribal_festival_host = {
					combat_rating_diff = { who = event_target:tribal_festival_brawling_potential_winner_1 value >= 70 }
					combat_rating_diff = { who = event_target:tribal_festival_brawling_potential_winner_2 value >= 70 }
				}
			}

			mult_modifier = {
				factor = 1.5
				event_target:great_tribal_festival_host = { trait = duelist }
			}

			mult_modifier = {
				factor = 1.25
				event_target:great_tribal_festival_host = { trait = brave }
			}

			mult_modifier = {
				factor = 1.25
				event_target:great_tribal_festival_host = { trait = strong }
			}

			mult_modifier = {
				factor = 1.05
				event_target:great_tribal_festival_host = { trait = brawny }
			}

			mult_modifier = {
				factor = 1.05
				event_target:great_tribal_festival_host = { trait = genius }
			}

			mult_modifier = {
				factor = 1.05
				event_target:great_tribal_festival_host = { trait = quick }
			}

			mult_modifier = {
				factor = 1.05
				event_target:great_tribal_festival_host = { trait = berserker }
			}

			mult_modifier = {
				factor = 0.95
				event_target:great_tribal_festival_host = { trait = craven }
			}

			mult_modifier = {
				factor = 0.95
				event_target:great_tribal_festival_host = { trait = weak }
			}

			mult_modifier = {
				factor = 0.95
				event_target:great_tribal_festival_host = { trait = frail }
			}

			mult_modifier = {
				factor = 0.75
				event_target:great_tribal_festival_host = { trait = mangled }
			}

			mult_modifier = {
				factor = 0.95
				event_target:great_tribal_festival_host = { trait = infirm }
			}

			mult_modifier = {
				factor = 0.25
				event_target:great_tribal_festival_host = { is_incapable = yes }
			}

			mult_modifier = {
				factor = 0.95
				event_target:great_tribal_festival_host = { trait = wounded }
			}

			mult_modifier = {
				factor = 1.5
				event_target:great_tribal_festival_host = { has_character_modifier = tribal_festival_very_good_fortune }
			}

			mult_modifier = {
				factor = 1.25
				event_target:great_tribal_festival_host = { has_character_modifier = tribal_festival_good_fortune }
			}

			mult_modifier = {
				factor = 0.75
				event_target:great_tribal_festival_host = { has_character_modifier = tribal_festival_bad_fortune }
			}

			mult_modifier = {
				factor = 1.5
				event_target:great_tribal_festival_host = { has_character_modifier = enjoying_the_countryside }
			}

			mult_modifier = {
				factor = 1.5
				event_target:great_tribal_festival_host = { has_character_modifier = tribal_festival_bought_strength_potion }
			}

			mult_modifier = {
				factor = 1.35
				event_target:great_tribal_festival_host = { has_character_modifier = tribal_festival_bought_strength_charm }
			}

			mult_modifier = {
				factor = 1.15
				event_target:great_tribal_festival_host = { has_character_modifier = tribal_festival_bought_bravery_amulet }
			}

			event_target:great_tribal_festival_host = { save_event_target_as = tribal_festival_winner }
			event_target:tribal_festival_brawling_potential_winner_1 = { save_event_target_as = tribal_festival_loser }
			event_target:tribal_festival_winner = { character_event = { id = HF.23880 } }
		}

		25 = { # Fallback, if no potential winner exists in the first place
			trigger = {
				event_target:tribal_festival_brawling_potential_winner_1 = { is_alive = no }
				event_target:tribal_festival_brawling_potential_winner_2 = { is_alive = no }
				event_target:great_tribal_festival_host = { NOT = { has_character_flag = flag_tribal_festival_brawling_contender } }
			}

			spawn_good_commander_effect = yes # Saved as invited_character

			event_target:invited_character = {
				character_event = { id = HF.23880 } # Surprise winner
			}
		}
	}
}

pick_potential_drinking_winners_effect = {
	if = {
		limit = {
			any_realm_character = {
				has_character_flag = flag_tribal_festival_drinking_contender
			}
		}

		random_realm_character = { # First
			limit = { has_character_flag = flag_tribal_festival_drinking_contender }

			preferred_limit = {
				trait = hedonist
				trait = drunkard
				trait = diligent
				trait = ambitious
				is_strong_trigger = yes
				practical_age >= 20
				practical_age < 50
				is_female = no
				is_ill = no
			}

			preferred_limit = {
				trait = drunkard
				trait = diligent
				trait = ambitious
				is_strong_trigger = yes
				practical_age >= 20
				practical_age < 50
				is_female = no
				is_ill = no
			}

			preferred_limit = {
				trait = drunkard
				trait = diligent
				trait = ambitious
				is_strong_trigger = yes
				practical_age >= 20
				practical_age < 50
				is_ill = no
			}

			preferred_limit = {
				trait = drunkard
				trait = diligent
				trait = ambitious
				is_strong_trigger = yes
				practical_age >= 20
				practical_age < 50
			}

			preferred_limit = {
				trait = drunkard
				trait = diligent
				is_strong_trigger = yes
				practical_age >= 20
				practical_age < 50
			}

			preferred_limit = {
				is_strong_trigger = yes
				practical_age >= 20
				practical_age < 50
				NOT = { trait = slothful }
			}

			preferred_limit = {
				trait = drunkard
				practical_age >= 20
				practical_age < 50
				NOT = { trait = slothful }
			}

			preferred_limit = {
				trait = drunkard
				is_weak_trigger = no
				NOT = { trait = slothful }
			}

			preferred_limit = {
				is_weak_trigger = no
				NOT = { trait = slothful }
			}

			preferred_limit = {
				trait = drunkard
				is_weak_trigger = no
				is_ill = no
			}

			preferred_limit = {
				is_weak_trigger = no
				is_ill = no
			}

			preferred_limit = {
				trait = drunkard
				is_weak_trigger = no
			}

			preferred_limit = {
				is_weak_trigger = no
			}

			preferred_limit = {
				trait = drunkard
			}

			save_event_target_as = tribal_festival_drinking_potential_winner_1
		}
	}

	if = {
		limit = {
			any_realm_character = {
				has_character_flag = flag_tribal_festival_drinking_contender
				NOT = { character = event_target:tribal_festival_drinking_potential_winner_1 }
			}
		}

		random_realm_character = { # Second
			limit = {
				has_character_flag = flag_tribal_festival_drinking_contender
				NOT = { character = event_target:tribal_festival_drinking_potential_winner_1 }
			}

			preferred_limit = {
				trait = hedonist
				trait = drunkard
				trait = diligent
				trait = ambitious
				is_strong_trigger = yes
				practical_age >= 20
				practical_age < 50
				is_female = no
				is_ill = no
			}

			preferred_limit = {
				trait = drunkard
				trait = diligent
				trait = ambitious
				is_strong_trigger = yes
				practical_age >= 20
				practical_age < 50
				is_female = no
				is_ill = no
			}

			preferred_limit = {
				trait = drunkard
				trait = diligent
				trait = ambitious
				is_strong_trigger = yes
				practical_age >= 20
				practical_age < 50
				is_ill = no
			}

			preferred_limit = {
				trait = drunkard
				trait = diligent
				trait = ambitious
				is_strong_trigger = yes
				practical_age >= 20
				practical_age < 50
			}

			preferred_limit = {
				trait = drunkard
				trait = diligent
				is_strong_trigger = yes
				practical_age >= 20
				practical_age < 50
			}

			preferred_limit = {
				is_strong_trigger = yes
				practical_age >= 20
				practical_age < 50
				NOT = { trait = slothful }
			}

			preferred_limit = {
				trait = drunkard
				practical_age >= 20
				practical_age < 50
				NOT = { trait = slothful }
			}

			preferred_limit = {
				trait = drunkard
				is_weak_trigger = no
				NOT = { trait = slothful }
			}

			preferred_limit = {
				is_weak_trigger = no
				NOT = { trait = slothful }
			}

			preferred_limit = {
				trait = drunkard
				is_weak_trigger = no
				is_ill = no
			}

			preferred_limit = {
				is_weak_trigger = no
				is_ill = no
			}

			preferred_limit = {
				trait = drunkard
				is_weak_trigger = no
			}

			preferred_limit = {
				is_weak_trigger = no
			}

			preferred_limit = {
				trait = drunkard
			}

			save_event_target_as = tribal_festival_drinking_potential_winner_2
		}
	}

	random_list = {
		25 = {
			trigger = {
				event_target:tribal_festival_drinking_potential_winner_1 = { is_alive = yes }
			}

			mult_modifier = {
				factor = 1.5
				event_target:tribal_festival_drinking_potential_winner_1 = { trait = hedonist }
			}

			mult_modifier = {
				factor = 1.5
				event_target:tribal_festival_drinking_potential_winner_1 = { trait = drunkard }
			}

			mult_modifier = {
				factor = 1.5
				event_target:tribal_festival_drinking_potential_winner_1 = { trait = diligent }
			}

			mult_modifier = {
				factor = 1.25
				event_target:tribal_festival_drinking_potential_winner_1 = { trait = brawny }
			}

			mult_modifier = {
				factor = 1.25
				event_target:tribal_festival_drinking_potential_winner_1 = { trait = sturdy }
			}

			mult_modifier = {
				factor = 1.25
				event_target:tribal_festival_drinking_potential_winner_1 = { trait = ambitious }
			}

			mult_modifier = {
				factor = 1.5
				event_target:tribal_festival_drinking_potential_winner_1 = { is_strong_trigger = yes }
			}

			mult_modifier = {
				factor = 1.05
				event_target:tribal_festival_drinking_potential_winner_1 = { trait = pirate }
			}

			mult_modifier = {
				factor = 1.05
				event_target:tribal_festival_drinking_potential_winner_1 = { trait = viking }
			}

			mult_modifier = {
				factor = 1.15
				event_target:tribal_festival_drinking_potential_winner_1 = { trait = ravager }
			}

			mult_modifier = {
				factor = 1.25
				event_target:tribal_festival_drinking_potential_winner_1 = { trait = sea_king }
			}

			mult_modifier = {
				factor = 1.25
				event_target:tribal_festival_drinking_potential_winner_1 = { trait = sea_queen }
			}

			mult_modifier = {
				factor = 0.75
				event_target:tribal_festival_drinking_potential_winner_1 = { trait = frail }
			}

			mult_modifier = {
				factor = 0.75
				event_target:tribal_festival_drinking_potential_winner_1 = { is_weak_trigger = yes }
			}

			mult_modifier = {
				factor = 0.75
				event_target:tribal_festival_drinking_potential_winner_1 = { trait = malnourished }
			}

			mult_modifier = {
				factor = 0.85
				event_target:tribal_festival_drinking_potential_winner_1 = { trait = slothful }
			}

			mult_modifier = {
				factor = 0.85
				event_target:tribal_festival_drinking_potential_winner_1 = { trait = content }
			}

			mult_modifier = {
				factor = 0.75
				event_target:tribal_festival_drinking_potential_winner_1 = { trait = temperate }
			}

			mult_modifier = {
				factor = 1.35
				event_target:tribal_festival_drinking_potential_winner_1 = { is_female = no }
			}

			mult_modifier = {
				factor = 1.5
				event_target:tribal_festival_drinking_potential_winner_1 = {
					practical_age >= 20
					practical_age < 50
				}
			}

			mult_modifier = {
				factor = 1.5
				event_target:tribal_festival_drinking_potential_winner_1 = { has_character_modifier = tribal_festival_very_good_fortune }
			}

			mult_modifier = {
				factor = 1.25
				event_target:tribal_festival_drinking_potential_winner_1 = { has_character_modifier = tribal_festival_good_fortune }
			}

			mult_modifier = {
				factor = 0.75
				event_target:tribal_festival_drinking_potential_winner_1 = { has_character_modifier = tribal_festival_bad_fortune }
			}

			mult_modifier = {
				factor = 1.5
				event_target:tribal_festival_drinking_potential_winner_1 = { has_character_modifier = enjoying_the_countryside }
			}

			mult_modifier = {
				factor = 1.5
				event_target:tribal_festival_drinking_potential_winner_1 = { has_character_modifier = tribal_festival_bought_strength_potion }
			}

			mult_modifier = {
				factor = 1.35
				event_target:tribal_festival_drinking_potential_winner_1 = { has_character_modifier = tribal_festival_bought_strength_charm }
			}

			mult_modifier = {
				factor = 1.15
				event_target:tribal_festival_drinking_potential_winner_1 = { has_character_modifier = tribal_festival_bought_bravery_amulet }
			}

			event_target:tribal_festival_drinking_potential_winner_1 = { save_event_target_as = tribal_festival_winner }
			event_target:tribal_festival_drinking_potential_winner_2 = { save_event_target_as = tribal_festival_loser }
			event_target:tribal_festival_winner = { character_event = { id = HF.23883 } }
		}

		25 = {
			trigger = {
				event_target:tribal_festival_drinking_potential_winner_2 = { is_alive = yes }
			}

			mult_modifier = {
				factor = 1.5
				event_target:tribal_festival_drinking_potential_winner_2 = { trait = hedonist }
			}

			mult_modifier = {
				factor = 1.5
				event_target:tribal_festival_drinking_potential_winner_2 = { trait = drunkard }
			}

			mult_modifier = {
				factor = 1.5
				event_target:tribal_festival_drinking_potential_winner_2 = { trait = diligent }
			}

			mult_modifier = {
				factor = 1.25
				event_target:tribal_festival_drinking_potential_winner_2 = { trait = brawny }
			}

			mult_modifier = {
				factor = 1.25
				event_target:tribal_festival_drinking_potential_winner_2 = { trait = sturdy }
			}

			mult_modifier = {
				factor = 1.25
				event_target:tribal_festival_drinking_potential_winner_2 = { trait = ambitious }
			}

			mult_modifier = {
				factor = 1.5
				event_target:tribal_festival_drinking_potential_winner_2 = { is_strong_trigger = yes }
			}

			mult_modifier = {
				factor = 1.05
				event_target:tribal_festival_drinking_potential_winner_2 = { trait = pirate }
			}

			mult_modifier = {
				factor = 1.05
				event_target:tribal_festival_drinking_potential_winner_2 = { trait = viking }
			}

			mult_modifier = {
				factor = 1.15
				event_target:tribal_festival_drinking_potential_winner_2 = { trait = ravager }
			}

			mult_modifier = {
				factor = 1.25
				event_target:tribal_festival_drinking_potential_winner_2 = { trait = sea_king }
			}

			mult_modifier = {
				factor = 1.25
				event_target:tribal_festival_drinking_potential_winner_2 = { trait = sea_queen }
			}

			mult_modifier = {
				factor = 0.75
				event_target:tribal_festival_drinking_potential_winner_2 = { trait = frail }
			}

			mult_modifier = {
				factor = 0.75
				event_target:tribal_festival_drinking_potential_winner_2 = { is_weak_trigger = yes }
			}

			mult_modifier = {
				factor = 0.75
				event_target:tribal_festival_drinking_potential_winner_2 = { trait = malnourished }
			}

			mult_modifier = {
				factor = 0.85
				event_target:tribal_festival_drinking_potential_winner_2 = { trait = slothful }
			}

			mult_modifier = {
				factor = 0.85
				event_target:tribal_festival_drinking_potential_winner_2 = { trait = content }
			}

			mult_modifier = {
				factor = 0.75
				event_target:tribal_festival_drinking_potential_winner_2 = { trait = temperate }
			}

			mult_modifier = {
				factor = 1.35
				event_target:tribal_festival_drinking_potential_winner_2 = { is_female = no }
			}

			mult_modifier = {
				factor = 1.5
				event_target:tribal_festival_drinking_potential_winner_2 = {
					practical_age >= 20
					practical_age < 50
				}
			}

			mult_modifier = {
				factor = 1.5
				event_target:tribal_festival_drinking_potential_winner_2 = { has_character_modifier = tribal_festival_very_good_fortune }
			}

			mult_modifier = {
				factor = 1.25
				event_target:tribal_festival_drinking_potential_winner_2 = { has_character_modifier = tribal_festival_good_fortune }
			}

			mult_modifier = {
				factor = 0.75
				event_target:tribal_festival_drinking_potential_winner_2 = { has_character_modifier = tribal_festival_bad_fortune }
			}

			mult_modifier = {
				factor = 1.5
				event_target:tribal_festival_drinking_potential_winner_2 = { has_character_modifier = enjoying_the_countryside }
			}

			mult_modifier = {
				factor = 1.5
				event_target:tribal_festival_drinking_potential_winner_2 = { has_character_modifier = tribal_festival_bought_strength_potion }
			}

			mult_modifier = {
				factor = 1.35
				event_target:tribal_festival_drinking_potential_winner_2 = { has_character_modifier = tribal_festival_bought_strength_charm }
			}

			mult_modifier = {
				factor = 1.15
				event_target:tribal_festival_drinking_potential_winner_2 = { has_character_modifier = tribal_festival_bought_bravery_amulet }
			}

			event_target:tribal_festival_drinking_potential_winner_2 = { save_event_target_as = tribal_festival_winner }
			event_target:tribal_festival_drinking_potential_winner_1 = { save_event_target_as = tribal_festival_loser }
			event_target:tribal_festival_winner = { character_event = { id = HF.23883 } }
		}

		25 = { # Host participating
			trigger = {
				event_target:great_tribal_festival_host = {
					is_alive = yes
					has_character_flag = flag_tribal_festival_drinking_contender

					NOR = {
						character = event_target:tribal_festival_drinking_potential_winner_1
						character = event_target:tribal_festival_drinking_potential_winner_2
					}
				}
			}

			mult_modifier = {
				factor = 1.5
				event_target:great_tribal_festival_host = { trait = hedonist }
			}

			mult_modifier = {
				factor = 1.5
				event_target:great_tribal_festival_host = { trait = drunkard }
			}

			mult_modifier = {
				factor = 1.5
				event_target:great_tribal_festival_host = { trait = diligent }
			}

			mult_modifier = {
				factor = 1.25
				event_target:great_tribal_festival_host = { trait = brawny }
			}

			mult_modifier = {
				factor = 1.25
				event_target:great_tribal_festival_host = { trait = sturdy }
			}

			mult_modifier = {
				factor = 1.25
				event_target:great_tribal_festival_host = { trait = ambitious }
			}

			mult_modifier = {
				factor = 1.5
				event_target:great_tribal_festival_host = { is_strong_trigger = yes }
			}

			mult_modifier = {
				factor = 1.05
				event_target:great_tribal_festival_host = { trait = pirate }
			}

			mult_modifier = {
				factor = 1.05
				event_target:great_tribal_festival_host = { trait = viking }
			}

			mult_modifier = {
				factor = 1.15
				event_target:great_tribal_festival_host = { trait = ravager }
			}

			mult_modifier = {
				factor = 1.25
				event_target:great_tribal_festival_host = { trait = sea_king }
			}

			mult_modifier = {
				factor = 1.25
				event_target:great_tribal_festival_host = { trait = sea_queen }
			}

			mult_modifier = {
				factor = 0.75
				event_target:great_tribal_festival_host = { trait = frail }
			}

			mult_modifier = {
				factor = 0.75
				event_target:great_tribal_festival_host = { is_weak_trigger = yes }
			}

			mult_modifier = {
				factor = 0.75
				event_target:great_tribal_festival_host = { trait = malnourished }
			}

			mult_modifier = {
				factor = 0.85
				event_target:great_tribal_festival_host = { trait = slothful }
			}

			mult_modifier = {
				factor = 0.85
				event_target:great_tribal_festival_host = { trait = content }
			}

			mult_modifier = {
				factor = 0.75
				event_target:great_tribal_festival_host = { trait = temperate }
			}

			mult_modifier = {
				factor = 1.35
				event_target:great_tribal_festival_host = { is_female = no }
			}

			mult_modifier = {
				factor = 1.5
				event_target:great_tribal_festival_host = {
					practical_age >= 20
					practical_age < 50
				}
			}

			mult_modifier = {
				factor = 1.5
				event_target:great_tribal_festival_host = { has_character_modifier = tribal_festival_very_good_fortune }
			}

			mult_modifier = {
				factor = 1.25
				event_target:great_tribal_festival_host = { has_character_modifier = tribal_festival_good_fortune }

			}
			mult_modifier = {
				factor = 0.75
				event_target:great_tribal_festival_host = { has_character_modifier = tribal_festival_bad_fortune }
			}

			mult_modifier = {
				factor = 1.5
				event_target:great_tribal_festival_host = { has_character_modifier = enjoying_the_countryside }
			}

			mult_modifier = {
				factor = 1.5
				event_target:great_tribal_festival_host = { has_character_modifier = tribal_festival_bought_strength_potion }
			}

			mult_modifier = {
				factor = 1.35
				event_target:great_tribal_festival_host = { has_character_modifier = tribal_festival_bought_strength_charm }
			}

			mult_modifier = {
				factor = 1.15
				event_target:great_tribal_festival_host = { has_character_modifier = tribal_festival_bought_bravery_amulet }
			}

			event_target:great_tribal_festival_host = { save_event_target_as = tribal_festival_winner }
			event_target:tribal_festival_drinking_potential_winner_1 = { save_event_target_as = tribal_festival_loser }
			event_target:tribal_festival_winner = { character_event = { id = HF.23883 } }
		}

		25 = { # Fallback, if no potential winner exists in the first place
			trigger = {
				event_target:tribal_festival_drinking_potential_winner_1 = { is_alive = no }
				event_target:tribal_festival_drinking_potential_winner_2 = { is_alive = no }
				event_target:great_tribal_festival_host = { NOT = { has_character_flag = flag_tribal_festival_drinking_contender } }
			}

			spawn_good_commander_effect = yes # Saved as invited_character

			event_target:invited_character = {
				character_event = { id = HF.23883 } # Surprise winner
			}
		}
	}
}

pick_potential_eating_winners_effect = {
	if = {
		limit = {
			any_realm_character = {
				has_character_flag = flag_tribal_festival_eating_contender
			}
		}

		random_realm_character = { # First
			limit = { has_character_flag = flag_tribal_festival_eating_contender }

			preferred_limit = {
				trait = hedonist
				trait = gluttonous
				trait = diligent
				trait = ambitious
				is_strong_trigger = yes
				practical_age >= 20
				practical_age < 50
				is_female = no
				is_ill = no
			}

			preferred_limit = {
				trait = gluttonous
				trait = diligent
				trait = ambitious
				is_strong_trigger = yes
				practical_age >= 20
				practical_age < 50
				is_female = no
				is_ill = no
			}

			preferred_limit = {
				trait = gluttonous
				trait = diligent
				trait = ambitious
				is_strong_trigger = yes
				practical_age >= 20
				practical_age < 50
				is_ill = no
			}

			preferred_limit = {
				trait = gluttonous
				trait = diligent
				trait = ambitious
				is_strong_trigger = yes
				practical_age >= 20
				practical_age < 50
			}

			preferred_limit = {
				trait = gluttonous
				trait = diligent
				is_strong_trigger = yes
				practical_age >= 20
				practical_age < 50
			}

			preferred_limit = {
				is_strong_trigger = yes
				practical_age >= 20
				practical_age < 50
				NOT = { trait = slothful }
			}

			preferred_limit = {
				trait = gluttonous
				practical_age >= 20
				practical_age < 50
				NOT = { trait = slothful }
			}

			preferred_limit = {
				trait = gluttonous
				is_weak_trigger = no
				NOT = { trait = slothful }
			}

			preferred_limit = {
				is_weak_trigger = no
				NOT = { trait = slothful }
			}

			preferred_limit = {
				trait = gluttonous
				is_weak_trigger = no
				is_ill = no
			}

			preferred_limit = {
				is_weak_trigger = no
				is_ill = no
			}

			preferred_limit = {
				trait = gluttonous
				is_weak_trigger = no
			}

			preferred_limit = {
				is_weak_trigger = no
			}

			preferred_limit = {
				trait = gluttonous
			}

			save_event_target_as = tribal_festival_eating_potential_winner_1
		}
	}

	if = {
		limit = {
			any_realm_character = {
				has_character_flag = flag_tribal_festival_eating_contender
				NOT = { character = event_target:tribal_festival_eating_potential_winner_1 }
			}
		}

		random_realm_character = { # Second
			limit = {
				has_character_flag = flag_tribal_festival_eating_contender
				NOT = { character = event_target:tribal_festival_eating_potential_winner_1 }
			}

			preferred_limit = {
				trait = hedonist
				trait = gluttonous
				trait = diligent
				trait = ambitious
				is_strong_trigger = yes
				practical_age >= 20
				practical_age < 50
				is_female = no
				is_ill = no
			}

			preferred_limit = {
				trait = gluttonous
				trait = diligent
				trait = ambitious
				is_strong_trigger = yes
				practical_age >= 20
				practical_age < 50
				is_female = no
				is_ill = no
			}

			preferred_limit = {
				trait = gluttonous
				trait = diligent
				trait = ambitious
				is_strong_trigger = yes
				practical_age >= 20
				practical_age < 50
				is_ill = no
			}

			preferred_limit = {
				trait = gluttonous
				trait = diligent
				trait = ambitious
				is_strong_trigger = yes
				practical_age >= 20
				practical_age < 50
			}

			preferred_limit = {
				trait = gluttonous
				trait = diligent
				is_strong_trigger = yes
				practical_age >= 20
				practical_age < 50
			}

			preferred_limit = {
				is_strong_trigger = yes
				practical_age >= 20
				practical_age < 50
				NOT = { trait = slothful }
			}

			preferred_limit = {
				trait = gluttonous
				practical_age >= 20
				practical_age < 50
				NOT = { trait = slothful }
			}

			preferred_limit = {
				trait = gluttonous
				is_weak_trigger = no
				NOT = { trait = slothful }
			}

			preferred_limit = {
				is_weak_trigger = no
				NOT = { trait = slothful }
			}

			preferred_limit = {
				trait = gluttonous
				is_weak_trigger = no
				is_ill = no
			}

			preferred_limit = {
				is_weak_trigger = no
				is_ill = no
			}

			preferred_limit = {
				trait = gluttonous
				is_weak_trigger = no
			}

			preferred_limit = {
				is_weak_trigger = no
			}

			preferred_limit = {
				trait = gluttonous
			}

			save_event_target_as = tribal_festival_eating_potential_winner_2
		}
	}

	random_list = {
		25 = {
			trigger = {
				event_target:tribal_festival_eating_potential_winner_1 = { is_alive = yes }
			}

			mult_modifier = {
				factor = 1.5
				event_target:tribal_festival_eating_potential_winner_1 = { trait = hedonist }
			}

			mult_modifier = {
				factor = 1.5
				event_target:tribal_festival_eating_potential_winner_1 = { trait = gluttonous }
			}

			mult_modifier = {
				factor = 1.5
				event_target:tribal_festival_eating_potential_winner_1 = { trait = diligent }
			}

			mult_modifier = {
				factor = 1.25
				event_target:tribal_festival_eating_potential_winner_1 = { trait = brawny }
			}

			mult_modifier = {
				factor = 1.25
				event_target:tribal_festival_eating_potential_winner_1 = { trait = sturdy }
			}

			mult_modifier = {
				factor = 1.25
				event_target:tribal_festival_eating_potential_winner_1 = { trait = ambitious }
			}

			mult_modifier = {
				factor = 1.5
				event_target:tribal_festival_eating_potential_winner_1 = { is_strong_trigger = yes }
			}

			mult_modifier = {
				factor = 1.35
				event_target:tribal_festival_eating_potential_winner_1 = { trait = fat }
			}

			mult_modifier = {
				factor = 1.05
				event_target:tribal_festival_eating_potential_winner_1 = { trait = pirate }
			}

			mult_modifier = {
				factor = 1.05
				event_target:tribal_festival_eating_potential_winner_1 = { trait = viking }
			}

			mult_modifier = {
				factor = 1.15
				event_target:tribal_festival_eating_potential_winner_1 = { trait = ravager }
			}

			mult_modifier = {
				factor = 1.25
				event_target:tribal_festival_eating_potential_winner_1 = { trait = sea_king }
			}

			mult_modifier = {
				factor = 1.25
				event_target:tribal_festival_eating_potential_winner_1 = { trait = sea_queen }
			}

			mult_modifier = {
				factor = 0.75
				event_target:tribal_festival_eating_potential_winner_1 = { trait = frail }
			}

			mult_modifier = {
				factor = 0.75
				event_target:tribal_festival_eating_potential_winner_1 = { is_weak_trigger = yes }
			}

			mult_modifier = {
				factor = 0.75
				event_target:tribal_festival_eating_potential_winner_1 = { trait = malnourished }
			}

			mult_modifier = {
				factor = 0.85
				event_target:tribal_festival_eating_potential_winner_1 = { trait = slothful }
			}

			mult_modifier = {
				factor = 0.85
				event_target:tribal_festival_eating_potential_winner_1 = { trait = content }
			}

			mult_modifier = {
				factor = 0.75
				event_target:tribal_festival_eating_potential_winner_1 = { trait = temperate }
			}

			mult_modifier = {
				factor = 1.35
				event_target:tribal_festival_eating_potential_winner_1 = { is_female = no }
			}

			mult_modifier = {
				factor = 1.5
				event_target:tribal_festival_eating_potential_winner_1 = {
					practical_age >= 20
					practical_age < 50
				}
			}

			mult_modifier = {
				factor = 1.5
				event_target:tribal_festival_eating_potential_winner_1 = { has_character_modifier = tribal_festival_very_good_fortune }
			}

			mult_modifier = {
				factor = 1.25
				event_target:tribal_festival_eating_potential_winner_1 = { has_character_modifier = tribal_festival_good_fortune }
			}

			mult_modifier = {
				factor = 0.75
				event_target:tribal_festival_eating_potential_winner_1 = { has_character_modifier = tribal_festival_bad_fortune }
			}

			mult_modifier = {
				factor = 1.5
				event_target:tribal_festival_eating_potential_winner_1 = { has_character_modifier = enjoying_the_countryside }
			}

			mult_modifier = {
				factor = 1.5
				event_target:tribal_festival_eating_potential_winner_1 = { has_character_modifier = tribal_festival_bought_strength_potion }
			}

			mult_modifier = {
				factor = 1.35
				event_target:tribal_festival_eating_potential_winner_1 = { has_character_modifier = tribal_festival_bought_strength_charm }
			}

			mult_modifier = {
				factor = 1.15
				event_target:tribal_festival_eating_potential_winner_1 = { has_character_modifier = tribal_festival_bought_bravery_amulet }
			}

			event_target:tribal_festival_eating_potential_winner_1 = { save_event_target_as = tribal_festival_winner }
			event_target:tribal_festival_eating_potential_winner_2 = { save_event_target_as = tribal_festival_loser }
			event_target:tribal_festival_winner = { character_event = { id = HF.23886 } }
		}

		25 = {
			trigger = {
				event_target:tribal_festival_eating_potential_winner_2 = { is_alive = yes }
			}

			mult_modifier = {
				factor = 1.5
				event_target:tribal_festival_eating_potential_winner_2 = { trait = hedonist }
			}

			mult_modifier = {
				factor = 1.5
				event_target:tribal_festival_eating_potential_winner_2 = { trait = gluttonous }
			}

			mult_modifier = {
				factor = 1.5
				event_target:tribal_festival_eating_potential_winner_2 = { trait = diligent }
			}

			mult_modifier = {
				factor = 1.25
				event_target:tribal_festival_eating_potential_winner_2 = { trait = brawny }
			}

			mult_modifier = {
				factor = 1.25
				event_target:tribal_festival_eating_potential_winner_2 = { trait = sturdy }
			}

			mult_modifier = {
				factor = 1.25
				event_target:tribal_festival_eating_potential_winner_2 = { trait = ambitious }
			}

			mult_modifier = {
				factor = 1.5
				event_target:tribal_festival_eating_potential_winner_2 = { is_strong_trigger = yes }
			}

			mult_modifier = {
				factor = 1.35
				event_target:tribal_festival_eating_potential_winner_2 = { trait = fat }
			}

			mult_modifier = {
				factor = 1.05
				event_target:tribal_festival_eating_potential_winner_2 = { trait = pirate }
			}

			mult_modifier = {
				factor = 1.05
				event_target:tribal_festival_eating_potential_winner_2 = { trait = viking }
			}

			mult_modifier = {
				factor = 1.15
				event_target:tribal_festival_eating_potential_winner_2 = { trait = ravager }
			}

			mult_modifier = {
				factor = 1.25
				event_target:tribal_festival_eating_potential_winner_2 = { trait = sea_king }
			}

			mult_modifier = {
				factor = 1.25
				event_target:tribal_festival_eating_potential_winner_2 = { trait = sea_queen }
			}

			mult_modifier = {
				factor = 0.75
				event_target:tribal_festival_eating_potential_winner_2 = { trait = frail }
			}

			mult_modifier = {
				factor = 0.75
				event_target:tribal_festival_eating_potential_winner_2 = { is_weak_trigger = yes }
			}

			mult_modifier = {
				factor = 0.75
				event_target:tribal_festival_eating_potential_winner_2 = { trait = malnourished }
			}

			mult_modifier = {
				factor = 0.85
				event_target:tribal_festival_eating_potential_winner_2 = { trait = slothful }
			}

			mult_modifier = {
				factor = 0.85
				event_target:tribal_festival_eating_potential_winner_2 = { trait = content }
			}

			mult_modifier = {
				factor = 0.75
				event_target:tribal_festival_eating_potential_winner_2 = { trait = temperate }
			}

			mult_modifier = {
				factor = 1.35
				event_target:tribal_festival_eating_potential_winner_2 = { is_female = no }
			}

			mult_modifier = {
				factor = 1.5
				event_target:tribal_festival_eating_potential_winner_2 = {
					practical_age >= 20
					practical_age < 50
				}
			}

			mult_modifier = {
				factor = 1.5
				event_target:tribal_festival_eating_potential_winner_2 = { has_character_modifier = tribal_festival_very_good_fortune }
			}

			mult_modifier = {
				factor = 1.25
				event_target:tribal_festival_eating_potential_winner_2 = { has_character_modifier = tribal_festival_good_fortune }
			}

			mult_modifier = {
				factor = 0.75
				event_target:tribal_festival_eating_potential_winner_2 = { has_character_modifier = tribal_festival_bad_fortune }
			}

			mult_modifier = {
				factor = 1.5
				event_target:tribal_festival_eating_potential_winner_2 = { has_character_modifier = enjoying_the_countryside }
			}

			mult_modifier = {
				factor = 1.5
				event_target:tribal_festival_eating_potential_winner_2 = { has_character_modifier = tribal_festival_bought_strength_potion }
			}

			mult_modifier = {
				factor = 1.35
				event_target:tribal_festival_eating_potential_winner_2 = { has_character_modifier = tribal_festival_bought_strength_charm }
			}

			mult_modifier = {
				factor = 1.15
				event_target:tribal_festival_eating_potential_winner_2 = { has_character_modifier = tribal_festival_bought_bravery_amulet }
			}

			event_target:tribal_festival_eating_potential_winner_2 = { save_event_target_as = tribal_festival_winner }
			event_target:tribal_festival_eating_potential_winner_1 = { save_event_target_as = tribal_festival_loser }
			event_target:tribal_festival_winner = { character_event = { id = HF.23886 } }
		}

		25 = { # Host participating
			trigger = {
				event_target:great_tribal_festival_host = {
					is_alive = yes
					has_character_flag = flag_tribal_festival_eating_contender

					NOT = {
						character = event_target:tribal_festival_drinking_potential_winner_1
						character = event_target:tribal_festival_drinking_potential_winner_2
					}
				}
			}

			mult_modifier = {
				factor = 1.5
				event_target:great_tribal_festival_host = { trait = hedonist }
			}

			mult_modifier = {
				factor = 1.5
				event_target:great_tribal_festival_host = { trait = gluttonous }
			}

			mult_modifier = {
				factor = 1.5
				event_target:great_tribal_festival_host = { trait = diligent }
			}

			mult_modifier = {
				factor = 1.25
				event_target:great_tribal_festival_host = { trait = brawny }
			}

			mult_modifier = {
				factor = 1.25
				event_target:great_tribal_festival_host = { trait = sturdy }
			}

			mult_modifier = {
				factor = 1.25
				event_target:great_tribal_festival_host = { trait = ambitious }
			}

			mult_modifier = {
				factor = 1.5
				event_target:great_tribal_festival_host = { is_strong_trigger = yes }
			}

			mult_modifier = {
				factor = 1.35
				event_target:great_tribal_festival_host = { trait = fat }
			}

			mult_modifier = {
				factor = 1.05
				event_target:great_tribal_festival_host = { trait = pirate }
			}

			mult_modifier = {
				factor = 1.05
				event_target:great_tribal_festival_host = { trait = viking }
			}

			mult_modifier = {
				factor = 1.15
				event_target:great_tribal_festival_host = { trait = ravager }
			}

			mult_modifier = {
				factor = 1.25
				event_target:great_tribal_festival_host = { trait = sea_king }
			}

			mult_modifier = {
				factor = 1.25
				event_target:great_tribal_festival_host = { trait = sea_queen }
			}

			mult_modifier = {
				factor = 0.75
				event_target:great_tribal_festival_host = { trait = frail }
			}

			mult_modifier = {
				factor = 0.75
				event_target:great_tribal_festival_host = { is_weak_trigger = yes }
			}

			mult_modifier = {
				factor = 0.75
				event_target:great_tribal_festival_host = { trait = malnourished }
			}

			mult_modifier = {
				factor = 0.85
				event_target:great_tribal_festival_host = { trait = slothful }
			}

			mult_modifier = {
				factor = 0.85
				event_target:great_tribal_festival_host = { trait = content }
			}

			mult_modifier = {
				factor = 0.75
				event_target:great_tribal_festival_host = { trait = temperate }
			}

			mult_modifier = {
				factor = 1.35
				event_target:great_tribal_festival_host = { is_female = no }
			}

			mult_modifier = {
				factor = 1.5
				event_target:great_tribal_festival_host = {
					practical_age >= 20
					practical_age < 50
				}
			}

			mult_modifier = {
				factor = 1.5
				event_target:great_tribal_festival_host = { has_character_modifier = tribal_festival_very_good_fortune }
			}

			mult_modifier = {
				factor = 1.25
				event_target:great_tribal_festival_host = { has_character_modifier = tribal_festival_good_fortune }
			}

			mult_modifier = {
				factor = 0.75
				event_target:great_tribal_festival_host = { has_character_modifier = tribal_festival_bad_fortune }
			}

			mult_modifier = {
				factor = 1.5
				event_target:great_tribal_festival_host = { has_character_modifier = enjoying_the_countryside }
			}

			mult_modifier = {
				factor = 1.5
				event_target:great_tribal_festival_host = { has_character_modifier = tribal_festival_bought_strength_potion }
			}

			mult_modifier = {
				factor = 1.35
				event_target:great_tribal_festival_host = { has_character_modifier = tribal_festival_bought_strength_charm }
			}

			mult_modifier = {
				factor = 1.15
				event_target:great_tribal_festival_host = { has_character_modifier = tribal_festival_bought_bravery_amulet }
			}

			event_target:great_tribal_festival_host = { save_event_target_as = tribal_festival_winner }
			event_target:tribal_festival_eating_potential_winner_1 = { save_event_target_as = tribal_festival_loser }
			event_target:tribal_festival_winner = { character_event = { id = HF.23886 } }
		}

		25 = { # Fallback, if no potential winner exists in the first place
			trigger = {
				event_target:tribal_festival_eating_potential_winner_1 = { is_alive = no }
				event_target:tribal_festival_eating_potential_winner_2 = { is_alive = no }
				event_target:great_tribal_festival_host = { NOT = { has_character_flag = flag_tribal_festival_eating_contender } }
			}

			spawn_good_commander_effect = yes # Saved as invited_character

			event_target:invited_character = {
				character_event = { id = HF.23886 } # Surprise winner
			}
		}
	}
}

pick_potential_taming_winners_effect = {
	if = {
		limit = {
			any_realm_character = {
				has_character_flag = flag_tribal_festival_taming_contender
			}
		}

		random_realm_character = { # First
			limit = { has_character_flag = flag_tribal_festival_taming_contender }

			preferred_limit = {
				combat_rating >= 200

				OR = {
					is_strong_trigger = yes
					is_smart_trigger = yes
					has_education_martial_trigger = yes
					has_lifestyle_martial_trigger = yes
				}
			}

			preferred_limit = {
				combat_rating >= 200

				NOR = {
					is_weak_trigger = yes
					is_dumb_trigger = yes
				}
			}

			preferred_limit = {
				combat_rating >= 200
			}

			preferred_limit = {
				combat_rating >= 150

				OR = {
					is_strong_trigger = yes
					is_smart_trigger = yes
					has_education_martial_trigger = yes
					has_lifestyle_martial_trigger = yes
				}
			}

			preferred_limit = {
				combat_rating >= 150

				NOR = {
					is_weak_trigger = yes
					is_dumb_trigger = yes
				}
			}

			preferred_limit = {
				combat_rating >= 150
			}

			preferred_limit = {
				combat_rating >= 100

				OR = {
					is_strong_trigger = yes
					is_smart_trigger = yes
					has_education_martial_trigger = yes
					has_lifestyle_martial_trigger = yes
				}
			}

			preferred_limit = {
				combat_rating >= 100

				NOR = {
					is_weak_trigger = yes
					is_dumb_trigger = yes
				}
			}

			preferred_limit = {
				combat_rating >= 100
			}

			preferred_limit = {
				combat_rating >= 50

				OR = {
					is_strong_trigger = yes
					is_smart_trigger = yes
					has_education_martial_trigger = yes
					has_lifestyle_martial_trigger = yes
				}
			}

			preferred_limit = {
				combat_rating >= 50

				NOR = {
					is_weak_trigger = yes
					is_dumb_trigger = yes
				}
			}

			preferred_limit = {
				combat_rating >= 50
			}

			preferred_limit = {
				combat_rating >= 25

				OR = {
					is_strong_trigger = yes
					is_smart_trigger = yes
					has_education_martial_trigger = yes
					has_lifestyle_martial_trigger = yes
				}
			}

			preferred_limit = {
				combat_rating >= 25

				NOR = {
					is_weak_trigger = yes
					is_dumb_trigger = yes
				}
			}

			preferred_limit = {
				combat_rating >= 25
			}

			preferred_limit = {
				combat_rating >= 10

				OR = {
					is_strong_trigger = yes
					is_smart_trigger = yes
					has_education_martial_trigger = yes
					has_lifestyle_martial_trigger = yes
				}
			}

			preferred_limit = {
				combat_rating >= 10

				NOR = {
					is_weak_trigger = yes
					is_dumb_trigger = yes
				}
			}

			preferred_limit = {
				combat_rating >= 10
			}

			preferred_limit = {
				combat_rating >= 0

				OR = {
					is_strong_trigger = yes
					is_smart_trigger = yes
					has_education_martial_trigger = yes
					has_lifestyle_martial_trigger = yes
				}
			}

			preferred_limit = {
				combat_rating >= 0

				NOR = {
					is_weak_trigger = yes
					is_dumb_trigger = yes
				}
			}

			preferred_limit = {
				combat_rating >= 0
			}

			preferred_limit = {
				trait = brave
			}

			preferred_limit = {
				NOT = { trait = craven }
			}

			save_event_target_as = tribal_festival_taming_potential_winner_1
		}
	}

	if = {
		limit = {
			any_realm_character = {
				has_character_flag = flag_tribal_festival_taming_contender
				NOT = { character = event_target:tribal_festival_taming_potential_winner_1 }
			}
		}

		random_realm_character = { # Second
			limit = {
				has_character_flag = flag_tribal_festival_taming_contender
				NOT = { character = event_target:tribal_festival_taming_potential_winner_1 }
			}

			preferred_limit = {
				combat_rating >= 200

				OR = {
					is_strong_trigger = yes
					is_smart_trigger = yes
					has_education_martial_trigger = yes
					has_lifestyle_martial_trigger = yes
				}
			}

			preferred_limit = {
				combat_rating >= 200

				NOR = {
					is_weak_trigger = yes
					is_dumb_trigger = yes
				}
			}

			preferred_limit = {
				combat_rating >= 200
			}

			preferred_limit = {
				combat_rating >= 150

				OR = {
					is_strong_trigger = yes
					is_smart_trigger = yes
					has_education_martial_trigger = yes
					has_lifestyle_martial_trigger = yes
				}
			}

			preferred_limit = {
				combat_rating >= 150

				NOR = {
					is_weak_trigger = yes
					is_dumb_trigger = yes
				}
			}

			preferred_limit = {
				combat_rating >= 150
			}

			preferred_limit = {
				combat_rating >= 100

				OR = {
					is_strong_trigger = yes
					is_smart_trigger = yes
					has_education_martial_trigger = yes
					has_lifestyle_martial_trigger = yes
				}
			}

			preferred_limit = {
				combat_rating >= 100

				NOR = {
					is_weak_trigger = yes
					is_dumb_trigger = yes
				}
			}

			preferred_limit = {
				combat_rating >= 100
			}

			preferred_limit = {
				combat_rating >= 50

				OR = {
					is_strong_trigger = yes
					is_smart_trigger = yes
					has_education_martial_trigger = yes
					has_lifestyle_martial_trigger = yes
				}
			}

			preferred_limit = {
				combat_rating >= 50

				NOR = {
					is_weak_trigger = yes
					is_dumb_trigger = yes
				}
			}

			preferred_limit = {
				combat_rating >= 50
			}

			preferred_limit = {
				combat_rating >= 25

				OR = {
					is_strong_trigger = yes
					is_smart_trigger = yes
					has_education_martial_trigger = yes
					has_lifestyle_martial_trigger = yes
				}
			}

			preferred_limit = {
				combat_rating >= 25

				NOR = {
					is_weak_trigger = yes
					is_dumb_trigger = yes
				}
			}

			preferred_limit = {
				combat_rating >= 25
			}

			preferred_limit = {
				combat_rating >= 10

				OR = {
					is_strong_trigger = yes
					is_smart_trigger = yes
					has_education_martial_trigger = yes
					has_lifestyle_martial_trigger = yes
				}
			}

			preferred_limit = {
				combat_rating >= 10

				NOR = {
					is_weak_trigger = yes
					is_dumb_trigger = yes
				}
			}

			preferred_limit = {
				combat_rating >= 10
			}

			preferred_limit = {
				combat_rating >= 0

				OR = {
					is_strong_trigger = yes
					is_smart_trigger = yes
					has_education_martial_trigger = yes
					has_lifestyle_martial_trigger = yes
				}
			}

			preferred_limit = {
				combat_rating >= 0

				NOR = {
					is_weak_trigger = yes
					is_dumb_trigger = yes
				}
			}

			preferred_limit = {
				combat_rating >= 0
			}

			preferred_limit = {
				trait = brave
			}

			preferred_limit = {
				NOT = { trait = craven }
			}

			save_event_target_as = tribal_festival_taming_potential_winner_2
		}
	}

	random_list = {
		25 = {
			trigger = {
				event_target:tribal_festival_taming_potential_winner_1 = { is_alive = yes }
			}

			mult_modifier = {
				factor = 0.1 # The difference in skill compared to the other fighters is too much
				event_target:tribal_festival_taming_potential_winner_2 = {
					combat_rating_diff = { who = event_target:tribal_festival_taming_potential_winner_1 value >= 40 }
				}
			}

			mult_modifier = {
				factor = 0.75
				event_target:tribal_festival_taming_potential_winner_2 = {
					combat_rating_diff = { who = event_target:tribal_festival_taming_potential_winner_1 value >= 10 }
				}
			}

			mult_modifier = {
				factor = 0.75
				event_target:tribal_festival_taming_potential_winner_2 = {
					combat_rating_diff = { who = event_target:tribal_festival_taming_potential_winner_1 value >= 20 }
				}
			}

			mult_modifier = {
				factor = 0.75
				event_target:tribal_festival_taming_potential_winner_2 = {
					combat_rating_diff = { who = event_target:tribal_festival_taming_potential_winner_1 value >= 30 }
				}
			}

			mult_modifier = {
				factor = 1.5
				event_target:tribal_festival_taming_potential_winner_1 = {
					combat_rating_diff = { who = event_target:tribal_festival_taming_potential_winner_2 value >= 5 }
				}
			}

			mult_modifier = {
				factor = 1.5
				event_target:tribal_festival_taming_potential_winner_1 = {
					combat_rating_diff = { who = event_target:tribal_festival_taming_potential_winner_2 value >= 10 }
				}
			}

			mult_modifier = {
				factor = 1.5
				event_target:tribal_festival_taming_potential_winner_1 = {
					combat_rating_diff = { who = event_target:tribal_festival_taming_potential_winner_2 value >= 15 }
				}
			}

			mult_modifier = {
				factor = 1.5
				event_target:tribal_festival_taming_potential_winner_1 = {
					combat_rating_diff = { who = event_target:tribal_festival_taming_potential_winner_2 value >= 20 }
				}
			}

			mult_modifier = {
				factor = 1.5
				event_target:tribal_festival_taming_potential_winner_1 = {
					combat_rating_diff = { who = event_target:tribal_festival_taming_potential_winner_2 value >= 30 }
				}
			}

			mult_modifier = {
				factor = 1.5
				event_target:tribal_festival_taming_potential_winner_1 = {
					combat_rating_diff = { who = event_target:tribal_festival_taming_potential_winner_2 value >= 40 }
				}
			}

			mult_modifier = {
				factor = 1.5
				event_target:tribal_festival_taming_potential_winner_1 = {
					combat_rating_diff = { who = event_target:tribal_festival_taming_potential_winner_2 value >= 50 }
				}
			}

			mult_modifier = {
				factor = 1.75
				event_target:tribal_festival_taming_potential_winner_1 = {
					combat_rating_diff = { who = event_target:tribal_festival_taming_potential_winner_2 value >= 60 }
				}
			}

			mult_modifier = {
				factor = 1.75
				event_target:tribal_festival_taming_potential_winner_1 = {
					combat_rating_diff = { who = event_target:tribal_festival_taming_potential_winner_2 value >= 70 }
				}
			}

			mult_modifier = {
				factor = 1.5
				event_target:tribal_festival_taming_potential_winner_1 = { trait = duelist }
			}

			mult_modifier = {
				factor = 1.25
				event_target:tribal_festival_taming_potential_winner_1 = { trait = brave }
			}

			mult_modifier = {
				factor = 1.25
				event_target:tribal_festival_taming_potential_winner_1 = { trait = strong }
			}

			mult_modifier = {
				factor = 1.05
				event_target:tribal_festival_taming_potential_winner_1 = { trait = brawny }
			}

			mult_modifier = {
				factor = 1.05
				event_target:tribal_festival_taming_potential_winner_1 = { trait = genius }
			}

			mult_modifier = {
				factor = 1.05
				event_target:tribal_festival_taming_potential_winner_1 = { trait = quick }
			}

			mult_modifier = {
				factor = 1.05
				event_target:tribal_festival_taming_potential_winner_1 = { trait = berserker }
			}

			mult_modifier = {
				factor = 0.95
				event_target:tribal_festival_taming_potential_winner_1 = { trait = craven }
			}

			mult_modifier = {
				factor = 0.95
				event_target:tribal_festival_taming_potential_winner_1 = { trait = weak }
			}

			mult_modifier = {
				factor = 0.95
				event_target:tribal_festival_taming_potential_winner_1 = { trait = frail }
			}

			mult_modifier = {
				factor = 0.75
				event_target:tribal_festival_taming_potential_winner_1 = { trait = mangled }
			}

			mult_modifier = {
				factor = 0.95
				event_target:tribal_festival_taming_potential_winner_1 = { trait = infirm }
			}

			mult_modifier = {
				factor = 0.25
				event_target:tribal_festival_taming_potential_winner_1 = { is_incapable = yes }
			}

			mult_modifier = {
				factor = 0.95
				event_target:tribal_festival_taming_potential_winner_1 = { trait = wounded }
			}

			mult_modifier = {
				factor = 1.5
				event_target:tribal_festival_taming_potential_winner_1 = { has_character_modifier = tribal_festival_very_good_fortune }
			}

			mult_modifier = {
				factor = 1.25
				event_target:tribal_festival_taming_potential_winner_1 = { has_character_modifier = tribal_festival_good_fortune }
			}

			mult_modifier = {
				factor = 0.75
				event_target:tribal_festival_taming_potential_winner_1 = { has_character_modifier = tribal_festival_bad_fortune }
			}

			mult_modifier = {
				factor = 1.5
				event_target:tribal_festival_taming_potential_winner_1 = { has_character_modifier = enjoying_the_countryside }
			}

			mult_modifier = {
				factor = 1.5
				event_target:tribal_festival_taming_potential_winner_1 = { has_character_modifier = tribal_festival_bought_strength_potion }
			}

			mult_modifier = {
				factor = 1.35
				event_target:tribal_festival_taming_potential_winner_1 = { has_character_modifier = tribal_festival_bought_strength_charm }
			}

			mult_modifier = {
				factor = 1.15
				event_target:tribal_festival_taming_potential_winner_1 = { has_character_modifier = tribal_festival_bought_bravery_amulet }
			}

			event_target:tribal_festival_taming_potential_winner_1 = { save_event_target_as = tribal_festival_winner }
			event_target:tribal_festival_taming_potential_winner_2 = { save_event_target_as = tribal_festival_loser }
			event_target:tribal_festival_winner = { character_event = { id = HF.23889 } }
		}

		25 = {
			trigger = {
				event_target:tribal_festival_taming_potential_winner_2 = { is_alive = yes }
			}

			mult_modifier = {
				factor = 0.1 # The difference in skill compared to the other fighters is too much
				event_target:tribal_festival_taming_potential_winner_1 = {
					combat_rating_diff = { who = event_target:tribal_festival_taming_potential_winner_2 value >= 40 }
				}
			}

			mult_modifier = {
				factor = 0.75
				event_target:tribal_festival_taming_potential_winner_1 = {
					combat_rating_diff = { who = event_target:tribal_festival_taming_potential_winner_2 value >= 10 }
				}
			}

			mult_modifier = {
				factor = 0.75
				event_target:tribal_festival_taming_potential_winner_1 = {
					combat_rating_diff = { who = event_target:tribal_festival_taming_potential_winner_2 value >= 20 }
				}
			}

			mult_modifier = {
				factor = 0.75
				event_target:tribal_festival_taming_potential_winner_1 = {
					combat_rating_diff = { who = event_target:tribal_festival_taming_potential_winner_2 value >= 30 }
				}
			}

			mult_modifier = {
				factor = 1.5
				event_target:tribal_festival_taming_potential_winner_2 = {
					combat_rating_diff = { who = event_target:tribal_festival_taming_potential_winner_1 value >= 5 }
				}
			}

			mult_modifier = {
				factor = 1.5
				event_target:tribal_festival_taming_potential_winner_2 = {
					combat_rating_diff = { who = event_target:tribal_festival_taming_potential_winner_1 value >= 10 }
				}
			}

			mult_modifier = {
				factor = 1.5
				event_target:tribal_festival_taming_potential_winner_2 = {
					combat_rating_diff = { who = event_target:tribal_festival_taming_potential_winner_1 value >= 15 }
				}
			}

			mult_modifier = {
				factor = 1.5
				event_target:tribal_festival_taming_potential_winner_2 = {
					combat_rating_diff = { who = event_target:tribal_festival_taming_potential_winner_1 value >= 20 }
				}
			}

			mult_modifier = {
				factor = 1.5
				event_target:tribal_festival_taming_potential_winner_2 = {
					combat_rating_diff = { who = event_target:tribal_festival_taming_potential_winner_1 value >= 30 }
				}
			}

			mult_modifier = {
				factor = 1.5
				event_target:tribal_festival_taming_potential_winner_2 = {
					combat_rating_diff = { who = event_target:tribal_festival_taming_potential_winner_1 value >= 40 }
				}
			}

			mult_modifier = {
				factor = 1.5
				event_target:tribal_festival_taming_potential_winner_2 = {
					combat_rating_diff = { who = event_target:tribal_festival_taming_potential_winner_1 value >= 50 }
				}
			}

			mult_modifier = {
				factor = 1.75
				event_target:tribal_festival_taming_potential_winner_2 = {
					combat_rating_diff = { who = event_target:tribal_festival_taming_potential_winner_1 value >= 60 }
				}
			}

			mult_modifier = {
				factor = 1.75
				event_target:tribal_festival_taming_potential_winner_2 = {
					combat_rating_diff = { who = event_target:tribal_festival_taming_potential_winner_1 value >= 70 }
				}
			}

			mult_modifier = {
				factor = 1.5
				event_target:tribal_festival_taming_potential_winner_2 = { trait = duelist }
			}

			mult_modifier = {
				factor = 1.25
				event_target:tribal_festival_taming_potential_winner_2 = { trait = brave }
			}

			mult_modifier = {
				factor = 1.25
				event_target:tribal_festival_taming_potential_winner_2 = { trait = strong }
			}

			mult_modifier = {
				factor = 1.05
				event_target:tribal_festival_taming_potential_winner_2 = { trait = brawny }
			}

			mult_modifier = {
				factor = 1.05
				event_target:tribal_festival_taming_potential_winner_2 = { trait = genius }
			}

			mult_modifier = {
				factor = 1.05
				event_target:tribal_festival_taming_potential_winner_2 = { trait = quick }
			}

			mult_modifier = {
				factor = 1.05
				event_target:tribal_festival_taming_potential_winner_2 = { trait = berserker }
			}

			mult_modifier = {
				factor = 0.95
				event_target:tribal_festival_taming_potential_winner_2 = { trait = craven }
			}

			mult_modifier = {
				factor = 0.95
				event_target:tribal_festival_taming_potential_winner_2 = { trait = weak }
			}

			mult_modifier = {
				factor = 0.95
				event_target:tribal_festival_taming_potential_winner_2 = { trait = frail }
			}

			mult_modifier = {
				factor = 0.75
				event_target:tribal_festival_taming_potential_winner_2 = { trait = mangled }
			}

			mult_modifier = {
				factor = 0.95
				event_target:tribal_festival_taming_potential_winner_2 = { trait = infirm }
			}

			mult_modifier = {
				factor = 0.25
				event_target:tribal_festival_taming_potential_winner_2 = { is_incapable = yes }
			}

			mult_modifier = {
				factor = 0.95
				event_target:tribal_festival_taming_potential_winner_2 = { trait = wounded }
			}

			mult_modifier = {
				factor = 1.5
				event_target:tribal_festival_taming_potential_winner_2 = { has_character_modifier = tribal_festival_very_good_fortune }
			}

			mult_modifier = {
				factor = 1.25
				event_target:tribal_festival_taming_potential_winner_2 = { has_character_modifier = tribal_festival_good_fortune }
			}

			mult_modifier = {
				factor = 0.75
				event_target:tribal_festival_taming_potential_winner_2 = { has_character_modifier = tribal_festival_bad_fortune }
			}

			mult_modifier = {
				factor = 1.5
				event_target:tribal_festival_taming_potential_winner_2 = { has_character_modifier = enjoying_the_countryside }
			}

			mult_modifier = {
				factor = 1.5
				event_target:tribal_festival_taming_potential_winner_2 = { has_character_modifier = tribal_festival_bought_strength_potion }
			}

			mult_modifier = {
				factor = 1.35
				event_target:tribal_festival_taming_potential_winner_2 = { has_character_modifier = tribal_festival_bought_strength_charm }
			}

			mult_modifier = {
				factor = 1.15
				event_target:tribal_festival_taming_potential_winner_2 = { has_character_modifier = tribal_festival_bought_bravery_amulet }
			}

			event_target:tribal_festival_taming_potential_winner_2 = { save_event_target_as = tribal_festival_winner }
			event_target:tribal_festival_taming_potential_winner_1 = { save_event_target_as = tribal_festival_loser }
			event_target:tribal_festival_winner = { character_event = { id = HF.23889 } }
		}

		25 = {
			trigger = {
				event_target:great_tribal_festival_host = {
					is_alive = yes
					has_character_flag = flag_tribal_festival_taming_contender

					NOR = {
						character = event_target:tribal_festival_taming_potential_winner_1
						character = event_target:tribal_festival_taming_potential_winner_2
					}
				}
			}

			mult_modifier = {
				factor = 0.1 # The difference in skill compared to the other fighters is too much
				event_target:great_tribal_festival_host = {
					combat_rating_diff = { who = event_target:tribal_festival_taming_potential_winner_1 value < 40 }
					combat_rating_diff = { who = event_target:tribal_festival_taming_potential_winner_2 value < 40 }
				}
			}

			mult_modifier = {
				factor = 0.75
				event_target:great_tribal_festival_host = {
					combat_rating_diff = { who = event_target:tribal_festival_taming_potential_winner_1 value < 30 }
					combat_rating_diff = { who = event_target:tribal_festival_taming_potential_winner_2 value < 30 }
				}
			}

			mult_modifier = {
				factor = 0.75
				event_target:great_tribal_festival_host = {
					combat_rating_diff = { who = event_target:tribal_festival_taming_potential_winner_1 value < 20 }
					combat_rating_diff = { who = event_target:tribal_festival_taming_potential_winner_2 value < 20 }
				}
			}

			mult_modifier = {
				factor = 0.75
				event_target:great_tribal_festival_host = {
					combat_rating_diff = { who = event_target:tribal_festival_taming_potential_winner_1 value < 10 }
					combat_rating_diff = { who = event_target:tribal_festival_taming_potential_winner_2 value < 10 }
				}
			}

			mult_modifier = {
				factor = 1.5
				event_target:great_tribal_festival_host = {
					combat_rating_diff = { who = event_target:tribal_festival_taming_potential_winner_1 value >= 5 }
					combat_rating_diff = { who = event_target:tribal_festival_taming_potential_winner_2 value >= 5 }
				}
			}

			mult_modifier = {
				factor = 1.5
				event_target:great_tribal_festival_host = {
					combat_rating_diff = { who = event_target:tribal_festival_taming_potential_winner_1 value >= 10 }
					combat_rating_diff = { who = event_target:tribal_festival_taming_potential_winner_2 value >= 10 }
				}
			}

			mult_modifier = {
				factor = 1.5
				event_target:great_tribal_festival_host = {
					combat_rating_diff = { who = event_target:tribal_festival_taming_potential_winner_1 value >= 15 }
					combat_rating_diff = { who = event_target:tribal_festival_taming_potential_winner_2 value >= 15 }
				}
			}

			mult_modifier = {
				factor = 1.5
				event_target:great_tribal_festival_host = {
					combat_rating_diff = { who = event_target:tribal_festival_taming_potential_winner_1 value >= 20 }
					combat_rating_diff = { who = event_target:tribal_festival_taming_potential_winner_2 value >= 20 }
				}
			}

			mult_modifier = {
				factor = 1.5
				event_target:great_tribal_festival_host = {
					combat_rating_diff = { who = event_target:tribal_festival_taming_potential_winner_1 value >= 30 }
					combat_rating_diff = { who = event_target:tribal_festival_taming_potential_winner_2 value >= 30 }
				}
			}

			mult_modifier = {
				factor = 1.5
				event_target:great_tribal_festival_host = {
					combat_rating_diff = { who = event_target:tribal_festival_taming_potential_winner_1 value >= 40 }
					combat_rating_diff = { who = event_target:tribal_festival_taming_potential_winner_2 value >= 40 }
				}
			}

			mult_modifier = {
				factor = 1.5
				event_target:great_tribal_festival_host = {
					combat_rating_diff = { who = event_target:tribal_festival_taming_potential_winner_1 value >= 50 }
					combat_rating_diff = { who = event_target:tribal_festival_taming_potential_winner_2 value >= 50 }
				}
			}

			mult_modifier = {
				factor = 1.75
				event_target:great_tribal_festival_host = {
					combat_rating_diff = { who = event_target:tribal_festival_taming_potential_winner_1 value >= 60 }
					combat_rating_diff = { who = event_target:tribal_festival_taming_potential_winner_2 value >= 60 }
				}
			}

			mult_modifier = {
				factor = 1.75
				event_target:great_tribal_festival_host = {
					combat_rating_diff = { who = event_target:tribal_festival_taming_potential_winner_1 value >= 70 }
					combat_rating_diff = { who = event_target:tribal_festival_taming_potential_winner_2 value >= 70 }
				}
			}

			mult_modifier = {
				factor = 1.5
				event_target:great_tribal_festival_host = { trait = duelist }
			}

			mult_modifier = {
				factor = 1.25
				event_target:great_tribal_festival_host = { trait = brave }
			}

			mult_modifier = {
				factor = 1.25
				event_target:great_tribal_festival_host = { trait = strong }
			}

			mult_modifier = {
				factor = 1.05
				event_target:great_tribal_festival_host = { trait = brawny }
			}

			mult_modifier = {
				factor = 1.05
				event_target:great_tribal_festival_host = { trait = genius }
			}

			mult_modifier = {
				factor = 1.05
				event_target:great_tribal_festival_host = { trait = quick }
			}

			mult_modifier = {
				factor = 1.05
				event_target:great_tribal_festival_host = { trait = berserker }
			}

			mult_modifier = {
				factor = 0.95
				event_target:great_tribal_festival_host = { trait = craven }
			}

			mult_modifier = {
				factor = 0.95
				event_target:great_tribal_festival_host = { trait = weak }
			}

			mult_modifier = {
				factor = 0.95
				event_target:great_tribal_festival_host = { trait = frail }
			}

			mult_modifier = {
				factor = 0.75
				event_target:great_tribal_festival_host = { trait = mangled }
			}

			mult_modifier = {
				factor = 0.95
				event_target:great_tribal_festival_host = { trait = infirm }
			}

			mult_modifier = {
				factor = 0.25
				event_target:great_tribal_festival_host = { is_incapable = yes }
			}

			mult_modifier = {
				factor = 0.95
				event_target:great_tribal_festival_host = { trait = wounded }
			}

			mult_modifier = {
				factor = 1.5
				event_target:great_tribal_festival_host = { has_character_modifier = tribal_festival_very_good_fortune }
			}

			mult_modifier = {
				factor = 1.25
				event_target:great_tribal_festival_host = { has_character_modifier = tribal_festival_good_fortune }
			}

			mult_modifier = {
				factor = 0.75
				event_target:great_tribal_festival_host = { has_character_modifier = tribal_festival_bad_fortune }
			}

			mult_modifier = {
				factor = 1.5
				event_target:great_tribal_festival_host = { has_character_modifier = enjoying_the_countryside }
			}

			mult_modifier = {
				factor = 1.5
				event_target:great_tribal_festival_host = { has_character_modifier = tribal_festival_bought_strength_potion }
			}

			mult_modifier = {
				factor = 1.35
				event_target:great_tribal_festival_host = { has_character_modifier = tribal_festival_bought_strength_charm }
			}

			mult_modifier = {
				factor = 1.15
				event_target:great_tribal_festival_host = { has_character_modifier = tribal_festival_bought_bravery_amulet }
			}

			event_target:great_tribal_festival_host = { save_event_target_as = tribal_festival_winner }
			event_target:tribal_festival_taming_potential_winner_1 = { save_event_target_as = tribal_festival_loser }
			event_target:tribal_festival_winner = { character_event = { id = HF.23889 } }
		}

		25 = { # Fallback, if no potential winner exists in the first place
			trigger = {
				event_target:tribal_festival_taming_potential_winner_1 = { is_alive = no }
				event_target:tribal_festival_taming_potential_winner_2 = { is_alive = no }
				event_target:great_tribal_festival_host = { NOT = { has_character_flag = flag_tribal_festival_taming_contender } }
			}

			spawn_good_commander_effect = yes # Saved as invited_character

			event_target:invited_character = {
				character_event = { id = HF.23889 } # Surprise winner
			}
		}
	}
}

pick_potential_beauty_winners_effect = {
	if = {
		limit = {
			any_realm_character = {
				has_character_flag = flag_tribal_festival_beauty_contender
			}
		}

		random_realm_character = { # First
			limit = { has_character_flag = flag_tribal_festival_beauty_contender }

			preferred_limit = {
				is_attractive_trigger = yes
				is_benevolent_trigger = yes
				trait = diligent
				trait = ambitious
				practical_age <= 30
				is_ill = no
			}

			preferred_limit = {
				is_attractive_trigger = yes
				is_benevolent_trigger = yes
				trait = diligent
				trait = ambitious
				practical_age <= 40
				is_ill = no
			}

			preferred_limit = {
				is_attractive_trigger = yes
				trait = diligent
				trait = ambitious
				practical_age <= 40
				is_ill = no
			}

			preferred_limit = {
				is_attractive_trigger = yes
				is_benevolent_trigger = yes
				trait = ambitious
				practical_age < 40
				is_ill = no
			}

			preferred_limit = {
				is_attractive_trigger = yes
				is_benevolent_trigger = yes
				practical_age <= 40
				is_ill = no
			}

			preferred_limit = {
				is_attractive_trigger = yes
				practical_age <= 40
				is_ill = no
			}

			preferred_limit = {
				is_attractive_trigger = yes
				practical_age <= 50
				is_ill = no
			}

			preferred_limit = {
				is_attractive_trigger = yes
				practical_age <= 30
			}

			preferred_limit = {
				is_attractive_trigger = yes
				practical_age <= 40
			}

			preferred_limit = {
				is_attractive_trigger = yes
				practical_age <= 50
			}

			preferred_limit = {
				is_attractive_trigger = yes
			}

			preferred_limit = {
				has_attractive_trait_trigger = yes
				practical_age <= 40
			}

			preferred_limit = {
				has_unattractive_trait_trigger = no
				practical_age <= 40
			}

			preferred_limit = {
				has_unattractive_trait_trigger = no
			}

			save_event_target_as = tribal_festival_beauty_potential_winner_1
		}
	}

	if = {
		limit = {
			any_realm_character = {
				has_character_flag = flag_tribal_festival_beauty_contender
				NOT = { character = event_target:tribal_festival_beauty_potential_winner_1 }
			}
		}

		random_realm_character = { #Second
			limit = {
				has_character_flag = flag_tribal_festival_beauty_contender
				NOT = { character = event_target:tribal_festival_beauty_potential_winner_1 }
			}

			preferred_limit = {
				is_attractive_trigger = yes
				is_benevolent_trigger = yes
				trait = diligent
				trait = ambitious
				practical_age <= 30
				is_ill = no
			}

			preferred_limit = {
				is_attractive_trigger = yes
				is_benevolent_trigger = yes
				trait = diligent
				trait = ambitious
				practical_age <= 40
				is_ill = no
			}

			preferred_limit = {
				is_attractive_trigger = yes
				trait = diligent
				trait = ambitious
				practical_age <= 40
				is_ill = no
			}

			preferred_limit = {
				is_attractive_trigger = yes
				is_benevolent_trigger = yes
				trait = ambitious
				practical_age < 40
				is_ill = no
			}

			preferred_limit = {
				is_attractive_trigger = yes
				is_benevolent_trigger = yes
				practical_age <= 40
				is_ill = no
			}

			preferred_limit = {
				is_attractive_trigger = yes
				practical_age <= 40
				is_ill = no
			}

			preferred_limit = {
				is_attractive_trigger = yes
				practical_age <= 50
				is_ill = no
			}

			preferred_limit = {
				is_attractive_trigger = yes
				practical_age <= 30
			}

			preferred_limit = {
				is_attractive_trigger = yes
				practical_age <= 40
			}

			preferred_limit = {
				is_attractive_trigger = yes
				practical_age <= 50
			}

			preferred_limit = {
				is_attractive_trigger = yes
			}

			preferred_limit = {
				has_attractive_trait_trigger = yes
				practical_age <= 40
			}

			preferred_limit = {
				has_unattractive_trait_trigger = no
				practical_age <= 40
			}

			preferred_limit = {
				has_unattractive_trait_trigger = no
			}

			save_event_target_as = tribal_festival_beauty_potential_winner_2
		}
	}

	random_list = {
		25 = {
			trigger = {
				event_target:tribal_festival_beauty_potential_winner_1 = { is_alive = yes }
			}

			mult_modifier = {
				factor = 1.75
				event_target:tribal_festival_beauty_potential_winner_1 = { is_attractive_trigger = yes }
			}

			mult_modifier = {
				factor = 1.5
				event_target:tribal_festival_beauty_potential_winner_1 = { is_benevolent_trigger = yes }
			}

			mult_modifier = {
				factor = 1.25
				event_target:tribal_festival_beauty_potential_winner_1 = { trait = diligent }
			}

			mult_modifier = {
				factor = 1.25
				event_target:tribal_festival_beauty_potential_winner_1 = { trait = proud }
			}

			mult_modifier = {
				factor = 1.5
				event_target:tribal_festival_beauty_potential_winner_1 = { trait = ambitious }
			}

			mult_modifier = {
				factor = 1.5
				event_target:tribal_festival_beauty_potential_winner_1 = { trait = poet }
			}

			mult_modifier = {
				factor = 1.5
				event_target:tribal_festival_beauty_potential_winner_1 = { trait = gregarious }
			}

			mult_modifier = {
				factor = 0.75
				event_target:tribal_festival_beauty_potential_winner_1 = { trait = shy }
			}

			mult_modifier = {
				factor = 1.5
				event_target:tribal_festival_beauty_potential_winner_1 = { is_ill = no }
			}

			mult_modifier = {
				factor = 0.85
				event_target:tribal_festival_beauty_potential_winner_1 = { practical_age >= 30 }
			}

			mult_modifier = {
				factor = 0.75
				event_target:tribal_festival_beauty_potential_winner_1 = { practical_age >= 40 }
			}

			mult_modifier = {
				factor = 0.5
				event_target:tribal_festival_beauty_potential_winner_1 = { practical_age >= 50 }
			}

			mult_modifier = {
				factor = 0.35
				event_target:tribal_festival_beauty_potential_winner_1 = { practical_age >= 60 }
			}

			mult_modifier = {
				factor = 0.85
				event_target:tribal_festival_beauty_potential_winner_1 = { trait = slothful }
			}

			mult_modifier = {
				factor = 0.85
				event_target:tribal_festival_beauty_potential_winner_1 = { trait = content }
			}

			mult_modifier = {
				factor = 0.75
				event_target:tribal_festival_beauty_potential_winner_1 = { trait = humble }
			}

			mult_modifier = {
				factor = 1.5
				event_target:tribal_festival_beauty_potential_winner_1 = { has_character_modifier = tribal_festival_very_good_fortune }
			}

			mult_modifier = {
				factor = 1.25
				event_target:tribal_festival_beauty_potential_winner_1 = { has_character_modifier = tribal_festival_good_fortune }
			}

			mult_modifier = {
				factor = 0.75
				event_target:tribal_festival_beauty_potential_winner_1 = { has_character_modifier = tribal_festival_bad_fortune }
			}

			mult_modifier = {
				factor = 1.5
				event_target:tribal_festival_beauty_potential_winner_1 = { has_character_modifier = feverish_grooming }
			}

			mult_modifier = {
				factor = 1.5
				event_target:tribal_festival_beauty_potential_winner_1 = { has_character_modifier = tribal_festival_bought_potion }
			}

			mult_modifier = {
				factor = 1.35
				event_target:tribal_festival_beauty_potential_winner_1 = { has_character_modifier = tribal_festival_bought_charm }
			}

			mult_modifier = {
				factor = 1.15
				event_target:tribal_festival_beauty_potential_winner_1 = { has_character_modifier = tribal_festival_bought_perfume }
			}

			event_target:tribal_festival_beauty_potential_winner_1 = { save_event_target_as = tribal_festival_winner }
			event_target:tribal_festival_beauty_potential_winner_2 = { save_event_target_as = tribal_festival_loser }
			event_target:tribal_festival_winner = { character_event = { id = HF.23892 } }
		}

		25 = {
			trigger = {
				event_target:tribal_festival_beauty_potential_winner_2 = { is_alive = yes }
			}

			mult_modifier = {
				factor = 1.75
				event_target:tribal_festival_beauty_potential_winner_2 = { is_attractive_trigger = yes }
			}

			mult_modifier = {
				factor = 1.5
				event_target:tribal_festival_beauty_potential_winner_2 = { is_benevolent_trigger = yes }
			}

			mult_modifier = {
				factor = 1.25
				event_target:tribal_festival_beauty_potential_winner_2 = { trait = diligent }
			}

			mult_modifier = {
				factor = 1.25
				event_target:tribal_festival_beauty_potential_winner_2 = { trait = proud }
			}

			mult_modifier = {
				factor = 1.5
				event_target:tribal_festival_beauty_potential_winner_2 = { trait = ambitious }
			}

			mult_modifier = {
				factor = 1.5
				event_target:tribal_festival_beauty_potential_winner_2 = { trait = poet }
			}

			mult_modifier = {
				factor = 1.5
				event_target:tribal_festival_beauty_potential_winner_2 = { trait = gregarious }
			}

			mult_modifier = {
				factor = 0.75
				event_target:tribal_festival_beauty_potential_winner_2 = { trait = shy }
			}

			mult_modifier = {
				factor = 1.5
				event_target:tribal_festival_beauty_potential_winner_2 = { is_ill = no }
			}

			mult_modifier = {
				factor = 0.85
				event_target:tribal_festival_beauty_potential_winner_2 = { practical_age >= 30 }
			}

			mult_modifier = {
				factor = 0.75
				event_target:tribal_festival_beauty_potential_winner_2 = { practical_age >= 40 }
			}

			mult_modifier = {
				factor = 0.5
				event_target:tribal_festival_beauty_potential_winner_2 = { practical_age >= 50 }
			}

			mult_modifier = {
				factor = 0.35
				event_target:tribal_festival_beauty_potential_winner_2 = { practical_age >= 60 }
			}

			mult_modifier = {
				factor = 0.85
				event_target:tribal_festival_beauty_potential_winner_2 = { trait = slothful }
			}

			mult_modifier = {
				factor = 0.85
				event_target:tribal_festival_beauty_potential_winner_2 = { trait = content }
			}

			mult_modifier = {
				factor = 0.75
				event_target:tribal_festival_beauty_potential_winner_2 = { trait = humble }
			}

			mult_modifier = {
				factor = 1.5
				event_target:tribal_festival_beauty_potential_winner_2 = { has_character_modifier = tribal_festival_very_good_fortune }
			}

			mult_modifier = {
				factor = 1.25
				event_target:tribal_festival_beauty_potential_winner_2 = { has_character_modifier = tribal_festival_good_fortune }
			}

			mult_modifier = {
				factor = 0.75
				event_target:tribal_festival_beauty_potential_winner_2 = { has_character_modifier = tribal_festival_bad_fortune }
			}

			mult_modifier = {
				factor = 1.5
				event_target:tribal_festival_beauty_potential_winner_2 = { has_character_modifier = feverish_grooming }
			}

			mult_modifier = {
				factor = 1.5
				event_target:tribal_festival_beauty_potential_winner_2 = { has_character_modifier = tribal_festival_bought_potion }
			}

			mult_modifier = {
				factor = 1.35
				event_target:tribal_festival_beauty_potential_winner_2 = { has_character_modifier = tribal_festival_bought_charm }
			}

			mult_modifier = {
				factor = 1.15
				event_target:tribal_festival_beauty_potential_winner_2 = { has_character_modifier = tribal_festival_bought_perfume }
			}

			event_target:tribal_festival_beauty_potential_winner_2 = { save_event_target_as = tribal_festival_winner }
			event_target:tribal_festival_beauty_potential_winner_1 = { save_event_target_as = tribal_festival_loser }
			event_target:tribal_festival_winner = { character_event = { id = HF.23892 } }
		}

		25 = {
			trigger = {
				event_target:great_tribal_festival_host = {
					is_alive = yes
					has_character_flag = flag_tribal_festival_beauty_contender

					NOR = {
						character = event_target:tribal_festival_beauty_potential_winner_1
						character = event_target:tribal_festival_beauty_potential_winner_2
					}
				}
			}

			mult_modifier = {
				factor = 1.75
				event_target:great_tribal_festival_host = { is_attractive_trigger = yes }
			}

			mult_modifier = {
				factor = 1.5
				event_target:great_tribal_festival_host = { is_benevolent_trigger = yes }
			}

			mult_modifier = {
				factor = 1.25
				event_target:great_tribal_festival_host = { trait = diligent }
			}

			mult_modifier = {
				factor = 1.25
				event_target:great_tribal_festival_host = { trait = proud }
			}

			mult_modifier = {
				factor = 1.5
				event_target:great_tribal_festival_host = { trait = ambitious }
			}

			mult_modifier = {
				factor = 1.5
				event_target:great_tribal_festival_host = { trait = poet }
			}

			mult_modifier = {
				factor = 1.5
				event_target:great_tribal_festival_host = { trait = gregarious }
			}

			mult_modifier = {
				factor = 0.75
				event_target:great_tribal_festival_host = { trait = shy }
			}

			mult_modifier = {
				factor = 1.5
				event_target:great_tribal_festival_host = { is_ill = no }
			}

			mult_modifier = {
				factor = 0.85
				event_target:great_tribal_festival_host = { practical_age >= 30 }
			}

			mult_modifier = {
				factor = 0.75
				event_target:great_tribal_festival_host = { practical_age >= 40 }
			}

			mult_modifier = {
				factor = 0.5
				event_target:great_tribal_festival_host = { practical_age >= 50 }
			}

			mult_modifier = {
				factor = 0.35
				event_target:great_tribal_festival_host = { practical_age >= 60 }
			}

			mult_modifier = {
				factor = 0.85
				event_target:great_tribal_festival_host = { trait = slothful }
			}

			mult_modifier = {
				factor = 0.85
				event_target:great_tribal_festival_host = { trait = content }
			}

			mult_modifier = {
				factor = 0.75
				event_target:great_tribal_festival_host = { trait = humble }
			}

			mult_modifier = {
				factor = 1.5
				event_target:great_tribal_festival_host = { has_character_modifier = tribal_festival_very_good_fortune }
			}

			mult_modifier = {
				factor = 1.25
				event_target:great_tribal_festival_host = { has_character_modifier = tribal_festival_good_fortune }
			}

			mult_modifier = {
				factor = 0.75
				event_target:great_tribal_festival_host = { has_character_modifier = tribal_festival_bad_fortune }
			}

			mult_modifier = {
				factor = 1.5
				event_target:great_tribal_festival_host = { has_character_modifier = feverish_grooming }
			}

			mult_modifier = {
				factor = 1.5
				event_target:great_tribal_festival_host = { has_character_modifier = tribal_festival_bought_potion }
			}

			mult_modifier = {
				factor = 1.35
				event_target:great_tribal_festival_host = { has_character_modifier = tribal_festival_bought_charm }
			}

			mult_modifier = {
				factor = 1.15
				event_target:great_tribal_festival_host = { has_character_modifier = tribal_festival_bought_perfume }
			}

			event_target:great_tribal_festival_host = { save_event_target_as = tribal_festival_winner }
			event_target:tribal_festival_beauty_potential_winner_1 = { save_event_target_as = tribal_festival_loser }
			event_target:tribal_festival_winner = { character_event = { id = HF.23892 } }
		}

		25 = { # Fallback, if no potential winner exists in the first place
			trigger = {
				event_target:tribal_festival_beauty_potential_winner_1 = { is_alive = no }
				event_target:tribal_festival_beauty_potential_winner_2 = { is_alive = no }
				event_target:great_tribal_festival_host = { NOT = { has_character_flag = flag_tribal_festival_beauty_contender } }
			}

			spawn_debutante_effect = yes # Saved as invited_character

			event_target:invited_character = {
				character_event = { id = HF.23892 } # Surprise winner
			}
		}
	}
}

pick_potential_poetry_winners_effect = {
	if = {
		limit = {
			any_realm_character = {
				has_character_flag = flag_tribal_festival_poetry_contender
			}
		}

		random_realm_character = { # First
			limit = { has_character_flag = flag_tribal_festival_poetry_contender }

			preferred_limit = {
				is_attractive_trigger = yes
				learning >= 25
				trait = poet
				trait = gregarious
				practical_age < 30
				is_ill = no
			}

			preferred_limit = {
				is_attractive_trigger = yes
				learning >= 25
				trait = poet
				trait = gregarious
				practical_age < 40
				is_ill = no
			}

			preferred_limit = {
				learning >= 25
				trait = poet
				trait = gregarious
				is_ill = no
			}

			preferred_limit = {
				learning >= 25
				trait = poet
				trait = gregarious
			}

			preferred_limit = {
				learning >= 25
				trait = poet
			}

			preferred_limit = {
				learning >= 25
			}

			preferred_limit = {
				is_attractive_trigger = yes
				learning >= 20
				trait = poet
				trait = gregarious
				practical_age < 30
				is_ill = no
			}

			preferred_limit = {
				is_attractive_trigger = yes
				learning >= 20
				trait = poet
				trait = gregarious
				practical_age < 40
				is_ill = no
			}

			preferred_limit = {
				learning >= 20
				trait = poet
				trait = gregarious
				is_ill = no
			}

			preferred_limit = {
				learning >= 20
				trait = poet
				trait = gregarious
			}

			preferred_limit = {
				learning >= 20
				trait = poet
			}

			preferred_limit = {
				learning >= 20
			}

			preferred_limit = {
				is_attractive_trigger = yes
				learning >= 15
				trait = poet
				trait = gregarious
				practical_age < 30
				is_ill = no
			}

			preferred_limit = {
				is_attractive_trigger = yes
				learning >= 15
				trait = poet
				trait = gregarious
				practical_age < 40
				is_ill = no
			}

			preferred_limit = {
				learning >= 15
				trait = poet
				trait = gregarious
				is_ill = no
			}

			preferred_limit = {
				learning >= 15
				trait = poet
				trait = gregarious
			}

			preferred_limit = {
				learning >= 15
				trait = poet
			}

			preferred_limit = {
				learning >= 15
			}

			preferred_limit = {
				is_attractive_trigger = yes
				learning >= 10
				trait = poet
				trait = gregarious
				practical_age < 30
				is_ill = no
			}

			preferred_limit = {
				is_attractive_trigger = yes
				learning >= 10
				trait = poet
				trait = gregarious
				practical_age < 40
				is_ill = no
			}

			preferred_limit = {
				learning >= 10
				trait = poet
				trait = gregarious
				is_ill = no
			}

			preferred_limit = {
				learning >= 10
				trait = poet
				trait = gregarious
			}

			preferred_limit = {
				learning >= 10
				trait = poet
			}

			preferred_limit = {
				learning >= 10
			}

			preferred_limit = {
				is_attractive_trigger = yes
				learning >= 5
				trait = poet
				trait = gregarious
				practical_age < 30
				is_ill = no
			}

			preferred_limit = {
				is_attractive_trigger = yes
				learning >= 5
				trait = poet
				trait = gregarious
				practical_age < 40
				is_ill = no
			}

			preferred_limit = {
				learning >= 5
				trait = poet
				trait = gregarious
				is_ill = no
			}

			preferred_limit = {
				learning >= 5
				trait = poet
				trait = gregarious
			}

			preferred_limit = {
				learning >= 5
				trait = poet
			}

			preferred_limit = {
				learning >= 5
			}

			save_event_target_as = tribal_festival_poetry_potential_winner_1
		}
	}
	if = {
		limit = {
			any_realm_character = {
				has_character_flag = flag_tribal_festival_poetry_contender
				NOT = { character = event_target:tribal_festival_poetry_potential_winner_1 }
			}
		}

		random_realm_character = { # Second
			limit = {
				has_character_flag = flag_tribal_festival_poetry_contender
				NOT = { character = event_target:tribal_festival_poetry_potential_winner_1 }
			}

			preferred_limit = {
				is_attractive_trigger = yes
				learning >= 25
				trait = poet
				trait = gregarious
				practical_age < 30
				is_ill = no
			}

			preferred_limit = {
				is_attractive_trigger = yes
				learning >= 25
				trait = poet
				trait = gregarious
				practical_age < 40
				is_ill = no
			}

			preferred_limit = {
				learning >= 25
				trait = poet
				trait = gregarious
				is_ill = no
			}

			preferred_limit = {
				learning >= 25
				trait = poet
				trait = gregarious
			}

			preferred_limit = {
				learning >= 25
				trait = poet
			}

			preferred_limit = {
				learning >= 25
			}

			preferred_limit = {
				is_attractive_trigger = yes
				learning >= 20
				trait = poet
				trait = gregarious
				practical_age < 30
				is_ill = no
			}

			preferred_limit = {
				is_attractive_trigger = yes
				learning >= 20
				trait = poet
				trait = gregarious
				practical_age < 40
				is_ill = no
			}

			preferred_limit = {
				learning >= 20
				trait = poet
				trait = gregarious
				is_ill = no
			}

			preferred_limit = {
				learning >= 20
				trait = poet
				trait = gregarious
			}

			preferred_limit = {
				learning >= 20
				trait = poet
			}

			preferred_limit = {
				learning >= 20
			}

			preferred_limit = {
				is_attractive_trigger = yes
				learning >= 15
				trait = poet
				trait = gregarious
				practical_age < 30
				is_ill = no
			}

			preferred_limit = {
				is_attractive_trigger = yes
				learning >= 15
				trait = poet
				trait = gregarious
				practical_age < 40
				is_ill = no
			}

			preferred_limit = {
				learning >= 15
				trait = poet
				trait = gregarious
				is_ill = no
			}

			preferred_limit = {
				learning >= 15
				trait = poet
				trait = gregarious
			}

			preferred_limit = {
				learning >= 15
				trait = poet
			}

			preferred_limit = {
				learning >= 15
			}

			preferred_limit = {
				is_attractive_trigger = yes
				learning >= 10
				trait = poet
				trait = gregarious
				practical_age < 30
				is_ill = no
			}

			preferred_limit = {
				is_attractive_trigger = yes
				learning >= 10
				trait = poet
				trait = gregarious
				practical_age < 40
				is_ill = no
			}

			preferred_limit = {
				learning >= 10
				trait = poet
				trait = gregarious
				is_ill = no
			}

			preferred_limit = {
				learning >= 10
				trait = poet
				trait = gregarious
			}

			preferred_limit = {
				learning >= 10
				trait = poet
			}

			preferred_limit = {
				learning >= 10
			}

			preferred_limit = {
				is_attractive_trigger = yes
				learning >= 5
				trait = poet
				trait = gregarious
				practical_age < 30
				is_ill = no
			}

			preferred_limit = {
				is_attractive_trigger = yes
				learning >= 5
				trait = poet
				trait = gregarious
				practical_age < 40
				is_ill = no
			}

			preferred_limit = {
				learning >= 5
				trait = poet
				trait = gregarious
				is_ill = no
			}

			preferred_limit = {
				learning >= 5
				trait = poet
				trait = gregarious
			}

			preferred_limit = {
				learning >= 5
				trait = poet
			}

			preferred_limit = {
				learning >= 5
			}

			save_event_target_as = tribal_festival_poetry_potential_winner_2
		}
	}

	random_list = {
		25 = {
			trigger = {
				event_target:tribal_festival_poetry_potential_winner_1 = { is_alive = yes }
			}

			mult_modifier = {
				factor = 1.5
				event_target:tribal_festival_poetry_potential_winner_1 = { is_attractive_trigger = yes }
			}

			mult_modifier = {
				factor = 1.25
				event_target:tribal_festival_poetry_potential_winner_1 = { is_benevolent_trigger = yes }
			}

			mult_modifier = {
				factor = 1.25
				event_target:tribal_festival_poetry_potential_winner_1 = { learning >= 5 }
			}

			mult_modifier = {
				factor = 1.25
				event_target:tribal_festival_poetry_potential_winner_1 = { learning >= 10 }
			}

			mult_modifier = {
				factor = 1.25
				event_target:tribal_festival_poetry_potential_winner_1 = { learning >= 15 }
			}

			mult_modifier = {
				factor = 1.5
				event_target:tribal_festival_poetry_potential_winner_1 = { learning >= 20 }
			}

			mult_modifier = {
				factor = 1.5
				event_target:tribal_festival_poetry_potential_winner_1 = { learning >= 25 }
			}

			mult_modifier = {
				factor = 1.75
				event_target:tribal_festival_poetry_potential_winner_1 = { learning >= 30 }
			}

			mult_modifier = {
				factor = 1.25
				event_target:tribal_festival_poetry_potential_winner_1 = { trait = diligent }
			}

			mult_modifier = {
				factor = 1.25
				event_target:tribal_festival_poetry_potential_winner_1 = { trait = proud }
			}

			mult_modifier = {
				factor = 1.5
				event_target:tribal_festival_poetry_potential_winner_1 = { trait = ambitious }
			}

			mult_modifier = {
				factor = 1.75
				event_target:tribal_festival_poetry_potential_winner_1 = { trait = poet }
			}

			mult_modifier = {
				factor = 1.5
				event_target:tribal_festival_poetry_potential_winner_1 = { trait = scholar }
			}

			mult_modifier = {
				factor = 1.5
				event_target:tribal_festival_poetry_potential_winner_1 = { trait = mastermind_theologian }
			}

			mult_modifier = {
				factor = 1.5
				event_target:tribal_festival_poetry_potential_winner_1 = { trait = gregarious }
			}

			mult_modifier = {
				factor = 0.75
				event_target:tribal_festival_poetry_potential_winner_1 = { trait = shy }
			}

			mult_modifier = {
				factor = 1.25
				event_target:tribal_festival_poetry_potential_winner_1 = { is_ill = no }
			}

			mult_modifier = {
				factor = 0.85
				event_target:tribal_festival_poetry_potential_winner_1 = { trait = slothful }
			}

			mult_modifier = {
				factor = 0.85
				event_target:tribal_festival_poetry_potential_winner_1 = { trait = content }
			}

			mult_modifier = {
				factor = 0.75
				event_target:tribal_festival_poetry_potential_winner_1 = { trait = stutter }
			}

			mult_modifier = {
				factor = 0.75
				event_target:tribal_festival_poetry_potential_winner_1 = { trait = harelip }
			}

			mult_modifier = {
				factor = 1.5
				event_target:tribal_festival_poetry_potential_winner_1 = { has_character_modifier = tribal_festival_very_good_fortune }
			}

			mult_modifier = {
				factor = 1.25
				event_target:tribal_festival_poetry_potential_winner_1 = { has_character_modifier = tribal_festival_good_fortune }
			}

			mult_modifier = {
				factor = 0.75
				event_target:tribal_festival_poetry_potential_winner_1 = { has_character_modifier = tribal_festival_bad_fortune }
			}

			mult_modifier = {
				factor = 1.25
				event_target:tribal_festival_poetry_potential_winner_1 = { has_character_modifier = feverish_grooming }
			}

			mult_modifier = {
				factor = 1.5
				event_target:tribal_festival_poetry_potential_winner_1 = { has_character_modifier = tribal_studying_legends }
			}

			mult_modifier = {
				factor = 1.5
				event_target:tribal_festival_poetry_potential_winner_1 = { has_character_modifier = tribal_festival_bought_potion }
			}

			mult_modifier = {
				factor = 1.35
				event_target:tribal_festival_poetry_potential_winner_1 = { has_character_modifier = tribal_festival_bought_charm }
			}

			mult_modifier = {
				factor = 1.15
				event_target:tribal_festival_poetry_potential_winner_1 = { has_character_modifier = tribal_festival_bought_perfume }
			}

			event_target:tribal_festival_poetry_potential_winner_1 = { save_event_target_as = tribal_festival_winner }
			event_target:tribal_festival_poetry_potential_winner_2 = { save_event_target_as = tribal_festival_loser }
			event_target:tribal_festival_winner = { character_event = { id = HF.23895 } }
		}

		25 = {
			trigger = {
				event_target:tribal_festival_poetry_potential_winner_2 = { is_alive = yes }
			}

			mult_modifier = {
				factor = 1.5
				event_target:tribal_festival_poetry_potential_winner_2 = { is_attractive_trigger = yes }
			}

			mult_modifier = {
				factor = 1.25
				event_target:tribal_festival_poetry_potential_winner_2 = { is_benevolent_trigger = yes }
			}

			mult_modifier = {
				factor = 1.25
				event_target:tribal_festival_poetry_potential_winner_2 = { learning >= 5 }
			}

			mult_modifier = {
				factor = 1.25
				event_target:tribal_festival_poetry_potential_winner_2 = { learning >= 10 }
			}

			mult_modifier = {
				factor = 1.25
				event_target:tribal_festival_poetry_potential_winner_2 = { learning >= 15 }
			}

			mult_modifier = {
				factor = 1.5
				event_target:tribal_festival_poetry_potential_winner_2 = { learning >= 20 }
			}

			mult_modifier = {
				factor = 1.5
				event_target:tribal_festival_poetry_potential_winner_2 = { learning >= 25 }
			}

			mult_modifier = {
				factor = 1.75
				event_target:tribal_festival_poetry_potential_winner_2 = { learning >= 30 }
			}

			mult_modifier = {
				factor = 1.25
				event_target:tribal_festival_poetry_potential_winner_2 = { trait = diligent }
			}

			mult_modifier = {
				factor = 1.25
				event_target:tribal_festival_poetry_potential_winner_2 = { trait = proud }
			}

			mult_modifier = {
				factor = 1.5
				event_target:tribal_festival_poetry_potential_winner_2 = { trait = ambitious }
			}

			mult_modifier = {
				factor = 1.75
				event_target:tribal_festival_poetry_potential_winner_2 = { trait = poet }
			}

			mult_modifier = {
				factor = 1.5
				event_target:tribal_festival_poetry_potential_winner_2 = { trait = scholar }
			}

			mult_modifier = {
				factor = 1.5
				event_target:tribal_festival_poetry_potential_winner_2 = { trait = mastermind_theologian }
			}

			mult_modifier = {
				factor = 1.5
				event_target:tribal_festival_poetry_potential_winner_2 = { trait = gregarious }
			}

			mult_modifier = {
				factor = 0.75
				event_target:tribal_festival_poetry_potential_winner_2 = { trait = shy }
			}

			mult_modifier = {
				factor = 1.25
				event_target:tribal_festival_poetry_potential_winner_2 = { is_ill = no }
			}

			mult_modifier = {
				factor = 0.85
				event_target:tribal_festival_poetry_potential_winner_2 = { trait = slothful }
			}

			mult_modifier = {
				factor = 0.85
				event_target:tribal_festival_poetry_potential_winner_2 = { trait = content }
			}

			mult_modifier = {
				factor = 0.75
				event_target:tribal_festival_poetry_potential_winner_2 = { trait = stutter }
			}

			mult_modifier = {
				factor = 0.75
				event_target:tribal_festival_poetry_potential_winner_2 = { trait = harelip }
			}

			mult_modifier = {
				factor = 1.5
				event_target:tribal_festival_poetry_potential_winner_2 = { has_character_modifier = tribal_festival_very_good_fortune }
			}

			mult_modifier = {
				factor = 1.25
				event_target:tribal_festival_poetry_potential_winner_2 = { has_character_modifier = tribal_festival_good_fortune }
			}

			mult_modifier = {
				factor = 0.75
				event_target:tribal_festival_poetry_potential_winner_2 = { has_character_modifier = tribal_festival_bad_fortune }
			}

			mult_modifier = {
				factor = 1.25
				event_target:tribal_festival_poetry_potential_winner_2 = { has_character_modifier = feverish_grooming }
			}

			mult_modifier = {
				factor = 1.5
				event_target:tribal_festival_poetry_potential_winner_2 = { has_character_modifier = tribal_studying_legends }
			}

			mult_modifier = {
				factor = 1.5
				event_target:tribal_festival_poetry_potential_winner_2 = { has_character_modifier = tribal_festival_bought_potion }
			}

			mult_modifier = {
				factor = 1.35
				event_target:tribal_festival_poetry_potential_winner_2 = { has_character_modifier = tribal_festival_bought_charm }
			}

			mult_modifier = {
				factor = 1.15
				event_target:tribal_festival_poetry_potential_winner_2 = { has_character_modifier = tribal_festival_bought_perfume }
			}

			event_target:tribal_festival_poetry_potential_winner_2 = { save_event_target_as = tribal_festival_winner }
			event_target:tribal_festival_poetry_potential_winner_1 = { save_event_target_as = tribal_festival_loser }
			event_target:tribal_festival_winner = { character_event = { id = HF.23895 } }
		}

		25 = {
			trigger = {
				event_target:great_tribal_festival_host = {
					is_alive = yes
					has_character_flag = flag_tribal_festival_poetry_contender

					NOR = {
						character = event_target:tribal_festival_poetry_potential_winner_1
						character = event_target:tribal_festival_poetry_potential_winner_2
					}
				}
			}

			mult_modifier = {
				factor = 1.5
				event_target:great_tribal_festival_host = { is_attractive_trigger = yes }
			}

			mult_modifier = {
				factor = 1.25
				event_target:great_tribal_festival_host = { is_benevolent_trigger = yes }
			}

			mult_modifier = {
				factor = 1.25
				event_target:great_tribal_festival_host = { learning >= 5 }
			}

			mult_modifier = {
				factor = 1.25
				event_target:great_tribal_festival_host = { learning >= 10 }
			}

			mult_modifier = {
				factor = 1.25
				event_target:great_tribal_festival_host = { learning >= 15 }
			}

			mult_modifier = {
				factor = 1.5
				event_target:great_tribal_festival_host = { learning >= 20 }
			}

			mult_modifier = {
				factor = 1.5
				event_target:great_tribal_festival_host = { learning >= 25 }
			}

			mult_modifier = {
				factor = 1.75
				event_target:great_tribal_festival_host = { learning >= 30 }
			}

			mult_modifier = {
				factor = 1.25
				event_target:great_tribal_festival_host = { trait = diligent }
			}

			mult_modifier = {
				factor = 1.25
				event_target:great_tribal_festival_host = { trait = proud }
			}

			mult_modifier = {
				factor = 1.5
				event_target:great_tribal_festival_host = { trait = ambitious }
			}

			mult_modifier = {
				factor = 1.75
				event_target:great_tribal_festival_host = { trait = poet }
			}

			mult_modifier = {
				factor = 1.5
				event_target:great_tribal_festival_host = { trait = scholar }
			}

			mult_modifier = {
				factor = 1.5
				event_target:great_tribal_festival_host = { trait = mastermind_theologian }
			}

			mult_modifier = {
				factor = 1.5
				event_target:great_tribal_festival_host = { trait = gregarious }
			}

			mult_modifier = {
				factor = 0.75
				event_target:great_tribal_festival_host = { trait = shy }
			}

			mult_modifier = {
				factor = 1.25
				event_target:great_tribal_festival_host = { is_ill = no }
			}

			mult_modifier = {
				factor = 0.85
				event_target:great_tribal_festival_host = { trait = slothful }
			}

			mult_modifier = {
				factor = 0.85
				event_target:great_tribal_festival_host = { trait = content }
			}

			mult_modifier = {
				factor = 0.75
				event_target:great_tribal_festival_host = { trait = stutter }
			}

			mult_modifier = {
				factor = 0.75
				event_target:great_tribal_festival_host = { trait = harelip }
			}

			mult_modifier = {
				factor = 1.5
				event_target:great_tribal_festival_host = { has_character_modifier = tribal_festival_very_good_fortune }
			}

			mult_modifier = {
				factor = 1.25
				event_target:great_tribal_festival_host = { has_character_modifier = tribal_festival_good_fortune }
			}

			mult_modifier = {
				factor = 0.75
				event_target:great_tribal_festival_host = { has_character_modifier = tribal_festival_bad_fortune }
			}

			mult_modifier = {
				factor = 1.25
				event_target:great_tribal_festival_host = { has_character_modifier = feverish_grooming }
			}

			mult_modifier = {
				factor = 1.5
				event_target:great_tribal_festival_host = { has_character_modifier = tribal_studying_legends }
			}

			mult_modifier = {
				factor = 1.5
				event_target:great_tribal_festival_host = { has_character_modifier = tribal_festival_bought_potion }
			}

			mult_modifier = {
				factor = 1.35
				event_target:great_tribal_festival_host = { has_character_modifier = tribal_festival_bought_charm }
			}

			mult_modifier = {
				factor = 1.15
				event_target:great_tribal_festival_host = { has_character_modifier = tribal_festival_bought_perfume }
			}

			event_target:great_tribal_festival_host = { save_event_target_as = tribal_festival_winner }
			event_target:tribal_festival_poetry_potential_winner_1 = { save_event_target_as = tribal_festival_loser }
			event_target:tribal_festival_winner = { character_event = { id = HF.23895 } }
		}

		25 = { # Fallback, if no potential winner exists in the first place
			trigger = {
				event_target:tribal_festival_poetry_potential_winner_1 = { is_alive = no }
				event_target:tribal_festival_poetry_potential_winner_2 = { is_alive = no }
				event_target:great_tribal_festival_host = { NOT = { has_character_flag = flag_tribal_festival_poetry_contender } }
			}

			spawn_debutante_effect = yes # Saved as invited_character
			event_target:invited_character = {
				character_event = { id = HF.23895 } # Surprise winner
			}
		}
	}
}

pick_potential_singing_winners_effect = {
	if = {
		limit = {
			any_realm_character = {
				has_character_flag = flag_tribal_festival_singing_contender
			}
		}

		random_realm_character = { # First
			limit = { has_character_flag = flag_tribal_festival_singing_contender }

			preferred_limit = {
				is_attractive_trigger = yes
				diplomacy >= 25
				trait = poet
				trait = gregarious
				practical_age < 30
				is_ill = no
			}

			preferred_limit = {
				is_attractive_trigger = yes
				diplomacy >= 25
				trait = poet
				trait = gregarious
				practical_age < 40
				is_ill = no
			}

			preferred_limit = {
				diplomacy >= 25
				trait = poet
				trait = gregarious
				is_ill = no
			}

			preferred_limit = {
				diplomacy >= 25
				trait = poet
				trait = gregarious
			}

			preferred_limit = {
				diplomacy >= 25
				trait = poet
			}

			preferred_limit = {
				diplomacy >= 25
			}

			preferred_limit = {
				is_attractive_trigger = yes
				diplomacy >= 20
				trait = poet
				trait = gregarious
				practical_age < 30
				is_ill = no
			}

			preferred_limit = {
				is_attractive_trigger = yes
				diplomacy >= 20
				trait = poet
				trait = gregarious
				practical_age < 40
				is_ill = no
			}

			preferred_limit = {
				diplomacy >= 20
				trait = poet
				trait = gregarious
				is_ill = no
			}

			preferred_limit = {
				diplomacy >= 20
				trait = poet
				trait = gregarious
			}

			preferred_limit = {
				diplomacy >= 20
				trait = poet
			}

			preferred_limit = {
				diplomacy >= 20
			}

			preferred_limit = {
				is_attractive_trigger = yes
				diplomacy >= 15
				trait = poet
				trait = gregarious
				practical_age < 30
				is_ill = no
			}

			preferred_limit = {
				is_attractive_trigger = yes
				diplomacy >= 15
				trait = poet
				trait = gregarious
				practical_age < 40
				is_ill = no
			}

			preferred_limit = {
				diplomacy >= 15
				trait = poet
				trait = gregarious
				is_ill = no
			}

			preferred_limit = {
				diplomacy >= 15
				trait = poet
				trait = gregarious
			}

			preferred_limit = {
				diplomacy >= 15
				trait = poet
			}

			preferred_limit = {
				diplomacy >= 15
			}

			preferred_limit = {
				is_attractive_trigger = yes
				diplomacy >= 10
				trait = poet
				trait = gregarious
				practical_age < 30
				is_ill = no
			}

			preferred_limit = {
				is_attractive_trigger = yes
				diplomacy >= 10
				trait = poet
				trait = gregarious
				practical_age < 40
				is_ill = no
			}

			preferred_limit = {
				diplomacy >= 10
				trait = poet
				trait = gregarious
				is_ill = no
			}

			preferred_limit = {
				diplomacy >= 10
				trait = poet
				trait = gregarious
			}

			preferred_limit = {
				diplomacy >= 10
				trait = poet
			}

			preferred_limit = {
				diplomacy >= 10
			}

			preferred_limit = {
				is_attractive_trigger = yes
				diplomacy >= 5
				trait = poet
				trait = gregarious
				practical_age < 30
				is_ill = no
			}

			preferred_limit = {
				is_attractive_trigger = yes
				diplomacy >= 5
				trait = poet
				trait = gregarious
				practical_age < 40
				is_ill = no
			}

			preferred_limit = {
				diplomacy >= 5
				trait = poet
				trait = gregarious
				is_ill = no
			}

			preferred_limit = {
				diplomacy >= 5
				trait = poet
				trait = gregarious
			}

			preferred_limit = {
				diplomacy >= 5
				trait = poet
			}

			preferred_limit = {
				diplomacy >= 5
			}

			save_event_target_as = tribal_festival_singing_potential_winner_1
		}
	}

	if = {
		limit = {
			any_realm_character = {
				has_character_flag = flag_tribal_festival_singing_contender
				NOT = { character = event_target:tribal_festival_singing_potential_winner_1 }
			}
		}

		random_realm_character = { # Second
			limit = {
				has_character_flag = flag_tribal_festival_singing_contender
				NOT = { character = event_target:tribal_festival_singing_potential_winner_1 }
			}

			preferred_limit = {
				is_attractive_trigger = yes
				diplomacy >= 25
				trait = poet
				trait = gregarious
				practical_age < 30
				is_ill = no
			}

			preferred_limit = {
				is_attractive_trigger = yes
				diplomacy >= 25
				trait = poet
				trait = gregarious
				practical_age < 40
				is_ill = no
			}

			preferred_limit = {
				diplomacy >= 25
				trait = poet
				trait = gregarious
				is_ill = no
			}

			preferred_limit = {
				diplomacy >= 25
				trait = poet
				trait = gregarious
			}

			preferred_limit = {
				diplomacy >= 25
				trait = poet
			}

			preferred_limit = {
				diplomacy >= 25
			}

			preferred_limit = {
				is_attractive_trigger = yes
				diplomacy >= 20
				trait = poet
				trait = gregarious
				practical_age < 30
				is_ill = no
			}

			preferred_limit = {
				is_attractive_trigger = yes
				diplomacy >= 20
				trait = poet
				trait = gregarious
				practical_age < 40
				is_ill = no
			}

			preferred_limit = {
				diplomacy >= 20
				trait = poet
				trait = gregarious
				is_ill = no
			}

			preferred_limit = {
				diplomacy >= 20
				trait = poet
				trait = gregarious
			}

			preferred_limit = {
				diplomacy >= 20
				trait = poet
			}

			preferred_limit = {
				diplomacy >= 20
			}

			preferred_limit = {
				is_attractive_trigger = yes
				diplomacy >= 15
				trait = poet
				trait = gregarious
				practical_age < 30
				is_ill = no
			}

			preferred_limit = {
				is_attractive_trigger = yes
				diplomacy >= 15
				trait = poet
				trait = gregarious
				practical_age < 40
				is_ill = no
			}

			preferred_limit = {
				diplomacy >= 15
				trait = poet
				trait = gregarious
				is_ill = no
			}

			preferred_limit = {
				diplomacy >= 15
				trait = poet
				trait = gregarious
			}

			preferred_limit = {
				diplomacy >= 15
				trait = poet
			}

			preferred_limit = {
				diplomacy >= 15
			}

			preferred_limit = {
				is_attractive_trigger = yes
				diplomacy >= 10
				trait = poet
				trait = gregarious
				practical_age < 30
				is_ill = no
			}

			preferred_limit = {
				is_attractive_trigger = yes
				diplomacy >= 10
				trait = poet
				trait = gregarious
				practical_age < 40
				is_ill = no
			}

			preferred_limit = {
				diplomacy >= 10
				trait = poet
				trait = gregarious
				is_ill = no
			}

			preferred_limit = {
				diplomacy >= 10
				trait = poet
				trait = gregarious
			}

			preferred_limit = {
				diplomacy >= 10
				trait = poet
			}

			preferred_limit = {
				diplomacy >= 10
			}

			preferred_limit = {
				is_attractive_trigger = yes
				diplomacy >= 5
				trait = poet
				trait = gregarious
				practical_age < 30
				is_ill = no
			}

			preferred_limit = {
				is_attractive_trigger = yes
				diplomacy >= 5
				trait = poet
				trait = gregarious
				practical_age < 40
				is_ill = no
			}

			preferred_limit = {
				diplomacy >= 5
				trait = poet
				trait = gregarious
				is_ill = no
			}

			preferred_limit = {
				diplomacy >= 5
				trait = poet
				trait = gregarious
			}

			preferred_limit = {
				diplomacy >= 5
				trait = poet
			}

			preferred_limit = {
				diplomacy >= 5
			}

			save_event_target_as = tribal_festival_singing_potential_winner_2
		}
	}

	random_list = {
		25 = {
			trigger = {
				event_target:tribal_festival_singing_potential_winner_1 = { is_alive = yes }
			}

			mult_modifier = {
				factor = 1.5
				event_target:tribal_festival_singing_potential_winner_1 = { is_attractive_trigger = yes }
			}

			mult_modifier = {
				factor = 1.25
				event_target:tribal_festival_singing_potential_winner_1 = { is_benevolent_trigger = yes }
			}

			mult_modifier = {
				factor = 1.25
				event_target:tribal_festival_singing_potential_winner_1 = { diplomacy >= 5 }
			}

			mult_modifier = {
				factor = 1.25
				event_target:tribal_festival_singing_potential_winner_1 = { diplomacy >= 10 }
			}

			mult_modifier = {
				factor = 1.25
				event_target:tribal_festival_singing_potential_winner_1 = { diplomacy >= 15 }
			}

			mult_modifier = {
				factor = 1.5
				event_target:tribal_festival_singing_potential_winner_1 = { diplomacy >= 20 }
			}

			mult_modifier = {
				factor = 1.5
				event_target:tribal_festival_singing_potential_winner_1 = { diplomacy >= 25 }
			}

			mult_modifier = {
				factor = 1.75
				event_target:tribal_festival_singing_potential_winner_1 = { diplomacy >= 30 }
			}

			mult_modifier = {
				factor = 1.35
				event_target:tribal_festival_singing_potential_winner_1 = { is_female = yes }
			}

			mult_modifier = {
				factor = 1.35
				event_target:tribal_festival_singing_potential_winner_1 = { trait = eunuch }
			}

			mult_modifier = {
				factor = 1.25
				event_target:tribal_festival_singing_potential_winner_1 = { trait = diligent }
			}

			mult_modifier = {
				factor = 1.25
				event_target:tribal_festival_singing_potential_winner_1 = { trait = proud }
			}

			mult_modifier = {
				factor = 1.5
				event_target:tribal_festival_singing_potential_winner_1 = { trait = ambitious }
			}

			mult_modifier = {
				factor = 1.5
				event_target:tribal_festival_singing_potential_winner_1 = { trait = poet }
			}

			mult_modifier = {
				factor = 1.5
				event_target:tribal_festival_singing_potential_winner_1 = { trait = grey_eminence }
			}

			mult_modifier = {
				factor = 1.75
				event_target:tribal_festival_singing_potential_winner_1 = { trait = gregarious }
			}

			mult_modifier = {
				factor = 0.5
				event_target:tribal_festival_singing_potential_winner_1 = { trait = shy }
			}

			mult_modifier = {
				factor = 1.25
				event_target:tribal_festival_singing_potential_winner_1 = { is_ill = no }
			}

			mult_modifier = {
				factor = 0.85
				event_target:tribal_festival_singing_potential_winner_1 = { trait = slothful }
			}

			mult_modifier = {
				factor = 0.85
				event_target:tribal_festival_singing_potential_winner_1 = { trait = content }
			}

			mult_modifier = {
				factor = 0.5
				event_target:tribal_festival_singing_potential_winner_1 = { trait = stutter }
			}

			mult_modifier = {
				factor = 0.75
				event_target:tribal_festival_singing_potential_winner_1 = { trait = harelip }
			}

			mult_modifier = {
				factor = 1.5
				event_target:tribal_festival_singing_potential_winner_1 = { has_character_modifier = tribal_festival_very_good_fortune }
			}

			mult_modifier = {
				factor = 1.25
				event_target:tribal_festival_singing_potential_winner_1 = { has_character_modifier = tribal_festival_good_fortune }
			}

			mult_modifier = {
				factor = 0.75
				event_target:tribal_festival_singing_potential_winner_1 = { has_character_modifier = tribal_festival_bad_fortune }
			}

			mult_modifier = {
				factor = 0.5
				event_target:tribal_festival_singing_potential_winner_1 = { has_character_modifier = mud_splatter }
			}

			mult_modifier = {
				factor = 1.5
				event_target:tribal_festival_singing_potential_winner_1 = { has_character_modifier = feverish_grooming }
			}

			mult_modifier = {
				factor = 1.25
				event_target:tribal_festival_singing_potential_winner_1 = { has_character_modifier = tribal_studying_legends }
			}

			mult_modifier = {
				factor = 1.5
				event_target:tribal_festival_singing_potential_winner_1 = { has_character_modifier = tribal_festival_bought_potion }
			}

			mult_modifier = {
				factor = 1.35
				event_target:tribal_festival_singing_potential_winner_1 = { has_character_modifier = tribal_festival_bought_charm }
			}

			mult_modifier = {
				factor = 1.15
				event_target:tribal_festival_singing_potential_winner_1 = { has_character_modifier = tribal_festival_bought_perfume }
			}

			event_target:tribal_festival_singing_potential_winner_1 = { save_event_target_as = tribal_festival_winner }
			event_target:tribal_festival_singing_potential_winner_2 = { save_event_target_as = tribal_festival_loser }
			event_target:tribal_festival_winner = { character_event = { id = HF.23898 } }
		}

		25 = {
			trigger = {
				event_target:tribal_festival_singing_potential_winner_2 = { is_alive = yes }
			}

			mult_modifier = {
				factor = 1.5
				event_target:tribal_festival_singing_potential_winner_2 = { is_attractive_trigger = yes }
			}

			mult_modifier = {
				factor = 1.25
				event_target:tribal_festival_singing_potential_winner_2 = { is_benevolent_trigger = yes }
			}

			mult_modifier = {
				factor = 1.25
				event_target:tribal_festival_singing_potential_winner_2 = { diplomacy >= 5 }
			}

			mult_modifier = {
				factor = 1.25
				event_target:tribal_festival_singing_potential_winner_2 = { diplomacy >= 10 }
			}

			mult_modifier = {
				factor = 1.25
				event_target:tribal_festival_singing_potential_winner_2 = { diplomacy >= 15 }
			}

			mult_modifier = {
				factor = 1.5
				event_target:tribal_festival_singing_potential_winner_2 = { diplomacy >= 20 }
			}

			mult_modifier = {
				factor = 1.5
				event_target:tribal_festival_singing_potential_winner_2 = { diplomacy >= 25 }
			}

			mult_modifier = {
				factor = 1.75
				event_target:tribal_festival_singing_potential_winner_2 = { diplomacy >= 30 }
			}

			mult_modifier = {
				factor = 1.35
				event_target:tribal_festival_singing_potential_winner_2 = { is_female = yes }
			}

			mult_modifier = {
				factor = 1.35
				event_target:tribal_festival_singing_potential_winner_2 = { trait = eunuch }
			}

			mult_modifier = {
				factor = 1.25
				event_target:tribal_festival_singing_potential_winner_2 = { trait = diligent }
			}

			mult_modifier = {
				factor = 1.25
				event_target:tribal_festival_singing_potential_winner_2 = { trait = proud }
			}

			mult_modifier = {
				factor = 1.5
				event_target:tribal_festival_singing_potential_winner_2 = { trait = ambitious }
			}

			mult_modifier = {
				factor = 1.5
				event_target:tribal_festival_singing_potential_winner_2 = { trait = poet }
			}

			mult_modifier = {
				factor = 1.5
				event_target:tribal_festival_singing_potential_winner_2 = { trait = grey_eminence }
			}

			mult_modifier = {
				factor = 1.75
				event_target:tribal_festival_singing_potential_winner_2 = { trait = gregarious }
			}

			mult_modifier = {
				factor = 0.5
				event_target:tribal_festival_singing_potential_winner_2 = { trait = shy }
			}

			mult_modifier = {
				factor = 1.25
				event_target:tribal_festival_singing_potential_winner_2 = { is_ill = no }
			}

			mult_modifier = {
				factor = 0.85
				event_target:tribal_festival_singing_potential_winner_2 = { trait = slothful }
			}

			mult_modifier = {
				factor = 0.85
				event_target:tribal_festival_singing_potential_winner_2 = { trait = content }
			}

			mult_modifier = {
				factor = 0.5
				event_target:tribal_festival_singing_potential_winner_2 = { trait = stutter }
			}

			mult_modifier = {
				factor = 0.75
				event_target:tribal_festival_singing_potential_winner_2 = { trait = harelip }
			}

			mult_modifier = {
				factor = 1.5
				event_target:tribal_festival_singing_potential_winner_2 = { has_character_modifier = tribal_festival_very_good_fortune }
			}

			mult_modifier = {
				factor = 1.25
				event_target:tribal_festival_singing_potential_winner_2 = { has_character_modifier = tribal_festival_good_fortune }
			}

			mult_modifier = {
				factor = 0.75
				event_target:tribal_festival_singing_potential_winner_2 = { has_character_modifier = tribal_festival_bad_fortune }
			}

			mult_modifier = {
				factor = 0.5
				event_target:tribal_festival_singing_potential_winner_2 = { has_character_modifier = mud_splatter }
			}

			mult_modifier = {
				factor = 1.5
				event_target:tribal_festival_singing_potential_winner_2 = { has_character_modifier = feverish_grooming }
			}

			mult_modifier = {
				factor = 1.25
				event_target:tribal_festival_singing_potential_winner_2 = { has_character_modifier = tribal_studying_legends }
			}

			mult_modifier = {
				factor = 1.5
				event_target:tribal_festival_singing_potential_winner_2 = { has_character_modifier = tribal_festival_bought_potion }
			}

			mult_modifier = {
				factor = 1.35
				event_target:tribal_festival_singing_potential_winner_2 = { has_character_modifier = tribal_festival_bought_charm }
			}

			mult_modifier = {
				factor = 1.15
				event_target:tribal_festival_singing_potential_winner_2 = { has_character_modifier = tribal_festival_bought_perfume }
			}

			event_target:tribal_festival_singing_potential_winner_2 = { save_event_target_as = tribal_festival_winner }
			event_target:tribal_festival_singing_potential_winner_1 = { save_event_target_as = tribal_festival_loser }
			event_target:tribal_festival_winner = { character_event = { id = HF.23898 } }
		}

		25 = {
			trigger = {
				event_target:great_tribal_festival_host = {
					is_alive = yes
					has_character_flag = flag_tribal_festival_singing_contender

					NOR = {
						character = event_target:tribal_festival_singing_potential_winner_1
						character = event_target:tribal_festival_singing_potential_winner_2
					}
				}
			}

			mult_modifier = {
				factor = 1.5
				event_target:great_tribal_festival_host = { is_attractive_trigger = yes }
			}

			mult_modifier = {
				factor = 1.25
				event_target:great_tribal_festival_host = { is_benevolent_trigger = yes }
			}

			mult_modifier = {
				factor = 1.25
				event_target:great_tribal_festival_host = { diplomacy >= 5 }
			}

			mult_modifier = {
				factor = 1.25
				event_target:great_tribal_festival_host = { diplomacy >= 10 }
			}

			mult_modifier = {
				factor = 1.25
				event_target:great_tribal_festival_host = { diplomacy >= 15 }
			}

			mult_modifier = {
				factor = 1.5
				event_target:great_tribal_festival_host = { diplomacy >= 20 }
			}

			mult_modifier = {
				factor = 1.5
				event_target:great_tribal_festival_host = { diplomacy >= 25 }
			}

			mult_modifier = {
				factor = 1.75
				event_target:great_tribal_festival_host = { diplomacy >= 30 }
			}

			mult_modifier = {
				factor = 1.35
				event_target:great_tribal_festival_host = { is_female = yes }
			}

			mult_modifier = {
				factor = 1.35
				event_target:great_tribal_festival_host = { trait = eunuch }
			}

			mult_modifier = {
				factor = 1.25
				event_target:great_tribal_festival_host = { trait = diligent }
			}

			mult_modifier = {
				factor = 1.25
				event_target:great_tribal_festival_host = { trait = proud }
			}

			mult_modifier = {
				factor = 1.5
				event_target:great_tribal_festival_host = { trait = ambitious }
			}

			mult_modifier = {
				factor = 1.5
				event_target:great_tribal_festival_host = { trait = poet }
			}

			mult_modifier = {
				factor = 1.5
				event_target:great_tribal_festival_host = { trait = grey_eminence }
			}

			mult_modifier = {
				factor = 1.75
				event_target:great_tribal_festival_host = { trait = gregarious }
			}

			mult_modifier = {
				factor = 0.5
				event_target:great_tribal_festival_host = { trait = shy }
			}

			mult_modifier = {
				factor = 1.25
				event_target:great_tribal_festival_host = { is_ill = no }
			}

			mult_modifier = {
				factor = 0.85
				event_target:great_tribal_festival_host = { trait = slothful }
			}

			mult_modifier = {
				factor = 0.85
				event_target:great_tribal_festival_host = { trait = content }
			}

			mult_modifier = {
				factor = 0.5
				event_target:great_tribal_festival_host = { trait = stutter }
			}

			mult_modifier = {
				factor = 0.75
				event_target:great_tribal_festival_host = { trait = harelip }
			}

			mult_modifier = {
				factor = 1.5
				event_target:great_tribal_festival_host = { has_character_modifier = tribal_festival_very_good_fortune }
			}

			mult_modifier = {
				factor = 1.25
				event_target:great_tribal_festival_host = { has_character_modifier = tribal_festival_good_fortune }
			}

			mult_modifier = {
				factor = 0.75
				event_target:great_tribal_festival_host = { has_character_modifier = tribal_festival_bad_fortune }
			}

			mult_modifier = {
				factor = 0.5
				event_target:great_tribal_festival_host = { has_character_modifier = mud_splatter }
			}

			mult_modifier = {
				factor = 1.5
				event_target:great_tribal_festival_host = { has_character_modifier = feverish_grooming }
			}

			mult_modifier = {
				factor = 1.25
				event_target:great_tribal_festival_host = { has_character_modifier = tribal_studying_legends }
			}

			mult_modifier = {
				factor = 1.5
				event_target:great_tribal_festival_host = { has_character_modifier = tribal_festival_bought_potion }
			}

			mult_modifier = {
				factor = 1.35
				event_target:great_tribal_festival_host = { has_character_modifier = tribal_festival_bought_charm }
			}

			mult_modifier = {
				factor = 1.15
				event_target:great_tribal_festival_host = { has_character_modifier = tribal_festival_bought_perfume }
			}

			event_target:great_tribal_festival_host = { save_event_target_as = tribal_festival_winner }
			event_target:tribal_festival_singing_potential_winner_1 = { save_event_target_as = tribal_festival_loser }
			event_target:tribal_festival_winner = { character_event = { id = HF.23898 } }
		}

		25 = { # Fallback, if no potential winner exists in the first place
			trigger = {
				event_target:tribal_festival_singing_potential_winner_1 = { is_alive = no }
				event_target:tribal_festival_singing_potential_winner_2 = { is_alive = no }
				event_target:great_tribal_festival_host = { NOT = { has_character_flag = flag_tribal_festival_singing_contender } }
			}

			spawn_debutante_effect = yes # Saved as invited_character

			event_target:invited_character = {
				character_event = { id = HF.23898 } # Surprise winner
			}
		}
	}
}

pick_potential_tapestry_winners_effect = {
	if = {
		limit = {
			any_realm_character = {
				has_character_flag = flag_tribal_festival_tapestry_contender
			}
		}

		random_realm_character = { # First
			limit = { has_character_flag = flag_tribal_festival_tapestry_contender }

			preferred_limit = {
				is_smart_trigger = yes
				stewardship >= 25
				trait = diligent
			}

			preferred_limit = {
				stewardship >= 25
				trait = diligent
			}

			preferred_limit = {
				stewardship >= 25
			}

			preferred_limit = {
				is_smart_trigger = yes
				stewardship >= 20
				trait = diligent
			}

			preferred_limit = {
				stewardship >= 20
				trait = diligent
			}

			preferred_limit = {
				stewardship >= 20
			}

			preferred_limit = {
				is_smart_trigger = yes
				stewardship >= 15
				trait = diligent
			}

			preferred_limit = {
				stewardship >= 15
				trait = diligent
			}

			preferred_limit = {
				stewardship >= 15
			}

			preferred_limit = {
				is_smart_trigger = yes
				stewardship >= 10
				trait = diligent
			}

			preferred_limit = {
				stewardship >= 10
				trait = diligent
			}

			preferred_limit = {
				stewardship >= 10
			}

			preferred_limit = {
				is_smart_trigger = yes
				stewardship >= 5
				trait = diligent
			}

			preferred_limit = {
				stewardship >= 5
				trait = diligent
			}

			preferred_limit = {
				stewardship >= 5
			}

			save_event_target_as = tribal_festival_tapestry_potential_winner_1
		}
	}

	if = {
		limit = {
			any_realm_character = {
				has_character_flag = flag_tribal_festival_tapestry_contender
				NOT = { character = event_target:tribal_festival_tapestry_potential_winner_1 }
			}
		}

		random_realm_character = { # Second
			limit = {
				has_character_flag = flag_tribal_festival_tapestry_contender
				NOT = { character = event_target:tribal_festival_tapestry_potential_winner_1 }
			}

			preferred_limit = {
				is_smart_trigger = yes
				stewardship >= 25
				trait = diligent
			}

			preferred_limit = {
				stewardship >= 25
				trait = diligent
			}

			preferred_limit = {
				stewardship >= 25
			}

			preferred_limit = {
				is_smart_trigger = yes
				stewardship >= 20
				trait = diligent
			}

			preferred_limit = {
				stewardship >= 20
				trait = diligent
			}

			preferred_limit = {
				stewardship >= 20
			}

			preferred_limit = {
				is_smart_trigger = yes
				stewardship >= 15
				trait = diligent
			}

			preferred_limit = {
				stewardship >= 15
				trait = diligent
			}

			preferred_limit = {
				stewardship >= 15
			}

			preferred_limit = {
				is_smart_trigger = yes
				stewardship >= 10
				trait = diligent
			}

			preferred_limit = {
				stewardship >= 10
				trait = diligent
			}

			preferred_limit = {
				stewardship >= 10
			}

			preferred_limit = {
				is_smart_trigger = yes
				stewardship >= 5
				trait = diligent
			}

			preferred_limit = {
				stewardship >= 5
				trait = diligent
			}

			preferred_limit = {
				stewardship >= 5
			}

			save_event_target_as = tribal_festival_tapestry_potential_winner_2
		}
	}

	random_list = {
		25 = {
			trigger = {
				event_target:tribal_festival_tapestry_potential_winner_1 = { is_alive = yes }
			}

			mult_modifier = {
				factor = 1.5
				event_target:tribal_festival_tapestry_potential_winner_1 = { is_smart_trigger = yes }
			}

			mult_modifier = {
				factor = 0.5
				event_target:tribal_festival_tapestry_potential_winner_1 = { is_dumb_trigger = yes }
			}

			mult_modifier = {
				factor = 1.25
				event_target:tribal_festival_tapestry_potential_winner_1 = { stewardship >= 5 }
			}

			mult_modifier = {
				factor = 1.25
				event_target:tribal_festival_tapestry_potential_winner_1 = { stewardship >= 10 }
			}

			mult_modifier = {
				factor = 1.25
				event_target:tribal_festival_tapestry_potential_winner_1 = { stewardship >= 15 }
			}

			mult_modifier = {
				factor = 1.5
				event_target:tribal_festival_tapestry_potential_winner_1 = { stewardship >= 20 }
			}

			mult_modifier = {
				factor = 1.5
				event_target:tribal_festival_tapestry_potential_winner_1 = { stewardship >= 25 }
			}

			mult_modifier = {
				factor = 1.75
				event_target:tribal_festival_tapestry_potential_winner_1 = { stewardship >= 30 }
			}

			mult_modifier = {
				factor = 1.5
				event_target:tribal_festival_tapestry_potential_winner_1 = { trait = diligent }
			}

			mult_modifier = {
				factor = 1.25
				event_target:tribal_festival_tapestry_potential_winner_1 = { trait = ambitious }
			}

			mult_modifier = {
				factor = 0.75
				event_target:tribal_festival_tapestry_potential_winner_1 = { trait = gregarious }
			}

			mult_modifier = {
				factor = 1.25
				event_target:tribal_festival_tapestry_potential_winner_1 = { trait = shy }
			}

			mult_modifier = {
				factor = 0.5
				event_target:tribal_festival_tapestry_potential_winner_1 = { trait = slothful }
			}

			mult_modifier = {
				factor = 0.85
				event_target:tribal_festival_tapestry_potential_winner_1 = { trait = content }
			}

			mult_modifier = {
				factor = 0.35
				event_target:tribal_festival_tapestry_potential_winner_1 = { trait = blinded }
			}

			mult_modifier = {
				factor = 1.5
				event_target:tribal_festival_tapestry_potential_winner_1 = { has_character_modifier = tribal_festival_very_good_fortune }
			}

			mult_modifier = {
				factor = 1.25
				event_target:tribal_festival_tapestry_potential_winner_1 = { has_character_modifier = tribal_festival_good_fortune }
			}

			mult_modifier = {
				factor = 0.75
				event_target:tribal_festival_tapestry_potential_winner_1 = { has_character_modifier = tribal_festival_bad_fortune }
			}

			mult_modifier = {
				factor = 1.5
				event_target:tribal_festival_tapestry_potential_winner_1 = { has_character_modifier = expensive_craftsmen }
			}

			event_target:tribal_festival_tapestry_potential_winner_1 = { save_event_target_as = tribal_festival_winner }
			event_target:tribal_festival_tapestry_potential_winner_2 = { save_event_target_as = tribal_festival_loser }
			event_target:tribal_festival_winner = { character_event = { id = HF.23901 } }
		}

		25 = {
			trigger = {
				event_target:tribal_festival_tapestry_potential_winner_2 = { is_alive = yes }
			}

			mult_modifier = {
				factor = 1.5
				event_target:tribal_festival_tapestry_potential_winner_2 = { is_smart_trigger = yes }
			}

			mult_modifier = {
				factor = 0.5
				event_target:tribal_festival_tapestry_potential_winner_2 = { is_dumb_trigger = yes }
			}

			mult_modifier = {
				factor = 1.25
				event_target:tribal_festival_tapestry_potential_winner_2 = { stewardship >= 5 }
			}

			mult_modifier = {
				factor = 1.25
				event_target:tribal_festival_tapestry_potential_winner_2 = { stewardship >= 10 }
			}

			mult_modifier = {
				factor = 1.25
				event_target:tribal_festival_tapestry_potential_winner_2 = { stewardship >= 15 }
			}

			mult_modifier = {
				factor = 1.5
				event_target:tribal_festival_tapestry_potential_winner_2 = { stewardship >= 20 }
			}

			mult_modifier = {
				factor = 1.5
				event_target:tribal_festival_tapestry_potential_winner_2 = { stewardship >= 25 }
			}

			mult_modifier = {
				factor = 1.75
				event_target:tribal_festival_tapestry_potential_winner_2 = { stewardship >= 30 }
			}

			mult_modifier = {
				factor = 1.5
				event_target:tribal_festival_tapestry_potential_winner_2 = { trait = diligent }
			}

			mult_modifier = {
				factor = 1.25
				event_target:tribal_festival_tapestry_potential_winner_2 = { trait = ambitious }
			}

			mult_modifier = {
				factor = 0.75
				event_target:tribal_festival_tapestry_potential_winner_2 = { trait = gregarious }
			}

			mult_modifier = {
				factor = 1.25
				event_target:tribal_festival_tapestry_potential_winner_2 = { trait = shy }
			}

			mult_modifier = {
				factor = 0.5
				event_target:tribal_festival_tapestry_potential_winner_2 = { trait = slothful }
			}

			mult_modifier = {
				factor = 0.85
				event_target:tribal_festival_tapestry_potential_winner_2 = { trait = content }
			}

			mult_modifier = {
				factor = 0.35
				event_target:tribal_festival_tapestry_potential_winner_2 = { trait = blinded }
			}

			mult_modifier = {
				factor = 1.5
				event_target:tribal_festival_tapestry_potential_winner_2 = { has_character_modifier = tribal_festival_very_good_fortune }
			}

			mult_modifier = {
				factor = 1.25
				event_target:tribal_festival_tapestry_potential_winner_2 = { has_character_modifier = tribal_festival_good_fortune }
			}

			mult_modifier = {
				factor = 0.75
				event_target:tribal_festival_tapestry_potential_winner_2
				 = { has_character_modifier = tribal_festival_bad_fortune }
			}

			mult_modifier = {
				factor = 1.5
				event_target:tribal_festival_tapestry_potential_winner_2 = { has_character_modifier = expensive_craftsmen }
			}

			event_target:tribal_festival_tapestry_potential_winner_2 = { save_event_target_as = tribal_festival_winner }
			event_target:tribal_festival_tapestry_potential_winner_1 = { save_event_target_as = tribal_festival_loser }
			event_target:tribal_festival_winner = { character_event = { id = HF.23901 } }
		}

		25 = {
			trigger = {
				event_target:great_tribal_festival_host = {
					is_alive = yes
					has_character_flag = flag_tribal_festival_singing_contender

					NOR = {
						character = event_target:tribal_festival_singing_potential_winner_1
						character = event_target:tribal_festival_singing_potential_winner_2
					}
				}
			}

			mult_modifier = {
				factor = 1.5
				event_target:great_tribal_festival_host = { is_smart_trigger = yes }
			}

			mult_modifier = {
				factor = 0.5
				event_target:great_tribal_festival_host = { is_dumb_trigger = yes }
			}

			mult_modifier = {
				factor = 1.25
				event_target:great_tribal_festival_host = { stewardship >= 5 }
			}

			mult_modifier = {
				factor = 1.25
				event_target:great_tribal_festival_host = { stewardship >= 10 }
			}

			mult_modifier = {
				factor = 1.25
				event_target:great_tribal_festival_host = { stewardship >= 15 }
			}

			mult_modifier = {
				factor = 1.5
				event_target:great_tribal_festival_host = { stewardship >= 20 }
			}

			mult_modifier = {
				factor = 1.5
				event_target:great_tribal_festival_host = { stewardship >= 25 }
			}

			mult_modifier = {
				factor = 1.75
				event_target:great_tribal_festival_host = { stewardship >= 30 }
			}

			mult_modifier = {
				factor = 1.5
				event_target:great_tribal_festival_host = { trait = diligent }
			}

			mult_modifier = {
				factor = 1.25
				event_target:great_tribal_festival_host = { trait = ambitious }
			}

			mult_modifier = {
				factor = 0.75
				event_target:great_tribal_festival_host = { trait = gregarious }
			}

			mult_modifier = {
				factor = 1.25
				event_target:great_tribal_festival_host = { trait = shy }
			}

			mult_modifier = {
				factor = 0.5
				event_target:great_tribal_festival_host = { trait = slothful }
			}

			mult_modifier = {
				factor = 0.85
				event_target:great_tribal_festival_host = { trait = content }
			}

			mult_modifier = {
				factor = 0.35
				event_target:great_tribal_festival_host = { trait = blinded }
			}

			mult_modifier = {
				factor = 1.5
				event_target:great_tribal_festival_host = { has_character_modifier = tribal_festival_very_good_fortune }
			}

			mult_modifier = {
				factor = 1.25
				event_target:great_tribal_festival_host = { has_character_modifier = tribal_festival_good_fortune }
			}

			mult_modifier = {
				factor = 0.75
				event_target:great_tribal_festival_host = { has_character_modifier = tribal_festival_bad_fortune }
			}

			mult_modifier = {
				factor = 1.5
				event_target:great_tribal_festival_host = { has_character_modifier = expensive_craftsmen }
			}

			event_target:great_tribal_festival_host = { save_event_target_as = tribal_festival_winner }
			event_target:tribal_festival_tapestry_potential_winner_1 = { save_event_target_as = tribal_festival_loser }
			event_target:tribal_festival_winner = { character_event = { id = HF.23901 } }
		}

		25 = { # Fallback, if no potential winner exists in the first place
			trigger = {
				event_target:tribal_festival_tapestry_potential_winner_1 = { is_alive = no }
				event_target:tribal_festival_tapestry_potential_winner_2 = { is_alive = no }
				event_target:great_tribal_festival_host = { NOT = { has_character_flag = flag_tribal_festival_tapestry_contender } }
			}

			spawn_debutante_effect = yes # Saved as invited_character

			event_target:invited_character = {
				character_event = { id = HF.23901 } # Surprise winner
			}
		}
	}
}

warrior_lodge_arm_wrestling_cleanup_effect = {
	hidden_effect = {

		event_target:arm_wrestling_fighter_1 = {
			clr_character_flag = arm_wrestling_strong
			clr_character_flag = arm_wrestling_medium
			clr_character_flag = arm_wrestling_weak
			clr_character_flag = do_not_disturb
			clr_character_flag = wl_arm_wrestling_being_tricked_1
			clr_character_flag = wl_arm_wrestling_being_tricked_2
		}

		event_target:arm_wrestling_fighter_2 = {
			clr_character_flag = arm_wrestling_strong
			clr_character_flag = arm_wrestling_medium
			clr_character_flag = arm_wrestling_weak
			clr_character_flag = do_not_disturb
			clr_character_flag = wl_arm_wrestling_being_tricked_1
			clr_character_flag = wl_arm_wrestling_being_tricked_2
		}

		event_target:arm_wrestling_opponent_1 = {
			clr_character_flag = arm_wrestling_strong
			clr_character_flag = arm_wrestling_medium
			clr_character_flag = arm_wrestling_weak
			clr_character_flag = do_not_disturb
			clr_character_flag = wl_arm_wrestling_being_tricked_1
			clr_character_flag = wl_arm_wrestling_being_tricked_2
		}

		event_target:arm_wrestling_opponent_2 = {
			clr_character_flag = arm_wrestling_strong
			clr_character_flag = arm_wrestling_medium
			clr_character_flag = arm_wrestling_weak
			clr_character_flag = do_not_disturb
			clr_character_flag = wl_arm_wrestling_being_tricked_1
			clr_character_flag = wl_arm_wrestling_being_tricked_2
		}

		event_target:arm_wrestling_opponent_3 = {
			clr_character_flag = arm_wrestling_strong
			clr_character_flag = arm_wrestling_medium
			clr_character_flag = arm_wrestling_weak
			clr_character_flag = do_not_disturb
			clr_character_flag = wl_arm_wrestling_being_tricked_1
			clr_character_flag = wl_arm_wrestling_being_tricked_2
		}

		# And ROOT as well, just to be sure
		clr_character_flag = arm_wrestling_strong
		clr_character_flag = arm_wrestling_medium
		clr_character_flag = arm_wrestling_weak
		clr_character_flag = do_not_disturb
		clr_character_flag = wl_arm_wrestling_being_tricked_1
		clr_character_flag = wl_arm_wrestling_being_tricked_2
	}
}

warrior_lodge_arm_wrestling_first_round_effect = {
	hidden_effect = {
		if = {
			limit = {
				OR = {
					event_target:arm_wrestling_fighter_1 = { is_alive = no }
					event_target:arm_wrestling_fighter_2 = { is_alive = no }
				}
			}

			warrior_lodge_arm_wrestling_cleanup_effect = yes
		}
		else = {
			random_list = {
				50 = {
					mult_modifier = {
						factor = 1.25
						event_target:arm_wrestling_fighter_1 = {
							combat_rating_diff = { who = event_target:arm_wrestling_fighter_2 value >= 5 }
						}
					}

					mult_modifier = {
						factor = 1.25
						event_target:arm_wrestling_fighter_1 = {
							combat_rating_diff = { who = event_target:arm_wrestling_fighter_2 value >= 10 }
						}
					}

					mult_modifier = {
						factor = 1.25
						event_target:arm_wrestling_fighter_1 = {
							combat_rating_diff = { who = event_target:arm_wrestling_fighter_2 value >= 15 }
						}
					}

					mult_modifier = {
						factor = 1.25
						event_target:arm_wrestling_fighter_1 = {
							combat_rating_diff = { who = event_target:arm_wrestling_fighter_2 value >= 20 }
						}
					}

					mult_modifier = {
						factor = 1.25
						event_target:arm_wrestling_fighter_1 = {
							combat_rating_diff = { who = event_target:arm_wrestling_fighter_2 value >= 30 }
						}
					}

					mult_modifier = {
						factor = 1.25
						event_target:arm_wrestling_fighter_1 = {
							combat_rating_diff = { who = event_target:arm_wrestling_fighter_2 value >= 40 }
						}
					}

					mult_modifier = {
						factor = 1.25
						event_target:arm_wrestling_fighter_1 = {
							combat_rating_diff = { who = event_target:arm_wrestling_fighter_2 value >= 50 }
						}
					}

					mult_modifier = {
						factor = 1.5
						event_target:arm_wrestling_fighter_1 = {
							combat_rating_diff = { who = event_target:arm_wrestling_fighter_2 value >= 60 }
						}
					}

					mult_modifier = {
						factor = 1.5
						event_target:arm_wrestling_fighter_1 = {
							combat_rating_diff = { who = event_target:arm_wrestling_fighter_2 value >= 70 }
						}
					}

					mult_modifier = {
						factor = 1.35
						event_target:arm_wrestling_fighter_1 = { trait = duelist }
					}

					mult_modifier = {
						factor = 0.75
						event_target:arm_wrestling_fighter_1 = { trait = lefthanded }
						event_target:arm_wrestling_fighter_2 = { NOT = { trait = lefthanded } }
					}

					mult_modifier = {
						factor = 0.85
						event_target:arm_wrestling_fighter_1 = { practical_age <= 20 }
					}

					mult_modifier = {
						factor = 1.15
						event_target:arm_wrestling_fighter_1 = { practical_age >= 20 practical_age < 40 }
					}

					mult_modifier = {
						factor = 0.85
						event_target:arm_wrestling_fighter_1 = { practical_age >= 40 }
					}

					mult_modifier = {
						factor = 0.85
						event_target:arm_wrestling_fighter_1 = { practical_age >= 50 }
					}

					mult_modifier = {
						factor = 0.75
						event_target:arm_wrestling_fighter_1 = { practical_age >= 60 }
					}

					mult_modifier = {
						factor = 1.25
						event_target:arm_wrestling_fighter_1 = { trait = brave }
					}

					mult_modifier = {
						factor = 1.75
						event_target:arm_wrestling_fighter_1 = { trait = strong }
					}

					mult_modifier = {
						factor = 1.5
						event_target:arm_wrestling_fighter_1 = { trait = brawny }
					}

					mult_modifier = {
						factor = 1.25
						event_target:arm_wrestling_fighter_1 = { trait = sturdy }
					}

					mult_modifier = {
						factor = 1.5
						event_target:arm_wrestling_fighter_1 = { trait = berserker }
					}

					mult_modifier = {
						factor = 0.95
						event_target:arm_wrestling_fighter_1 = { trait = craven }
					}

					mult_modifier = {
						factor = 0.95
						event_target:arm_wrestling_fighter_1 = { trait = weak }
					}

					mult_modifier = {
						factor = 0.95
						event_target:arm_wrestling_fighter_1 = { trait = frail }
					}

					mult_modifier = {
						factor = 0.85
						event_target:arm_wrestling_fighter_1 = { trait = malnourished }
					}

					mult_modifier = {
						factor = 0.75
						event_target:arm_wrestling_fighter_1 = { trait = mangled }
					}

					mult_modifier = {
						factor = 0.95
						event_target:arm_wrestling_fighter_1 = { trait = infirm }
					}

					mult_modifier = {
						factor = 0.25
						event_target:arm_wrestling_fighter_1 = { is_incapable = yes }
					}

					mult_modifier = {
						factor = 0.95
						event_target:arm_wrestling_fighter_1 = { trait = wounded }
					}

					mult_modifier = {
						factor = 1.5
						event_target:arm_wrestling_fighter_1 = { has_character_modifier = tribal_festival_very_good_fortune }
					}

					mult_modifier = {
						factor = 1.25
						event_target:arm_wrestling_fighter_1 = { has_character_modifier = tribal_festival_good_fortune }
					}

					mult_modifier = {
						factor = 0.75
						event_target:arm_wrestling_fighter_1 = { has_character_modifier = tribal_festival_bad_fortune }
					}

					mult_modifier = {
						factor = 1.5
						event_target:arm_wrestling_fighter_1 = { has_character_modifier = enjoying_the_countryside }
					}

					mult_modifier = {
						factor = 1.5
						event_target:arm_wrestling_fighter_1 = { has_character_modifier = tribal_festival_bought_strength_potion }
					}

					mult_modifier = {
						factor = 1.35
						event_target:arm_wrestling_fighter_1 = { has_character_modifier = tribal_festival_bought_strength_charm }
					}

					mult_modifier = {
						factor = 1.15
						event_target:arm_wrestling_fighter_1 = { has_character_modifier = tribal_festival_bought_bravery_amulet }
					}

					event_target:arm_wrestling_fighter_2 = {
						repeat_event = { # Keep FROM in FROM
							id = HF.25205 # First round sends event to underdog
							days = 1
						}
					}
				}

				50 = {
					mult_modifier = {
						factor = 1.25
						event_target:arm_wrestling_fighter_2 = {
							combat_rating_diff = { who = event_target:arm_wrestling_fighter_1 value >= 5 }
						}
					}

					mult_modifier = {
						factor = 1.25
						event_target:arm_wrestling_fighter_2 = {
							combat_rating_diff = { who = event_target:arm_wrestling_fighter_1 value >= 10 }
						}
					}

					mult_modifier = {
						factor = 1.25
						event_target:arm_wrestling_fighter_2 = {
							combat_rating_diff = { who = event_target:arm_wrestling_fighter_1 value >= 15 }
						}
					}

					mult_modifier = {
						factor = 1.25
						event_target:arm_wrestling_fighter_2 = {
							combat_rating_diff = { who = event_target:arm_wrestling_fighter_1 value >= 20 }
						}
					}

					mult_modifier = {
						factor = 1.25
						event_target:arm_wrestling_fighter_2 = {
							combat_rating_diff = { who = event_target:arm_wrestling_fighter_1 value >= 30 }
						}
					}

					mult_modifier = {
						factor = 1.25
						event_target:arm_wrestling_fighter_2 = {
							combat_rating_diff = { who = event_target:arm_wrestling_fighter_1 value >= 40 }
						}
					}

					mult_modifier = {
						factor = 1.25
						event_target:arm_wrestling_fighter_2 = {
							combat_rating_diff = { who = event_target:arm_wrestling_fighter_1 value >= 50 }
						}
					}

					mult_modifier = {
						factor = 1.5
						event_target:arm_wrestling_fighter_2 = {
							combat_rating_diff = { who = event_target:arm_wrestling_fighter_1 value >= 60 }
						}
					}

					mult_modifier = {
						factor = 1.5
						event_target:arm_wrestling_fighter_2 = {
							combat_rating_diff = { who = event_target:arm_wrestling_fighter_1 value >= 70 }
						}
					}

					mult_modifier = {
						factor = 1.35
						event_target:arm_wrestling_fighter_2 = { trait = duelist }
					}

					mult_modifier = {
						factor = 0.75
						event_target:arm_wrestling_fighter_2 = { trait = lefthanded }
						event_target:arm_wrestling_fighter_1 = { NOT = { trait = lefthanded } }
					}

					mult_modifier = {
						factor = 0.85
						event_target:arm_wrestling_fighter_2 = { practical_age <= 20 }
					}

					mult_modifier = {
						factor = 1.15
						event_target:arm_wrestling_fighter_2 = { practical_age >= 20 practical_age < 40 }
					}

					mult_modifier = {
						factor = 0.85
						event_target:arm_wrestling_fighter_2 = { practical_age >= 40 }
					}

					mult_modifier = {
						factor = 0.85
						event_target:arm_wrestling_fighter_2 = { practical_age >= 50 }
					}

					mult_modifier = {
						factor = 0.75
						event_target:arm_wrestling_fighter_2 = { practical_age >= 60 }
					}

					mult_modifier = {
						factor = 1.25
						event_target:arm_wrestling_fighter_2 = { trait = brave }
					}

					mult_modifier = {
						factor = 1.75
						event_target:arm_wrestling_fighter_2 = { trait = strong }
					}

					mult_modifier = {
						factor = 1.5
						event_target:arm_wrestling_fighter_2 = { trait = brawny }
					}

					mult_modifier = {
						factor = 1.25
						event_target:arm_wrestling_fighter_2 = { trait = sturdy }
					}

					mult_modifier = {
						factor = 1.5
						event_target:arm_wrestling_fighter_2 = { trait = berserker }
					}

					mult_modifier = {
						factor = 0.95
						event_target:arm_wrestling_fighter_2 = { trait = craven }
					}

					mult_modifier = {
						factor = 0.95
						event_target:arm_wrestling_fighter_2 = { trait = weak }
					}

					mult_modifier = {
						factor = 0.95
						event_target:arm_wrestling_fighter_2 = { trait = frail }
					}

					mult_modifier = {
						factor = 0.85
						event_target:arm_wrestling_fighter_2 = { trait = malnourished }
					}

					mult_modifier = {
						factor = 0.75
						event_target:arm_wrestling_fighter_2 = { trait = mangled }
					}

					mult_modifier = {
						factor = 0.95
						event_target:arm_wrestling_fighter_2 = { trait = infirm }
					}

					mult_modifier = {
						factor = 0.25
						event_target:arm_wrestling_fighter_2 = { is_incapable = yes }
					}

					mult_modifier = {
						factor = 0.95
						event_target:arm_wrestling_fighter_2 = { trait = wounded }
					}

					mult_modifier = {
						factor = 1.5
						event_target:arm_wrestling_fighter_2 = { has_character_modifier = tribal_festival_very_good_fortune }
					}

					mult_modifier = {
						factor = 1.25
						event_target:arm_wrestling_fighter_2 = { has_character_modifier = tribal_festival_good_fortune }
					}

					mult_modifier = {
						factor = 0.75
						event_target:arm_wrestling_fighter_2 = { has_character_modifier = tribal_festival_bad_fortune }
					}

					mult_modifier = {
						factor = 1.5
						event_target:arm_wrestling_fighter_2 = { has_character_modifier = enjoying_the_countryside }
					}

					mult_modifier = {
						factor = 1.5
						event_target:arm_wrestling_fighter_2 = { has_character_modifier = tribal_festival_bought_strength_potion }
					}

					mult_modifier = {
						factor = 1.35
						event_target:arm_wrestling_fighter_2 = { has_character_modifier = tribal_festival_bought_strength_charm }
					}

					mult_modifier = {
						factor = 1.15
						event_target:arm_wrestling_fighter_2 = { has_character_modifier = tribal_festival_bought_bravery_amulet }
					}

					event_target:arm_wrestling_fighter_1 = {
						character_event = {
							id = HF.25205 # First round sends event to underdog
							days = 1
						}
					}
				}
			}
		}
	}
}

warrior_lodge_arm_wrestling_second_round_effect = {
	hidden_effect = {
		if = {
			limit = {
				OR = {
					event_target:arm_wrestling_fighter_1 = { is_alive = no }
					event_target:arm_wrestling_fighter_2 = { is_alive = no }
				}
			}

			warrior_lodge_arm_wrestling_cleanup_effect = yes
		}
		else = {
			random_list = {
				50 = {
					mult_modifier = {
						factor = 1.25
						event_target:arm_wrestling_fighter_1 = {
							combat_rating_diff = { who = event_target:arm_wrestling_fighter_2 value >= 5 }
						}
					}

					mult_modifier = {
						factor = 1.25
						event_target:arm_wrestling_fighter_1 = {
							combat_rating_diff = { who = event_target:arm_wrestling_fighter_2 value >= 10 }
						}
					}

					mult_modifier = {
						factor = 1.25
						event_target:arm_wrestling_fighter_1 = {
							combat_rating_diff = { who = event_target:arm_wrestling_fighter_2 value >= 15 }
						}
					}

					mult_modifier = {
						factor = 1.25
						event_target:arm_wrestling_fighter_1 = {
							combat_rating_diff = { who = event_target:arm_wrestling_fighter_2 value >= 20 }
						}
					}

					mult_modifier = {
						factor = 1.25
						event_target:arm_wrestling_fighter_1 = {
							combat_rating_diff = { who = event_target:arm_wrestling_fighter_2 value >= 30 }
						}
					}

					mult_modifier = {
						factor = 1.25
						event_target:arm_wrestling_fighter_1 = {
							combat_rating_diff = { who = event_target:arm_wrestling_fighter_2 value >= 40 }
						}
					}

					mult_modifier = {
						factor = 1.25
						event_target:arm_wrestling_fighter_1 = {
							combat_rating_diff = { who = event_target:arm_wrestling_fighter_2 value >= 50 }
						}
					}

					mult_modifier = {
						factor = 1.5
						event_target:arm_wrestling_fighter_1 = {
							combat_rating_diff = { who = event_target:arm_wrestling_fighter_2 value >= 60 }
						}
					}

					mult_modifier = {
						factor = 1.5
						event_target:arm_wrestling_fighter_1 = {
							combat_rating_diff = { who = event_target:arm_wrestling_fighter_2 value >= 70 }
						}
					}

					mult_modifier = {
						factor = 1.35
						event_target:arm_wrestling_fighter_1 = { trait = duelist }
					}

					mult_modifier = {
						factor = 0.75
						event_target:arm_wrestling_fighter_1 = { trait = lefthanded }
						event_target:arm_wrestling_fighter_2 = { NOT = { trait = lefthanded } }
					}

					mult_modifier = {
						factor = 0.85
						event_target:arm_wrestling_fighter_1 = { practical_age <= 20 }
					}

					mult_modifier = {
						factor = 1.15
						event_target:arm_wrestling_fighter_1 = { practical_age >= 20 practical_age < 40 }
					}

					mult_modifier = {
						factor = 0.85
						event_target:arm_wrestling_fighter_1 = { practical_age >= 40 }
					}

					mult_modifier = {
						factor = 0.85
						event_target:arm_wrestling_fighter_1 = { practical_age >= 50 }
					}

					mult_modifier = {
						factor = 0.75
						event_target:arm_wrestling_fighter_1 = { practical_age >= 60 }
					}

					mult_modifier = {
						factor = 1.25
						event_target:arm_wrestling_fighter_1 = { trait = brave }
					}

					mult_modifier = {
						factor = 1.75
						event_target:arm_wrestling_fighter_1 = { trait = strong }
					}

					mult_modifier = {
						factor = 1.5
						event_target:arm_wrestling_fighter_1 = { trait = brawny }
					}

					mult_modifier = {
						factor = 1.25
						event_target:arm_wrestling_fighter_1 = { trait = sturdy }
					}

					mult_modifier = {
						factor = 1.5
						event_target:arm_wrestling_fighter_1 = { trait = berserker }
					}

					mult_modifier = {
						factor = 0.95
						event_target:arm_wrestling_fighter_1 = { trait = craven }
					}

					mult_modifier = {
						factor = 0.95
						event_target:arm_wrestling_fighter_1 = { trait = weak }
					}

					mult_modifier = {
						factor = 0.95
						event_target:arm_wrestling_fighter_1 = { trait = frail }
					}

					mult_modifier = {
						factor = 0.85
						event_target:arm_wrestling_fighter_1 = { trait = malnourished }
					}

					mult_modifier = {
						factor = 0.75
						event_target:arm_wrestling_fighter_1 = { trait = mangled }
					}

					mult_modifier = {
						factor = 0.95
						event_target:arm_wrestling_fighter_1 = { trait = infirm }
					}

					mult_modifier = {
						factor = 0.25
						event_target:arm_wrestling_fighter_1 = { is_incapable = yes }
					}

					mult_modifier = {
						factor = 0.95
						event_target:arm_wrestling_fighter_1 = { trait = wounded }
					}

					mult_modifier = {
						factor = 1.5
						event_target:arm_wrestling_fighter_1 = { has_character_modifier = tribal_festival_very_good_fortune }
					}

					mult_modifier = {
						factor = 1.25
						event_target:arm_wrestling_fighter_1 = { has_character_modifier = tribal_festival_good_fortune }
					}

					mult_modifier = {
						factor = 0.75
						event_target:arm_wrestling_fighter_1 = { has_character_modifier = tribal_festival_bad_fortune }
					}

					mult_modifier = {
						factor = 1.5
						event_target:arm_wrestling_fighter_1 = { has_character_modifier = enjoying_the_countryside }
					}

					mult_modifier = {
						factor = 1.5
						event_target:arm_wrestling_fighter_1 = { has_character_modifier = tribal_festival_bought_strength_potion }
					}

					mult_modifier = {
						factor = 1.35
						event_target:arm_wrestling_fighter_1 = { has_character_modifier = tribal_festival_bought_strength_charm }
					}

					mult_modifier = {
						factor = 1.15
						event_target:arm_wrestling_fighter_1 = { has_character_modifier = tribal_festival_bought_bravery_amulet }
					}

					# Take into account potential trickery
					mult_modifier = {
						factor = 0.75
						event_target:arm_wrestling_fighter_1 = { has_character_flag = wl_arm_wrestling_being_tricked_1 }
					}

					mult_modifier = {
						factor = 0.5
						event_target:arm_wrestling_fighter_1 = { has_character_flag = wl_arm_wrestling_being_tricked_2 }
					}

					event_target:arm_wrestling_fighter_1 = { save_event_target_as = wl_arm_wrestling_winner }
					event_target:arm_wrestling_fighter_2 = { save_event_target_as = wl_arm_wrestling_loser }
					event_target:wl_arm_wrestling_winner = { character_event = { id = HF.25215 } } # Second round sends event to winner
				}

				50 = {
					mult_modifier = {
						factor = 1.25
						event_target:arm_wrestling_fighter_2 = {
							combat_rating_diff = { who = event_target:arm_wrestling_fighter_1 value >= 5 }
						}
					}

					mult_modifier = {
						factor = 1.25
						event_target:arm_wrestling_fighter_2 = {
							combat_rating_diff = { who = event_target:arm_wrestling_fighter_1 value >= 10 }
						}
					}

					mult_modifier = {
						factor = 1.25
						event_target:arm_wrestling_fighter_2 = {
							combat_rating_diff = { who = event_target:arm_wrestling_fighter_1 value >= 15 }
						}
					}

					mult_modifier = {
						factor = 1.25
						event_target:arm_wrestling_fighter_2 = {
							combat_rating_diff = { who = event_target:arm_wrestling_fighter_1 value >= 20 }
						}
					}

					mult_modifier = {
						factor = 1.25
						event_target:arm_wrestling_fighter_2 = {
							combat_rating_diff = { who = event_target:arm_wrestling_fighter_1 value >= 30 }
						}
					}

					mult_modifier = {
						factor = 1.25
						event_target:arm_wrestling_fighter_2 = {
							combat_rating_diff = { who = event_target:arm_wrestling_fighter_1 value >= 40 }
						}
					}

					mult_modifier = {
						factor = 1.25
						event_target:arm_wrestling_fighter_2 = {
							combat_rating_diff = { who = event_target:arm_wrestling_fighter_1 value >= 50 }
						}
					}

					mult_modifier = {
						factor = 1.5
						event_target:arm_wrestling_fighter_2 = {
							combat_rating_diff = { who = event_target:arm_wrestling_fighter_1 value >= 60 }
						}
					}

					mult_modifier = {
						factor = 1.5
						event_target:arm_wrestling_fighter_2 = {
							combat_rating_diff = { who = event_target:arm_wrestling_fighter_1 value >= 70 }
						}
					}

					mult_modifier = {
						factor = 1.35
						event_target:arm_wrestling_fighter_2 = { trait = duelist }
					}

					mult_modifier = {
						factor = 0.75
						event_target:arm_wrestling_fighter_2 = { trait = lefthanded }
						event_target:arm_wrestling_fighter_1 = { NOT = { trait = lefthanded } }
					}

					mult_modifier = {
						factor = 0.85
						event_target:arm_wrestling_fighter_2 = { practical_age <= 20 }
					}

					mult_modifier = {
						factor = 1.15
						event_target:arm_wrestling_fighter_2 = { practical_age >= 20 practical_age < 40 }
					}

					mult_modifier = {
						factor = 0.85
						event_target:arm_wrestling_fighter_2 = { practical_age >= 40 }
					}

					mult_modifier = {
						factor = 0.85
						event_target:arm_wrestling_fighter_2 = { practical_age >= 50 }
					}

					mult_modifier = {
						factor = 0.75
						event_target:arm_wrestling_fighter_2 = { practical_age >= 60 }
					}

					mult_modifier = {
						factor = 1.25
						event_target:arm_wrestling_fighter_2 = { trait = brave }
					}

					mult_modifier = {
						factor = 1.75
						event_target:arm_wrestling_fighter_2 = { trait = strong }
					}

					mult_modifier = {
						factor = 1.5
						event_target:arm_wrestling_fighter_2 = { trait = brawny }
					}

					mult_modifier = {
						factor = 1.25
						event_target:arm_wrestling_fighter_2 = { trait = sturdy }
					}

					mult_modifier = {
						factor = 1.5
						event_target:arm_wrestling_fighter_2 = { trait = berserker }
					}

					mult_modifier = {
						factor = 0.95
						event_target:arm_wrestling_fighter_2 = { trait = craven }
					}

					mult_modifier = {
						factor = 0.95
						event_target:arm_wrestling_fighter_2 = { trait = weak }
					}

					mult_modifier = {
						factor = 0.95
						event_target:arm_wrestling_fighter_2 = { trait = frail }
					}

					mult_modifier = {
						factor = 0.85
						event_target:arm_wrestling_fighter_2 = { trait = malnourished }
					}

					mult_modifier = {
						factor = 0.75
						event_target:arm_wrestling_fighter_2 = { trait = mangled }
					}

					mult_modifier = {
						factor = 0.95
						event_target:arm_wrestling_fighter_2 = { trait = infirm }
					}

					mult_modifier = {
						factor = 0.25
						event_target:arm_wrestling_fighter_2 = { is_incapable = yes }
					}

					mult_modifier = {
						factor = 0.95
						event_target:arm_wrestling_fighter_2 = { trait = wounded }
					}

					mult_modifier = {
						factor = 1.5
						event_target:arm_wrestling_fighter_2 = { has_character_modifier = tribal_festival_very_good_fortune }
					}

					mult_modifier = {
						factor = 1.25
						event_target:arm_wrestling_fighter_2 = { has_character_modifier = tribal_festival_good_fortune }
					}

					mult_modifier = {
						factor = 0.75
						event_target:arm_wrestling_fighter_2 = { has_character_modifier = tribal_festival_bad_fortune }
					}

					mult_modifier = {
						factor = 1.5
						event_target:arm_wrestling_fighter_2 = { has_character_modifier = enjoying_the_countryside }
					}

					mult_modifier = {
						factor = 1.5
						event_target:arm_wrestling_fighter_2 = { has_character_modifier = tribal_festival_bought_strength_potion }
					}

					mult_modifier = {
						factor = 1.35
						event_target:arm_wrestling_fighter_2 = { has_character_modifier = tribal_festival_bought_strength_charm }
					}

					mult_modifier = {
						factor = 1.15
						event_target:arm_wrestling_fighter_2 = { has_character_modifier = tribal_festival_bought_bravery_amulet }
					}

					# Take into account potential trickery
					mult_modifier = {
						factor = 0.75
						event_target:arm_wrestling_fighter_2 = { has_character_flag = wl_arm_wrestling_being_tricked_1 }
					}

					mult_modifier = {
						factor = 0.5
						event_target:arm_wrestling_fighter_2 = { has_character_flag = wl_arm_wrestling_being_tricked_2 }
					}

					event_target:arm_wrestling_fighter_2 = { save_event_target_as = wl_arm_wrestling_winner }
					event_target:arm_wrestling_fighter_1 = { save_event_target_as = wl_arm_wrestling_loser }
					event_target:wl_arm_wrestling_winner = { character_event = { id = HF.25215 } } # Second round sends event to winner
				}
			}
		}
	}
}

post_arm_wrestling_flavor_effect = {
	hidden_effect = {
		random_list = {
			# Catch attention of another warrior, become friends
			# Catch attention of another warrior, become lovers

			10 = { # Love
				trigger = {
					has_lover = no
					is_adult = yes
					is_incapable = no
					NOT = { trait = celibate }

					society = {
						any_society_member = {
							is_valid_romance_target = ROOT
							is_adult = yes
							has_lover = no
							is_incapable = no

							opinion = {
								who = ROOT
								value >= -20
							}

							NOR = {
								trait = celibate
								character = ROOT
								is_rival = ROOT
								is_friend = ROOT
								is_lover = ROOT
								is_married = ROOT
							}
						}
					}
				}

				mult_modifier = {
					factor = 0.85
					practical_age >= 30
				}

				mult_modifier = {
					factor = 0.85
					practical_age >= 40
				}

				mult_modifier = {
					factor = 0.65
					practical_age >= 50
				}

				mult_modifier = {
					factor = 0.35
					practical_age >= 60
				}

				mult_modifier = {
					factor = 1.5
					trait = attractive
				}

				mult_modifier = {
					factor = 1.5
					is_attractive_trigger = yes
				}

				mult_modifier = {
					factor = 0.5
					is_unattractive_trigger = yes
				}

				society = {
					random_society_member = {
						limit = {
							is_valid_romance_target = ROOT
							is_adult = yes
							has_lover = no
							is_incapable = no

							opinion = {
								who = ROOT
								value >= -20
							}

							NOR = {
								character = ROOT
								is_rival = ROOT
								is_friend = ROOT
								is_lover = ROOT
								is_married = ROOT
							}
						}

						preferred_limit = {
							practical_age < 30
							is_attractive_trigger = yes

							NAND = {
								trait = chaste
								is_married = yes
							}
						}

						preferred_limit = {
							practical_age < 40
							is_attractive_trigger = yes

							NAND = {
								trait = chaste
								is_married = yes
							}
						}

						preferred_limit = {
							is_attractive_trigger = yes

							NAND = {
								trait = chaste
								is_married = yes
							}
						}

						preferred_limit = {
							practical_age < 30
							is_unattractive_trigger = no

							NAND = {
								trait = chaste
								is_married = yes
							}
						}

						preferred_limit = {
							practical_age < 40
							is_unattractive_trigger = no

							NAND = {
								trait = chaste
								is_married = yes
							}
						}

						preferred_limit = {
							is_unattractive_trigger = no

							NAND = {
								trait = chaste
								is_married = yes
							}
						}

						preferred_limit = {
							practical_age < 30
							is_attractive_trigger = yes
						}

						preferred_limit = {
							practical_age < 40
							is_attractive_trigger = yes
						}

						preferred_limit = {
							is_attractive_trigger = yes
						}

						preferred_limit = {
							practical_age < 30
							is_unattractive_trigger = no
						}

						preferred_limit = {
							practical_age < 40
							is_unattractive_trigger = no
						}

						preferred_limit = {
							is_unattractive_trigger = no
						}

						character_event = { id = HF.25218 }
					}
				}
			}

			15 = { # Friendship
				trigger = {
					num_of_friends < 3
					is_adult = yes
					is_incapable = no

					society = {
						any_society_member = {
							is_adult = yes
							num_of_friends < 1
							is_incapable = no

							opinion = {
								who = ROOT
								value >= -20
							}

							NOR = {
								character = ROOT
								is_rival = ROOT
								is_friend = ROOT
								is_lover = ROOT
								is_married = ROOT
							}
						}
					}
				}

				mult_modifier = {
					factor = 0.85
					num_of_friends >= 1
				}

				mult_modifier = {
					factor = 0.75
					num_of_friends >= 2
				}

				mult_modifier = {
					factor = 0.85
					practical_age >= 30
				}

				mult_modifier = {
					factor = 0.85
					practical_age >= 40
				}

				mult_modifier = {
					factor = 0.65
					practical_age >= 50
				}

				mult_modifier = {
					factor = 0.35
					practical_age >= 60
				}

				mult_modifier = {
					factor = 1.5
					trait = gregarious
				}

				mult_modifier = {
					factor = 0.5
					trait = shy
				}

				society = {
					random_society_member = {
						limit = {
							is_adult = yes
							num_of_friends < 1
							is_incapable = no

							opinion = {
								who = ROOT
								value >= -20
							}

							NOR = {
								character = ROOT
								is_rival = ROOT
								is_friend = ROOT
								is_lover = ROOT
								is_married = ROOT
							}
						}

						preferred_limit = {
							practical_age < 30
							trait = gregarious
						}

						preferred_limit = {
							practical_age < 40
							trait = gregarious
						}

						preferred_limit = {
							practical_age < 30
							NOT = { trait = shy }
						}

						preferred_limit = {
							practical_age < 40
							NOT = { trait = shy }
						}

						character_event = { id = HF.25222 }
					}
				}
			}

			50 = { } # Nothing
		}
	}
}

warrior_lodge_flyting_cleanup_effect = {
	hidden_effect = {
		event_target:flyting_potential_opponent_1 = {
			clr_character_flag = flyting_strong
			clr_character_flag = flyting_medium
			clr_character_flag = flyting_weak
			clr_character_flag = do_not_disturb
			clr_character_flag = insulting_prowess
			clr_character_flag = insulting_prowess_relative
			clr_character_flag = insulting_character
			clr_character_flag = insulting_character_poet
			clr_character_flag = insulting_accomplishments
			clr_character_flag = insulting_accomplishments_liege
			clr_character_flag = insulting_family
			clr_character_flag = insulting_family_cruel
			clr_character_flag = flyting_second_round

			set_variable = {
				which = flything_patience
				value = 0
			}
		}

		event_target:flyting_potential_opponent_2 = {
			clr_character_flag = flyting_strong
			clr_character_flag = flyting_medium
			clr_character_flag = flyting_weak
			clr_character_flag = do_not_disturb
			clr_character_flag = insulting_prowess
			clr_character_flag = insulting_prowess_relative
			clr_character_flag = insulting_character
			clr_character_flag = insulting_character_poet
			clr_character_flag = insulting_accomplishments
			clr_character_flag = insulting_accomplishments_liege
			clr_character_flag = insulting_family
			clr_character_flag = insulting_family_cruel
			clr_character_flag = flyting_second_round

			set_variable = {
				which = flything_patience
				value = 0
			}
		}

		event_target:flyting_potential_opponent_3 = {
			clr_character_flag = flyting_strong
			clr_character_flag = flyting_medium
			clr_character_flag = flyting_weak
			clr_character_flag = do_not_disturb
			clr_character_flag = insulting_prowess
			clr_character_flag = insulting_prowess_relative
			clr_character_flag = insulting_character
			clr_character_flag = insulting_character_poet
			clr_character_flag = insulting_accomplishments
			clr_character_flag = insulting_accomplishments_liege
			clr_character_flag = insulting_family
			clr_character_flag = insulting_family_cruel
			clr_character_flag = flyting_second_round

			set_variable = {
				which = flything_patience
				value = 0
			}
		}

		event_target:flyting_contender_1 = {
			clr_character_flag = flyting_strong
			clr_character_flag = flyting_medium
			clr_character_flag = flyting_weak
			clr_character_flag = do_not_disturb
			clr_character_flag = insulting_prowess
			clr_character_flag = insulting_prowess_relative
			clr_character_flag = insulting_character
			clr_character_flag = insulting_character_poet
			clr_character_flag = insulting_accomplishments
			clr_character_flag = insulting_accomplishments_liege
			clr_character_flag = insulting_family
			clr_character_flag = insulting_family_cruel
			clr_character_flag = flyting_second_round

			set_variable = {
				which = flything_patience
				value = 0
			}
		}

		event_target:flyting_contender_2 = {
			clr_character_flag = flyting_strong
			clr_character_flag = flyting_medium
			clr_character_flag = flyting_weak
			clr_character_flag = do_not_disturb
			clr_character_flag = insulting_prowess
			clr_character_flag = insulting_prowess_relative
			clr_character_flag = insulting_character
			clr_character_flag = insulting_character_poet
			clr_character_flag = insulting_accomplishments
			clr_character_flag = insulting_accomplishments_liege
			clr_character_flag = insulting_family
			clr_character_flag = insulting_family_cruel
			clr_character_flag = flyting_second_round

			set_variable = {
				which = flything_patience
				value = 0
			}
		}

		# And ROOT as well, just to be sure
		clr_character_flag = flyting_strong
		clr_character_flag = flyting_medium
		clr_character_flag = flyting_weak
		clr_character_flag = do_not_disturb
		clr_character_flag = insulting_prowess
		clr_character_flag = insulting_prowess_relative
		clr_character_flag = insulting_character
		clr_character_flag = insulting_character_poet
		clr_character_flag = insulting_accomplishments
		clr_character_flag = insulting_accomplishments_liege
		clr_character_flag = insulting_family
		clr_character_flag = insulting_family_cruel
		clr_character_flag = flyting_second_round

		set_variable = {
			which = flything_patience
			value = 0
		}
	}
}

set_flyting_patience_effect = {
	hidden_effect = {
		set_variable = { which = flything_patience value = 10 } # Depending on traits, will be somewhere between 45 and 5

		if = {
			limit = { diplomacy < 5 }
			change_variable = { which = flything_patience value = -6 }
		}
		else_if = {
			limit = { diplomacy < 10 }
			change_variable = { which = flything_patience value = -4 }
		}
		else_if = {
			limit = { diplomacy < 15 }
			change_variable = { which = flything_patience value = -2 }
		}

		if = {
			limit = { trait = patient }
			change_variable = { which = flything_patience value = 10 }
		}
		if = {
			limit = { trait = wroth }
			change_variable = { which = flything_patience value = -5 }
		}
		if = {
			limit = { trait = proud }
			change_variable = { which = flything_patience value = -3 }
		}
		if = {
			limit = { trait = envious }
			change_variable = { which = flything_patience value = -2 }
		}
		if = {
			limit = { trait = naive_appeaser }
			change_variable = { which = flything_patience value = 1 }
		}
		if = {
			limit = { trait = underhanded_rogue }
			change_variable = { which = flything_patience value = 2 }
		}
		if = {
			limit = { trait = charismatic_negotiator }
			change_variable = { which = flything_patience value = 3 }
		}
		if = {
			limit = { trait = grey_eminence }
			change_variable = { which = flything_patience value = 4 }
		}
		if = {
			limit = { trait = drunkard }
			change_variable = { which = flything_patience value = -1 }
		}
		if = {
			limit = { trait = stressed }
			change_variable = { which = flything_patience value = -1 }
		}
		if = {
			limit = { trait = depressed }
			change_variable = { which = flything_patience value = -2 }
		}
		if = {
			limit = { trait = lunatic }
			change_variable = { which = flything_patience value = -2 }
		}
		if = {
			limit = { trait = possessed }
			change_variable = { which = flything_patience value = -2 }
		}
		if = {
			limit = { trait = inbred }
			change_variable = { which = flything_patience value = -2 }
		}
		if = {
			limit = { trait = imbecile }
			change_variable = { which = flything_patience value = -2 }
		}
		if = {
			limit = { trait = slow }
			change_variable = { which = flything_patience value = -1 }
		}
		if = {
			limit = { trait = quick }
			change_variable = { which = flything_patience value = 2 }
		}
		if = {
			limit = { trait = genius }
			change_variable = { which = flything_patience value = 4 }
		}
		if = {
			limit = { trait = dull }
			change_variable = { which = flything_patience value = -1 }
		}
		if = {
			limit = { trait = shrewd }
			change_variable = { which = flything_patience value = 1 }
		}
		if = {
			limit = { trait = game_master }
			change_variable = { which = flything_patience value = 3 }
		}
		if = {
			limit = { trait = socializer }
			change_variable = { which = flything_patience value = 2 }
		}
		if = {
			limit = { trait = poet }
			change_variable = { which = flything_patience value = 1 }
		}
		if = {
			limit = { trait = gregarious }
			change_variable = { which = flything_patience value = 1 }
		}
		if = {
			limit = { trait = shy }
			change_variable = { which = flything_patience value = -1 }
		}
		if = {
			limit = { trait = stubborn }
			change_variable = { which = flything_patience value = -1 }
		}

		PREV = {
			set_variable = { which = flything_patience value = 10 } # Depending on traits, will be somewhere between 45 and 5

			if = {
				limit = { diplomacy < 5 }
				change_variable = { which = flything_patience value = -6 }
			}
			else_if = {
				limit = { diplomacy < 10 }
				change_variable = { which = flything_patience value = -4 }
			}
			else_if = {
				limit = { diplomacy < 15 }
				change_variable = { which = flything_patience value = -2 }
			}

			if = {
				limit = { trait = patient }
				change_variable = { which = flything_patience value = 10 }
			}
			if = {
				limit = { trait = wroth }
				change_variable = { which = flything_patience value = -5 }
			}
			if = {
				limit = { trait = proud }
				change_variable = { which = flything_patience value = -3 }
			}
			if = {
				limit = { trait = envious }
				change_variable = { which = flything_patience value = -2 }
			}
			if = {
				limit = { trait = naive_appeaser }
				change_variable = { which = flything_patience value = 1 }
			}
			if = {
				limit = { trait = underhanded_rogue }
				change_variable = { which = flything_patience value = 2 }
			}
			if = {
				limit = { trait = charismatic_negotiator }
				change_variable = { which = flything_patience value = 3 }
			}
			if = {
				limit = { trait = grey_eminence }
				change_variable = { which = flything_patience value = 4 }
			}
			if = {
				limit = { trait = drunkard }
				change_variable = { which = flything_patience value = -1 }
			}
			if = {
				limit = { trait = stressed }
				change_variable = { which = flything_patience value = -1 }
			}
			if = {
				limit = { trait = depressed }
				change_variable = { which = flything_patience value = -2 }
			}
			if = {
				limit = { trait = lunatic }
				change_variable = { which = flything_patience value = -2 }
			}
			if = {
				limit = { trait = possessed }
				change_variable = { which = flything_patience value = -2 }
			}
			if = {
				limit = { trait = inbred }
				change_variable = { which = flything_patience value = -2 }
			}
			if = {
				limit = { trait = imbecile }
				change_variable = { which = flything_patience value = -2 }
			}
			if = {
				limit = { trait = slow }
				change_variable = { which = flything_patience value = -1 }
			}
			if = {
				limit = { trait = quick }
				change_variable = { which = flything_patience value = 2 }
			}
			if = {
				limit = { trait = genius }
				change_variable = { which = flything_patience value = 4 }
			}
			if = {
				limit = { trait = dull }
				change_variable = { which = flything_patience value = -1 }
			}
			if = {
				limit = { trait = shrewd }
				change_variable = { which = flything_patience value = 1 }
			}
			if = {
				limit = { trait = game_master }
				change_variable = { which = flything_patience value = 3 }
			}
			if = {
				limit = { trait = socializer }
				change_variable = { which = flything_patience value = 2 }
			}
			if = {
				limit = { trait = poet }
				change_variable = { which = flything_patience value = 1 }
			}
			if = {
				limit = { trait = gregarious }
				change_variable = { which = flything_patience value = 1 }
			}
			if = {
				limit = { trait = shy }
				change_variable = { which = flything_patience value = -1 }
			}
			if = {
				limit = { trait = stubborn }
				change_variable = { which = flything_patience value = -1 }
			}
		}
	}
}

warrior_lodge_flyting_winner_selection_effect = { # ROOT and FROM are the contenders
	# Loser gets hidden ping, firing event on winner

	hidden_effect = {
		random_list = {
			50 = { # flyting_contender_1 wins
				mult_modifier = {
					factor = 0.5
					event_target:flyting_contender_1 = { check_variable = { which = flything_patience value < 5 } }
				}

				mult_modifier = {
					factor = 1.25
					event_target:flyting_contender_1 = { check_variable = { which = flything_patience value >= 5 } }
				}

				mult_modifier = {
					factor = 1.25
					event_target:flyting_contender_1 = { check_variable = { which = flything_patience value >= 10 } }
				}

				mult_modifier = {
					factor = 1.25
					event_target:flyting_contender_1 = { check_variable = { which = flything_patience value >= 15 } }
				}

				mult_modifier = {
					factor = 1.25
					event_target:flyting_contender_1 = { check_variable = { which = flything_patience value >= 20 } }
				}

				mult_modifier = {
					factor = 1.25
					event_target:flyting_contender_1 = { check_variable = { which = flything_patience value >= 25 } }
				}

				mult_modifier = {
					factor = 1.25
					event_target:flyting_contender_1 = { check_variable = { which = flything_patience value >= 30 } }
				}

				mult_modifier = {
					factor = 1.25
					event_target:flyting_contender_1 = { check_variable = { which = flything_patience value >= 35 } }
				}

				mult_modifier = {
					factor = 1.25
					event_target:flyting_contender_1 = { check_variable = { which = flything_patience value >= 40 } }
				}

				mult_modifier = {
					factor = 1.25
					event_target:flyting_contender_1 = { check_variable = { which = flything_patience value >= 45 } }
				}

				# Insulting Prowess modifiers
				mult_modifier = {
					factor = 0.5

					event_target:flyting_contender_2 = {
						has_character_flag = insulting_prowess
					}

					event_target:flyting_contender_1 = {
						OR = {
							trait = lustful
							num_of_lovers >= 2
							trait = eunuch
						}

						NOR = {
							trait = celibate
							trait = master_seducer
							trait = master_seductress

							AND = {
								trait = chaste
								is_married = yes
							}
						}
					}
				}

				mult_modifier = {
					factor = 0.25

					event_target:flyting_contender_2 = {
						has_character_flag = insulting_prowess_relative
					}

					event_target:flyting_contender_1 = {
						OR = {
							trait = lustful
							num_of_lovers >= 2
							trait = eunuch
						}

						NOR = {
							trait = celibate
							trait = master_seducer
							trait = master_seductress

							AND = {
								trait = chaste
								is_married = yes
							}
						}
					}
				}

				mult_modifier = {
					factor = 1.15

					event_target:flyting_contender_2 = {
						has_character_flag = insulting_prowess
					}

					event_target:flyting_contender_1 = {
						OR = {
							trait = celibate
							trait = master_seducer
							trait = master_seductress

							AND = {
								trait = chaste
								is_married = yes
							}
						}

						NOR = {
							trait = lustful
							num_of_lovers >= 2
							trait = eunuch
						}
					}
				}

				mult_modifier = {
					factor = 1.05

					event_target:flyting_contender_2 = {
						has_character_flag = insulting_prowess_relative
					}

					event_target:flyting_contender_1 = {
						OR = {
							trait = celibate
							trait = master_seducer
							trait = master_seductress

							AND = {
								trait = chaste
								is_married = yes
							}
						}

						NOR = {
							trait = lustful
							num_of_lovers >= 2
							trait = eunuch
						}
					}
				}

				# Insulting Character modifiers
				mult_modifier = {
					factor = 0.5

					event_target:flyting_contender_2 = {
						has_character_flag = insulting_character
					}

					event_target:flyting_contender_1 = {
						OR = {
							trait = envious
							trait = shy
							trait = trusting
							trait = wroth
							trait = diligent
						}

						NOR = {
							trait = humble
							trait = gregarious
							trait = kind
						}
					}
				}

				mult_modifier = {
					factor = 0.25

					event_target:flyting_contender_2 = {
						has_character_flag = insulting_character_poet
					}

					event_target:flyting_contender_1 = {
						OR = {
							trait = envious
							trait = shy
							trait = trusting
							trait = wroth
							trait = diligent
						}

						NOR = {
							trait = humble
							trait = gregarious
							trait = kind
						}
					}
				}

				mult_modifier = {
					factor = 1.15

					event_target:flyting_contender_2 = {
						has_character_flag = insulting_character
					}

					event_target:flyting_contender_1 = {
						NOR = {
							trait = envious
							trait = shy
							trait = trusting
							trait = wroth
							trait = diligent
						}

						OR = {
							trait = humble
							trait = gregarious
							trait = kind
						}
					}
				}

				mult_modifier = {
					factor = 1.05

					event_target:flyting_contender_2 = {
						has_character_flag = insulting_character_poet
					}

					event_target:flyting_contender_1 = {
						NOR = {
							trait = envious
							trait = shy
							trait = trusting
							trait = wroth
							trait = diligent
						}

						OR = {
							trait = humble
							trait = gregarious
							trait = kind
						}
					}
				}

				# Insulting Accomplishments modifiers
				mult_modifier = {
					factor = 0.5

					event_target:flyting_contender_2 = {
						has_character_flag = insulting_accomplishments
					}

					event_target:flyting_contender_1 = {
						OR = {
							trait = ambitious
							trait = proud
							trait = stubborn
							trait = brave
						}

						NOR = {
							trait = humble
							trait = content
							trait = craven
						}
					}
				}

				mult_modifier = {
					factor = 0.25

					event_target:flyting_contender_2 = {
						has_character_flag = insulting_accomplishments_liege
					}

					event_target:flyting_contender_1 = {
						OR = {
							trait = ambitious
							trait = proud
							trait = stubborn
							trait = brave
						}

						NOR = {
							trait = humble
							trait = content
							trait = craven
						}
					}
				}

				mult_modifier = {
					factor = 1.15

					event_target:flyting_contender_2 = {
						has_character_flag = insulting_accomplishments
					}

					event_target:flyting_contender_1 = {
						NOR = {
							trait = ambitious
							trait = proud
							trait = stubborn
							trait = brave
						}

						OR = {
							trait = humble
							trait = content
							trait = craven
						}
					}
				}

				mult_modifier = {
					factor = 1.05

					event_target:flyting_contender_2 = {
						has_character_flag = insulting_accomplishments_liege
					}

					event_target:flyting_contender_1 = {
						NOR = {
							trait = ambitious
							trait = proud
							trait = stubborn
							trait = brave
						}

						OR = {
							trait = humble
							trait = content
							trait = craven
						}
					}
				}

				# Insulting Family modifiers
				mult_modifier = {
					factor = 0.5

					event_target:flyting_contender_2 = {
						has_character_flag = insulting_family
					}

					event_target:flyting_contender_1 = {
						OR = {
							trait = kind
							has_focus = focus_family
							any_lover = { is_married = PREV }
							any_lover = { is_close_relative = PREV }
							any_friend = { is_married = PREV }
							any_friend = { is_close_relative = PREV }
						}

						NOR = {
							trait = cruel
							trait = impaler
						}
					}
				}

				mult_modifier = {
					factor = 0.25

					event_target:flyting_contender_2 = {
						has_character_flag = insulting_family_cruel
					}

					event_target:flyting_contender_1 = {
						OR = {
							trait = kind
							has_focus = focus_family
							any_lover = { is_married = PREV }
							any_lover = { is_close_relative = PREV }
							any_friend = { is_married = PREV }
							any_friend = { is_close_relative = PREV }
						}

						NOR = {
							trait = cruel
							trait = impaler
						}
					}
				}

				mult_modifier = {
					factor = 1.15

					event_target:flyting_contender_2 = {
						has_character_flag = insulting_family
					}

					event_target:flyting_contender_1 = {
						NOR = {
							trait = kind
							has_focus = focus_family
							any_lover = { is_married = PREV }
							any_lover = { is_close_relative = PREV }
							any_friend = { is_married = PREV }
							any_friend = { is_close_relative = PREV }
						}

						OR = {
							trait = cruel
							trait = impaler
						}
					}
				}

				mult_modifier = {
					factor = 1.05

					event_target:flyting_contender_2 = {
						has_character_flag = insulting_family_cruel
					}

					event_target:flyting_contender_1 = {
						NOR = {
							trait = kind
							has_focus = focus_family
							any_lover = { is_married = PREV }
							any_lover = { is_close_relative = PREV }
							any_friend = { is_married = PREV }
							any_friend = { is_close_relative = PREV }
						}

						OR = {
							trait = cruel
							trait = impaler
						}
					}
				}

				event_target:flyting_contender_1 = { save_event_target_as = flyting_winner }
				event_target:flyting_contender_2 = { character_event = { id = HF.25262 } } # Loser ping
			}

			50 = { # flyting_contender_2 wins
				mult_modifier = {
					factor = 0.5
					event_target:flyting_contender_1 = { check_variable = { which = flything_patience value < 5 } }
				}

				mult_modifier = {
					factor = 1.25
					event_target:flyting_contender_1 = { check_variable = { which = flything_patience value >= 5 } }
				}

				mult_modifier = {
					factor = 1.25
					event_target:flyting_contender_1 = { check_variable = { which = flything_patience value >= 10 } }
				}

				mult_modifier = {
					factor = 1.25
					event_target:flyting_contender_1 = { check_variable = { which = flything_patience value >= 15 } }
				}

				mult_modifier = {
					factor = 1.25
					event_target:flyting_contender_1 = { check_variable = { which = flything_patience value >= 20 } }
				}

				mult_modifier = {
					factor = 1.25
					event_target:flyting_contender_1 = { check_variable = { which = flything_patience value >= 25 } }
				}

				mult_modifier = {
					factor = 1.25
					event_target:flyting_contender_1 = { check_variable = { which = flything_patience value >= 30 } }
				}

				mult_modifier = {
					factor = 1.25
					event_target:flyting_contender_1 = { check_variable = { which = flything_patience value >= 35 } }
				}

				mult_modifier = {
					factor = 1.25
					event_target:flyting_contender_1 = { check_variable = { which = flything_patience value >= 40 } }
				}

				mult_modifier = {
					factor = 1.25
					event_target:flyting_contender_1 = { check_variable = { which = flything_patience value >= 45 } }
				}

				# Insulting Prowess modifiers
				mult_modifier = {
					factor = 0.5

					event_target:flyting_contender_1 = {
						has_character_flag = insulting_prowess
					}

					event_target:flyting_contender_2 = {
						OR = {
							trait = lustful
							num_of_lovers >= 2
						}

						NOR = {
							trait = celibate
							trait = master_seducer
							trait = master_seductress

							AND = {
								trait = chaste
								is_married = yes
							}
						}
					}
				}

				mult_modifier = {
					factor = 0.25

					event_target:flyting_contender_1 = {
						has_character_flag = insulting_prowess_relative
					}

					event_target:flyting_contender_2 = {
						OR = {
							trait = lustful
							num_of_lovers >= 2
						}

						NOR = {
							trait = celibate
							trait = master_seducer
							trait = master_seductress

							AND = {
								trait = chaste
								is_married = yes
							}
						}
					}
				}

				mult_modifier = {
					factor = 1.15

					event_target:flyting_contender_1 = {
						has_character_flag = insulting_prowess
					}

					event_target:flyting_contender_2 = {
						OR = {
							trait = celibate
							trait = master_seducer
							trait = master_seductress

							AND = {
								trait = chaste
								is_married = yes
							}
						}
					}
				}

				mult_modifier = {
					factor = 1.05

					event_target:flyting_contender_1 = {
						has_character_flag = insulting_prowess_relative
					}

					event_target:flyting_contender_2 = {
						OR = {
							trait = celibate
							trait = master_seducer
							trait = master_seductress

							AND = {
								trait = chaste
								is_married = yes
							}
						}
					}
				}

				# Insulting Character modifiers
				mult_modifier = {
					factor = 0.5

					event_target:flyting_contender_1 = {
						has_character_flag = insulting_character
					}

					event_target:flyting_contender_2 = {
						OR = {
							trait = envious
							trait = shy
							trait = trusting
							trait = wroth
							trait = diligent
						}

						NOR = {
							trait = humble
							trait = gregarious
							trait = kind
						}
					}
				}

				mult_modifier = {
					factor = 0.25

					event_target:flyting_contender_1 = {
						has_character_flag = insulting_character_poet
					}

					event_target:flyting_contender_2 = {
						OR = {
							trait = envious
							trait = shy
							trait = trusting
							trait = wroth
							trait = diligent
						}

						NOR = {
							trait = humble
							trait = gregarious
							trait = kind
						}
					}
				}

				mult_modifier = {
					factor = 1.15

					event_target:flyting_contender_1 = {
						has_character_flag = insulting_character
					}

					event_target:flyting_contender_2 = {
						NOR = {
							trait = envious
							trait = shy
							trait = trusting
							trait = wroth
							trait = diligent
						}

						OR = {
							trait = humble
							trait = gregarious
							trait = kind
						}
					}
				}

				mult_modifier = {
					factor = 1.05

					event_target:flyting_contender_1 = {
						has_character_flag = insulting_character_poet
					}

					event_target:flyting_contender_2 = {
						NOR = {
							trait = envious
							trait = shy
							trait = trusting
							trait = wroth
							trait = diligent
						}

						OR = {
							trait = humble
							trait = gregarious
							trait = kind
						}
					}
				}

				# Insulting Accomplishments modifiers
				mult_modifier = {
					factor = 0.5

					event_target:flyting_contender_1 = {
						has_character_flag = insulting_accomplishments
					}

					event_target:flyting_contender_2 = {
						OR = {
							trait = ambitious
							trait = proud
							trait = stubborn
							trait = brave
						}

						NOR = {
							trait = humble
							trait = content
							trait = craven
						}
					}
				}

				mult_modifier = {
					factor = 0.25

					event_target:flyting_contender_1 = {
						has_character_flag = insulting_accomplishments_liege
					}

					event_target:flyting_contender_2 = {
						OR = {
							trait = ambitious
							trait = proud
							trait = stubborn
							trait = brave
						}

						NOR = {
							trait = humble
							trait = content
							trait = craven
						}
					}
				}

				mult_modifier = {
					factor = 1.15

					event_target:flyting_contender_1 = {
						has_character_flag = insulting_accomplishments
					}

					event_target:flyting_contender_2 = {
						NOR = {
							trait = ambitious
							trait = proud
							trait = stubborn
							trait = brave
						}

						OR = {
							trait = humble
							trait = content
							trait = craven
						}
					}
				}

				mult_modifier = {
					factor = 1.05

					event_target:flyting_contender_1 = {
						has_character_flag = insulting_accomplishments_liege
					}

					event_target:flyting_contender_2 = {
						NOR = {
							trait = ambitious
							trait = proud
							trait = stubborn
							trait = brave
						}

						OR = {
							trait = humble
							trait = content
							trait = craven
						}
					}
				}

				# Insulting Family modifiers
				mult_modifier = {
					factor = 0.5

					event_target:flyting_contender_1 = {
						has_character_flag = insulting_family
					}

					event_target:flyting_contender_2 = {
						OR = {
							trait = kind
							has_focus = focus_family
							any_lover = { is_married = PREV }
							any_lover = { is_close_relative = PREV }
							any_friend = { is_married = PREV }
							any_friend = { is_close_relative = PREV }
						}

						NOR = {
							trait = cruel
							trait = impaler
						}
					}
				}

				mult_modifier = {
					factor = 0.25

					event_target:flyting_contender_1 = {
						has_character_flag = insulting_family_cruel
					}

					event_target:flyting_contender_2 = {
						OR = {
							trait = kind
							has_focus = focus_family
							any_lover = { is_married = PREV }
							any_lover = { is_close_relative = PREV }
							any_friend = { is_married = PREV }
							any_friend = { is_close_relative = PREV }
						}

						NOR = {
							trait = cruel
							trait = impaler
						}
					}
				}

				mult_modifier = {
					factor = 1.15

					event_target:flyting_contender_1 = {
						has_character_flag = insulting_family
					}

					event_target:flyting_contender_2 = {
						NOR = {
							trait = kind
							has_focus = focus_family
							any_lover = { is_married = PREV }
							any_lover = { is_close_relative = PREV }
							any_friend = { is_married = PREV }
							any_friend = { is_close_relative = PREV }
						}

						OR = {
							trait = cruel
							trait = impaler
						}
					}
				}

				mult_modifier = {
					factor = 1.05

					event_target:flyting_contender_1 = {
						has_character_flag = insulting_family_cruel
					}

					event_target:flyting_contender_2 = {
						NOR = {
							trait = kind
							has_focus = focus_family
							any_lover = { is_married = PREV }
							any_lover = { is_close_relative = PREV }
							any_friend = { is_married = PREV }
							any_friend = { is_close_relative = PREV }
						}

						OR = {
							trait = cruel
							trait = impaler
						}
					}
				}

				event_target:flyting_contender_2 = { save_event_target_as = flyting_winner }
				event_target:flyting_contender_1 = { character_event = { id = HF.25262 } } # Loser ping
			}
		}
	}
}

warrior_lodge_drinking_game_cleanup_effect = {
	clr_character_flag = do_not_disturb
	clr_character_flag = flag_WL_drinking_game_contender
	clr_character_flag = flag_intrigue_cheating_WL_drinking_game
	clr_character_flag = flag_strong_boost_WL_drinking_game
	clr_character_flag = flag_WL_drinking_host_approves_of_cheating
}

pick_potential_WL_drinking_finalists_effect = {
	society = {
		random_society_member = { # First
			limit = { has_character_flag = flag_WL_drinking_game_contender }

			preferred_limit = {
				ai = no
				is_weak_trigger = no
				practical_age >= 20
				practical_age < 50
				is_ill = no
			}

			preferred_limit = {
				trait = hedonist
				trait = drunkard
				trait = diligent
				trait = ambitious
				is_strong_trigger = yes
				practical_age >= 20
				practical_age < 50
				is_female = no
				is_ill = no
			}

			preferred_limit = {
				trait = drunkard
				trait = diligent
				trait = ambitious
				is_strong_trigger = yes
				practical_age >= 20
				practical_age < 50
				is_female = no
				is_ill = no
			}

			preferred_limit = {
				trait = drunkard
				trait = diligent
				trait = ambitious
				is_strong_trigger = yes
				practical_age >= 20
				practical_age < 50
				is_ill = no
			}

			preferred_limit = {
				trait = drunkard
				trait = diligent
				trait = ambitious
				is_strong_trigger = yes
				practical_age >= 20
				practical_age < 50
			}

			preferred_limit = {
				trait = drunkard
				trait = diligent
				is_strong_trigger = yes
				practical_age >= 20
				practical_age < 50
			}

			preferred_limit = {
				is_strong_trigger = yes
				practical_age >= 20
				practical_age < 50
				NOT = { trait = slothful }
			}

			preferred_limit = {
				trait = drunkard
				practical_age >= 20
				practical_age < 50
				NOT = { trait = slothful }
			}

			preferred_limit = {
				trait = drunkard
				is_weak_trigger = no
				NOT = { trait = slothful }
			}

			preferred_limit = {
				is_weak_trigger = no
				NOT = { trait = slothful }
			}

			preferred_limit = {
				trait = drunkard
				is_weak_trigger = no
				is_ill = no
			}

			preferred_limit = {
				is_weak_trigger = no
				is_ill = no
			}

			preferred_limit = {
				trait = drunkard
				is_weak_trigger = no
			}

			preferred_limit = {
				is_weak_trigger = no
			}

			preferred_limit = {
				trait = drunkard
			}

			save_event_target_as = warrior_lodge_drinking_finalist_1
		}

		random_society_member = { # Second
			limit = {
				has_character_flag = flag_WL_drinking_game_contender
				NOT = { character = event_target:warrior_lodge_drinking_finalist_1 }
			}

			preferred_limit = {
				ai = no
				is_weak_trigger = no
				practical_age >= 20
				practical_age < 50
				is_ill = no
			}

			preferred_limit = {
				trait = hedonist
				trait = drunkard
				trait = diligent
				trait = ambitious
				is_strong_trigger = yes
				practical_age >= 20
				practical_age < 50
				is_female = no
				is_ill = no
			}

			preferred_limit = {
				trait = drunkard
				trait = diligent
				trait = ambitious
				is_strong_trigger = yes
				practical_age >= 20
				practical_age < 50
				is_female = no
				is_ill = no
			}

			preferred_limit = {
				trait = drunkard
				trait = diligent
				trait = ambitious
				is_strong_trigger = yes
				practical_age >= 20
				practical_age < 50
				is_ill = no
			}

			preferred_limit = {
				trait = drunkard
				trait = diligent
				trait = ambitious
				is_strong_trigger = yes
				practical_age >= 20
				practical_age < 50
			}

			preferred_limit = {
				trait = drunkard
				trait = diligent
				is_strong_trigger = yes
				practical_age >= 20
				practical_age < 50
			}

			preferred_limit = {
				is_strong_trigger = yes
				practical_age >= 20
				practical_age < 50
				NOT = { trait = slothful }
			}

			preferred_limit = {
				trait = drunkard
				practical_age >= 20
				practical_age < 50
				NOT = { trait = slothful }
			}

			preferred_limit = {
				trait = drunkard
				is_weak_trigger = no
				NOT = { trait = slothful }
			}

			preferred_limit = {
				is_weak_trigger = no
				NOT = { trait = slothful }
			}

			preferred_limit = {
				trait = drunkard
				is_weak_trigger = no
				is_ill = no
			}

			preferred_limit = {
				is_weak_trigger = no
				is_ill = no
			}

			preferred_limit = {
				trait = drunkard
				is_weak_trigger = no
			}

			preferred_limit = {
				is_weak_trigger = no
			}

			preferred_limit = {
				trait = drunkard
			}

			save_event_target_as = warrior_lodge_drinking_finalist_2
		}
	}

	if = {
		limit = {
			event_target:warrior_lodge_drinking_finalist_1 = { always = yes }
			event_target:warrior_lodge_drinking_finalist_2 = { always = yes }
		}

		random_list = { # See who is faring worse
			25 = {
				mult_modifier = {
					factor = 1.5
					event_target:warrior_lodge_drinking_finalist_1 = { trait = hedonist }
				}

				mult_modifier = {
					factor = 1.5
					event_target:warrior_lodge_drinking_finalist_1 = { trait = drunkard }
				}

				mult_modifier = {
					factor = 1.5
					event_target:warrior_lodge_drinking_finalist_1 = { trait = diligent }
				}

				mult_modifier = {
					factor = 1.25
					event_target:warrior_lodge_drinking_finalist_1 = { trait = brawny }
				}

				mult_modifier = {
					factor = 1.25
					event_target:warrior_lodge_drinking_finalist_1 = { trait = sturdy }
				}

				mult_modifier = {
					factor = 1.25
					event_target:warrior_lodge_drinking_finalist_1 = { trait = ambitious }
				}

				mult_modifier = {
					factor = 1.5
					event_target:warrior_lodge_drinking_finalist_1 = { is_strong_trigger = yes }
				}

				mult_modifier = {
					factor = 1.05
					event_target:warrior_lodge_drinking_finalist_1 = { trait = pirate }
				}

				mult_modifier = {
					factor = 1.05
					event_target:warrior_lodge_drinking_finalist_1 = { trait = viking }
				}

				mult_modifier = {
					factor = 1.15
					event_target:warrior_lodge_drinking_finalist_1 = { trait = ravager }
				}

				mult_modifier = {
					factor = 1.25
					event_target:warrior_lodge_drinking_finalist_1 = { trait = sea_king }
				}

				mult_modifier = {
					factor = 1.25
					event_target:warrior_lodge_drinking_finalist_1 = { trait = sea_queen }
				}

				mult_modifier = {
					factor = 0.75
					event_target:warrior_lodge_drinking_finalist_1 = { trait = frail }
				}

				mult_modifier = {
					factor = 0.75
					event_target:warrior_lodge_drinking_finalist_1 = { is_weak_trigger = yes }
				}

				mult_modifier = {
					factor = 0.75
					event_target:warrior_lodge_drinking_finalist_1 = { trait = malnourished }
				}

				mult_modifier = {
					factor = 0.85
					event_target:warrior_lodge_drinking_finalist_1 = { trait = slothful }
				}

				mult_modifier = {
					factor = 0.85
					event_target:warrior_lodge_drinking_finalist_1 = { trait = content }
				}

				mult_modifier = {
					factor = 0.75
					event_target:warrior_lodge_drinking_finalist_1 = { trait = temperate }
				}

				mult_modifier = {
					factor = 1.35
					event_target:warrior_lodge_drinking_finalist_1 = { is_female = no }
				}

				mult_modifier = {
					factor = 1.5
					event_target:warrior_lodge_drinking_finalist_1 = {
						practical_age >= 20
						practical_age < 50
					}
				}

				mult_modifier = {
					factor = 1.5
					event_target:warrior_lodge_drinking_finalist_1 = { has_character_modifier = tribal_festival_very_good_fortune }
				}

				mult_modifier = {
					factor = 1.25
					event_target:warrior_lodge_drinking_finalist_1 = { has_character_modifier = tribal_festival_good_fortune }
				}

				mult_modifier = {
					factor = 0.75
					event_target:warrior_lodge_drinking_finalist_1 = { has_character_modifier = tribal_festival_bad_fortune }
				}

				mult_modifier = {
					factor = 1.5
					event_target:warrior_lodge_drinking_finalist_1 = { has_character_modifier = enjoying_the_countryside }
				}

				mult_modifier = {
					factor = 1.5
					event_target:warrior_lodge_drinking_finalist_1 = { has_character_modifier = tribal_festival_bought_strength_potion }
				}

				mult_modifier = {
					factor = 1.35
					event_target:warrior_lodge_drinking_finalist_1 = { has_character_modifier = tribal_festival_bought_strength_charm }
				}

				mult_modifier = {
					factor = 1.15
					event_target:warrior_lodge_drinking_finalist_1 = { has_character_modifier = tribal_festival_bought_bravery_amulet }
				}

				event_target:warrior_lodge_drinking_finalist_2 = {
					character_event = { id = HF.25288 } # Send event to the guy about to lose
				}
			}

			25 = {
				mult_modifier = {
					factor = 1.5
					event_target:warrior_lodge_drinking_finalist_2 = { trait = hedonist }
				}

				mult_modifier = {
					factor = 1.5
					event_target:warrior_lodge_drinking_finalist_2 = { trait = drunkard }
				}

				mult_modifier = {
					factor = 1.5
					event_target:warrior_lodge_drinking_finalist_2 = { trait = diligent }
				}

				mult_modifier = {
					factor = 1.25
					event_target:warrior_lodge_drinking_finalist_2 = { trait = brawny }
				}

				mult_modifier = {
					factor = 1.25
					event_target:warrior_lodge_drinking_finalist_2 = { trait = sturdy }
				}

				mult_modifier = {
					factor = 1.25
					event_target:warrior_lodge_drinking_finalist_2 = { trait = ambitious }
				}

				mult_modifier = {
					factor = 1.5
					event_target:warrior_lodge_drinking_finalist_2 = { is_strong_trigger = yes }
				}

				mult_modifier = {
					factor = 1.05
					event_target:warrior_lodge_drinking_finalist_2 = { trait = pirate }
				}

				mult_modifier = {
					factor = 1.05
					event_target:warrior_lodge_drinking_finalist_2 = { trait = viking }
				}

				mult_modifier = {
					factor = 1.15
					event_target:warrior_lodge_drinking_finalist_2 = { trait = ravager }
				}

				mult_modifier = {
					factor = 1.25
					event_target:warrior_lodge_drinking_finalist_2 = { trait = sea_king }
				}

				mult_modifier = {
					factor = 1.25
					event_target:warrior_lodge_drinking_finalist_2 = { trait = sea_queen }
				}

				mult_modifier = {
					factor = 0.75
					event_target:warrior_lodge_drinking_finalist_2 = { trait = frail }
				}

				mult_modifier = {
					factor = 0.75
					event_target:warrior_lodge_drinking_finalist_2 = { is_weak_trigger = yes }
				}

				mult_modifier = {
					factor = 0.75
					event_target:warrior_lodge_drinking_finalist_2 = { trait = malnourished }
				}

				mult_modifier = {
					factor = 0.85
					event_target:warrior_lodge_drinking_finalist_2 = { trait = slothful }
				}

				mult_modifier = {
					factor = 0.85
					event_target:warrior_lodge_drinking_finalist_2 = { trait = content }
				}

				mult_modifier = {
					factor = 0.75
					event_target:warrior_lodge_drinking_finalist_2 = { trait = temperate }
				}

				mult_modifier = {
					factor = 1.35
					event_target:warrior_lodge_drinking_finalist_2 = { is_female = no }
				}

				mult_modifier = {
					factor = 1.5
					event_target:warrior_lodge_drinking_finalist_2 = {
						practical_age >= 20
						practical_age < 50
					}
				}

				mult_modifier = {
					factor = 1.5
					event_target:warrior_lodge_drinking_finalist_2 = { has_character_modifier = tribal_festival_very_good_fortune }
				}

				mult_modifier = {
					factor = 1.25
					event_target:warrior_lodge_drinking_finalist_2 = { has_character_modifier = tribal_festival_good_fortune }
				}

				mult_modifier = {
					factor = 0.75
					event_target:warrior_lodge_drinking_finalist_2 = { has_character_modifier = tribal_festival_bad_fortune }
				}

				mult_modifier = {
					factor = 1.5
					event_target:warrior_lodge_drinking_finalist_2 = { has_character_modifier = enjoying_the_countryside }
				}

				mult_modifier = {
					factor = 1.5
					event_target:warrior_lodge_drinking_finalist_2 = { has_character_modifier = tribal_festival_bought_strength_potion }
				}

				mult_modifier = {
					factor = 1.35
					event_target:warrior_lodge_drinking_finalist_2 = { has_character_modifier = tribal_festival_bought_strength_charm }
				}

				mult_modifier = {
					factor = 1.15
					event_target:warrior_lodge_drinking_finalist_2 = { has_character_modifier = tribal_festival_bought_bravery_amulet }
				}

				event_target:warrior_lodge_drinking_finalist_1 = {
					character_event = { id = HF.25288 }
				}
			}
		}
	}
	else = { # Fallback, if no potential winner exists in the first place
		event_target:WL_host_drinking_game = {
			character_event = { id = HF.25286 } # Inform host that nobody won
		}
	}
}

pick_potential_WL_drinking_winner_effect = {
	hidden_effect = {
		if = {
			limit = {
				event_target:warrior_lodge_drinking_finalist_1 = { is_alive = yes }
				event_target:warrior_lodge_drinking_finalist_2 = { is_alive = yes }
			}

			random_list = { # See who is faring better now
				25 = {
					mult_modifier = {
						factor = 1.5
						event_target:warrior_lodge_drinking_finalist_1 = { trait = hedonist }
					}

					mult_modifier = {
						factor = 1.5
						event_target:warrior_lodge_drinking_finalist_1 = { trait = drunkard }
					}

					mult_modifier = {
						factor = 1.5
						event_target:warrior_lodge_drinking_finalist_1 = { trait = diligent }
					}

					mult_modifier = {
						factor = 1.25
						event_target:warrior_lodge_drinking_finalist_1 = { trait = brawny }
					}

					mult_modifier = {
						factor = 1.25
						event_target:warrior_lodge_drinking_finalist_1 = { trait = sturdy }
					}

					mult_modifier = {
						factor = 1.25
						event_target:warrior_lodge_drinking_finalist_1 = { trait = ambitious }
					}

					mult_modifier = {
						factor = 1.5
						event_target:warrior_lodge_drinking_finalist_1 = { is_strong_trigger = yes }
					}

					mult_modifier = {
						factor = 1.05
						event_target:warrior_lodge_drinking_finalist_1 = { trait = pirate }
					}

					mult_modifier = {
						factor = 1.05
						event_target:warrior_lodge_drinking_finalist_1 = { trait = viking }
					}

					mult_modifier = {
						factor = 1.15
						event_target:warrior_lodge_drinking_finalist_1 = { trait = ravager }
					}

					mult_modifier = {
						factor = 1.25
						event_target:warrior_lodge_drinking_finalist_1 = { trait = sea_king }
					}

					mult_modifier = {
						factor = 1.25
						event_target:warrior_lodge_drinking_finalist_1 = { trait = sea_queen }
					}

					mult_modifier = {
						factor = 0.75
						event_target:warrior_lodge_drinking_finalist_1 = { trait = frail }
					}

					mult_modifier = {
						factor = 0.75
						event_target:warrior_lodge_drinking_finalist_1 = { is_weak_trigger = yes }
					}

					mult_modifier = {
						factor = 0.75
						event_target:warrior_lodge_drinking_finalist_1 = { trait = malnourished }
					}

					mult_modifier = {
						factor = 0.85
						event_target:warrior_lodge_drinking_finalist_1 = { trait = slothful }
					}

					mult_modifier = {
						factor = 0.85
						event_target:warrior_lodge_drinking_finalist_1 = { trait = content }
					}

					mult_modifier = {
						factor = 0.75
						event_target:warrior_lodge_drinking_finalist_1 = { trait = temperate }
					}

					mult_modifier = {
						factor = 1.35
						event_target:warrior_lodge_drinking_finalist_1 = { is_female = no }
					}

					mult_modifier = {
						factor = 1.5
						event_target:warrior_lodge_drinking_finalist_1 = {
							practical_age >= 20
							practical_age < 50
						}
					}

					mult_modifier = {
						factor = 1.5
						event_target:warrior_lodge_drinking_finalist_1 = { has_character_modifier = tribal_festival_very_good_fortune }
					}

					mult_modifier = {
						factor = 1.25
						event_target:warrior_lodge_drinking_finalist_1 = { has_character_modifier = tribal_festival_good_fortune }
					}

					mult_modifier = {
						factor = 0.75
						event_target:warrior_lodge_drinking_finalist_1 = { has_character_modifier = tribal_festival_bad_fortune }
					}

					mult_modifier = {
						factor = 1.5
						event_target:warrior_lodge_drinking_finalist_1 = { has_character_modifier = enjoying_the_countryside }
					}

					mult_modifier = {
						factor = 1.5
						event_target:warrior_lodge_drinking_finalist_1 = { has_character_modifier = tribal_festival_bought_strength_potion }
					}

					mult_modifier = {
						factor = 1.35
						event_target:warrior_lodge_drinking_finalist_1 = { has_character_modifier = tribal_festival_bought_strength_charm }
					}

					mult_modifier = {
						factor = 1.15
						event_target:warrior_lodge_drinking_finalist_1 = { has_character_modifier = tribal_festival_bought_bravery_amulet }
					}

					mult_modifier = {
						factor = 1.5
						event_target:warrior_lodge_drinking_finalist_1 = { has_character_flag = flag_intrigue_cheating_WL_drinking_game }
					}

					mult_modifier = {
						factor = 1.25
						event_target:warrior_lodge_drinking_finalist_1 = { has_character_flag = flag_strong_boost_WL_drinking_game }
					}

					event_target:warrior_lodge_drinking_finalist_1 = { save_event_target_as = WL_drinking_contest_winner } # Loc purposes
					event_target:WL_drinking_contest_winner = { character_event = { id = HF.25292 } } # Winner
				}

				25 = {
					mult_modifier = {
						factor = 1.5
						event_target:warrior_lodge_drinking_finalist_2 = { trait = hedonist }
					}

					mult_modifier = {
						factor = 1.5
						event_target:warrior_lodge_drinking_finalist_2 = { trait = drunkard }
					}

					mult_modifier = {
						factor = 1.5
						event_target:warrior_lodge_drinking_finalist_2 = { trait = diligent }
					}

					mult_modifier = {
						factor = 1.25
						event_target:warrior_lodge_drinking_finalist_2 = { trait = brawny }
					}

					mult_modifier = {
						factor = 1.25
						event_target:warrior_lodge_drinking_finalist_2 = { trait = sturdy }
					}

					mult_modifier = {
						factor = 1.25
						event_target:warrior_lodge_drinking_finalist_2 = { trait = ambitious }
					}

					mult_modifier = {
						factor = 1.5
						event_target:warrior_lodge_drinking_finalist_2 = { is_strong_trigger = yes }
					}

					mult_modifier = {
						factor = 1.05
						event_target:warrior_lodge_drinking_finalist_2 = { trait = pirate }
					}

					mult_modifier = {
						factor = 1.05
						event_target:warrior_lodge_drinking_finalist_2 = { trait = viking }
					}

					mult_modifier = {
						factor = 1.15
						event_target:warrior_lodge_drinking_finalist_2 = { trait = ravager }
					}

					mult_modifier = {
						factor = 1.25
						event_target:warrior_lodge_drinking_finalist_2 = { trait = sea_king }
					}

					mult_modifier = {
						factor = 1.25
						event_target:warrior_lodge_drinking_finalist_2 = { trait = sea_queen }
					}

					mult_modifier = {
						factor = 0.75
						event_target:warrior_lodge_drinking_finalist_2 = { trait = frail }
					}

					mult_modifier = {
						factor = 0.75
						event_target:warrior_lodge_drinking_finalist_2 = { is_weak_trigger = yes }
					}

					mult_modifier = {
						factor = 0.75
						event_target:warrior_lodge_drinking_finalist_2 = { trait = malnourished }
					}

					mult_modifier = {
						factor = 0.85
						event_target:warrior_lodge_drinking_finalist_2 = { trait = slothful }
					}

					mult_modifier = {
						factor = 0.85
						event_target:warrior_lodge_drinking_finalist_2 = { trait = content }
					}

					mult_modifier = {
						factor = 0.75
						event_target:warrior_lodge_drinking_finalist_2 = { trait = temperate }
					}

					mult_modifier = {
						factor = 1.35
						event_target:warrior_lodge_drinking_finalist_2 = { is_female = no }
					}

					mult_modifier = {
						factor = 1.5
						event_target:warrior_lodge_drinking_finalist_2 = {
							practical_age >= 20
							practical_age < 50
						}
					}

					mult_modifier = {
						factor = 1.5
						event_target:warrior_lodge_drinking_finalist_2 = { has_character_modifier = tribal_festival_very_good_fortune }
					}

					mult_modifier = {
						factor = 1.25
						event_target:warrior_lodge_drinking_finalist_2 = { has_character_modifier = tribal_festival_good_fortune }
					}

					mult_modifier = {
						factor = 0.75
						event_target:warrior_lodge_drinking_finalist_2 = { has_character_modifier = tribal_festival_bad_fortune }
					}

					mult_modifier = {
						factor = 1.5
						event_target:warrior_lodge_drinking_finalist_2 = { has_character_modifier = enjoying_the_countryside }
					}

					mult_modifier = {
						factor = 1.5
						event_target:warrior_lodge_drinking_finalist_2 = { has_character_modifier = tribal_festival_bought_strength_potion }
					}

					mult_modifier = {
						factor = 1.35
						event_target:warrior_lodge_drinking_finalist_2 = { has_character_modifier = tribal_festival_bought_strength_charm }
					}

					mult_modifier = {
						factor = 1.15
						event_target:warrior_lodge_drinking_finalist_2 = { has_character_modifier = tribal_festival_bought_bravery_amulet }
					}

					mult_modifier = {
						factor = 1.5
						event_target:warrior_lodge_drinking_finalist_2 = { has_character_flag = flag_intrigue_cheating_WL_drinking_game }
					}

					mult_modifier = {
						factor = 1.25
						event_target:warrior_lodge_drinking_finalist_2 = { has_character_flag = flag_strong_boost_WL_drinking_game }
					}

					event_target:warrior_lodge_drinking_finalist_2 = { save_event_target_as = WL_drinking_contest_winner } # Loc purposes
					event_target:WL_drinking_contest_winner = { character_event = { id = HF.25292 } } # Winner
				}

				25 = { # Hero can spot the cheater
					trigger = {
						event_target:WL_host_drinking_game = {
							is_alive = yes
							NOT = { has_character_flag = flag_WL_drinking_host_approves_of_cheating }
						}

						ROOT = { # The underdog
							has_character_flag = flag_intrigue_cheating_WL_drinking_game
						}
					}

					mult_modifier = {
						factor = 0.85
						intrigue >= 12
					}

					mult_modifier = {
						factor = 0.85
						intrigue >= 14
					}

					mult_modifier = {
						factor = 0.85
						intrigue >= 16
					}

					mult_modifier = {
						factor = 0.75
						intrigue >= 18
					}

					mult_modifier = {
						factor = 0.75
						intrigue >= 20
					}

					mult_modifier = {
						factor = 1.25
						event_target:WL_host_drinking_game = { intrigue >= 10 }
					}

					mult_modifier = {
						factor = 1.25
						event_target:WL_host_drinking_game = { intrigue >= 12 }
					}

					mult_modifier = {
						factor = 1.25
						event_target:WL_host_drinking_game = { intrigue >= 14 }
					}

					mult_modifier = {
						factor = 1.25
						event_target:WL_host_drinking_game = { intrigue >= 16 }
					}

					mult_modifier = {
						factor = 1.25
						event_target:WL_host_drinking_game = { intrigue >= 18 }
					}

					mult_modifier = {
						factor = 1.25
						event_target:WL_host_drinking_game = { intrigue >= 20 }
					}

					event_target:WL_host_drinking_game = {
						character_event = { id = HF.25289 }
					} # Inform host
				}
			}
		}
		else = { # Fallback, if no potential winner exists in the first place
			event_target:WL_host_drinking_game = { character_event = { id = HF.25286 } } # Inform host that nobody won
		}
	}
}