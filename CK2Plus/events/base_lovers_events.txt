################################################
#
# Events for Lovers
#
# ID 64000 - 64499 are reserved
#
##################################################
#
# Designed by Johan Andersson
# Written by Sara Wendel-Örtqvist

# Confront cheating spouse/spouse's lover
character_event = {
	id = 64000
	desc = EVTDESC64000
	picture = GFX_evt_quarrel

	is_triggered_only = yes

	only_capable = yes
	prisoner = no
	lacks_dlc = "Way of Life"

	trigger = {
		NOT = { religion_group = muslim }

		spouse = {
			has_lover = yes
			NOT = { religion_group = muslim }
			in_command_trigger = no
			war = no
			is_abroad = no
			is_alive = yes
			prisoner = no
			NOT = { is_lover = ROOT }
		}
	}

	weight_multiplier = {
		days = 1

		mult_modifier = {
			factor = 2
			trait = envious
		}
	}

	immediate = {
		spouse = {
			random_lover = {
				save_event_target_as = target_lover
			}
		}
	}

	option = {
		name = EVTOPTA64000

		spouse = {
			show_scope_change = no

			character_event = {
				id = 64001
				tooltip = EVTTOOLTIP64001
			}
		}
	}

	option = {
		name = EVTOPTB64000

		event_target:target_lover = {
			show_scope_change = no

			character_event = {
				id = 64002
				tooltip = EVTTOOLTIP64002
			}
		}
	}
}

# Spouse Confronted!
character_event = {
	id = 64001
	desc = EVTDESC64001
	picture = GFX_evt_quarrel

	is_triggered_only = yes

	option = {
		name = EVTOPTA64001

		opinion = {
			name = opinion_angry
			who = FROM
			years = 2
		}
	}

	option = {
		name = EVTOPTB64001

		event_target:target_lover = {
			show_scope_change = no

			character_event = {
				id = 64046
				tooltip = EVTTOOLTIP64046
			}
		}

		opinion = {
			name = opinion_irritated
			who = FROM
			years = 2
		}
	}
}

# Lover Confronted!
character_event = {
	id = 64002
	desc = EVTDESC64002
	picture = GFX_evt_quarrel

	is_triggered_only = yes

	option = {
		name = EVTOPTA64002 # Refuse

		opinion = {
			name = opinion_angry
			who = FROM
			years = 2
		}
	}

	option = {
		name = EVTOPTB64002 # Break up

		FROM = {
			show_scope_change = no

			spouse = {
				show_scope_change = no

				character_event = {
					id = 64046
					tooltip = EVTTOOLTIP64046
				}
			}
		}

		opinion = {
			name = opinion_irritated
			who = FROM
			years = 2
		}
	}

	option = {
		name = EVTOPTC64002 # I will claw your eyes out!
		tooltip_info = martial

		trigger = {
			martial >= 10

			FROM = {
				NOT = { trait = wounded }
			}
		}

		FROM = {
			show_scope_change = no

			random = {
				chance = 20

				character_event = {
					id = 64003
					tooltip = EVTTOOLTIP64003
				}
			}
		}

		opinion = {
			name = opinion_love_rival
			who = FROM
			years = 5
		}
	}

	option = {
		name = EVTOPTD64002 # Your meddling will cost you dearly
		tooltip_info = intrigue

		trigger = {
			intrigue >= 10

			FROM = {
				NOT = { trait = wounded }
			}
		}

		FROM = {
			show_scope_change = no

			random = {
				chance = 10

				set_character_flag = wounded_by_lover

				character_event = {
					id = 64004
					days = 14
					tooltip = EVTTOOLTIP64003
				}
			}

			random = {
				chance = 10

				set_character_flag = made_infirm

				character_event = {
					id = 64004
					days = 7
					tooltip = EVTTOOLTIP64004
				}
			}
		}

		opinion = {
			name = opinion_love_rival
			who = FROM
			years = 5
		}
	}
}

# Rival hurts lover's spouse: Martial wounded
character_event = {
	id = 64003
	desc = EVTDESC64003
	picture = GFX_evt_quarrel

	is_triggered_only = yes

	option = {
		name = EVTOPTA64003

		add_trait_silently_wounded_effect = yes

		opinion = {
			name = opinion_love_rival
			who = FROM
			years = 5
		}
	}
}

# Rival hurts lover's spouse: Intrigue wounded/infirm
character_event = {
	id = 64004
	desc = EVTDESC64004
	picture = GFX_evt_quarrel

	is_triggered_only = yes

	option = {
		name = EVTOPTA64004

		trigger = { has_character_flag = wounded_by_lover }

		add_trait_silently_wounded_effect = yes
		clr_character_flag = wounded_by_lover

		opinion = {
			name = opinion_love_rival
			who = FROM
			years = 5
		}
	}

	option = {
		name = EVTOPTB64004

		trigger = { has_character_flag = made_infirm }

		add_trait_silently_infirm_effect = yes
		clr_character_flag = made_infirm

		opinion = {
			name = opinion_love_rival
			who = FROM
			years = 5
		}
	}
}

# Sick lover: Pneumonic or ill
character_event = {
	id = 64005
	desc = EVTDESC64005
	picture = GFX_evt_illness

	is_triggered_only = yes

	only_capable = yes
	prisoner = no
	lacks_dlc = "Way of Life"
	lacks_dlc = "Reapers"

	trigger = {
		any_lover = {
			is_abroad = no

			OR = {
				is_ill = yes
				trait = pneumonic
			}
		}

		NOT = { trait = cruel }
	}

	weight_multiplier = {
		days = 1

		mult_modifier = {
			factor = 0.5
			is_ill = yes
		}

		mult_modifier = {
			factor = 2
			trait = kind
		}
	}

	immediate = {
		random_lover = {
			limit = {
				is_abroad = no

				OR = {
					is_ill = yes
					trait = pneumonic
				}
			}

			save_event_target_as = target_lover
		}
	}

	option = {
		name = EVTOPTA64005

		trigger = {
			event_target:target_lover = {
				is_female = no
			}
		}

		ai_chance = { factor = 50 }

		event_target:target_lover = {
			if = {
				limit = { is_ill = yes }

				random = {
					chance = 10
					remove_trait = ill
				}
			}

			else_if = {
				limit = { trait = pneumonic }

				random = {
					chance = 10
					remove_trait = pneumonic
				}
			}

			opinion = {
				name = opinion_glad
				who = ROOT
				years = 1
			}
		}
	}

	option = {
		name = EVTOPTB64005

		ai_chance = { factor = 50 }

		scaled_wealth = -0.2

		event_target:target_lover = {
			if = {
				limit = { is_ill = yes }

				random = {
					chance = 10
					remove_trait = ill
				}
			}
			else_if = {
				limit = { trait = pneumonic }

				random = {
					chance = 10
					remove_trait = pneumonic
				}
			}
		}
	}

	option = {
		name = EVTOPTC64005

		ai_chance = { factor = 0 }

		event_target:target_lover = {
			character_event = {
				id = 64046
				tooltip = EVTTOOLTIP64046
			}
		}
	}

	option = {
		name = EVTOPTD64005

		trigger = {
			event_target:target_lover = {
				is_female = yes
			}
		}

		ai_chance = { factor = 50 }

		event_target:target_lover = {
			if = {
				limit = { is_ill = yes }

				random = {
					chance = 10
					remove_trait = ill
				}
			}

			else_if = {
				limit = { trait = pneumonic }

				random = {
					chance = 10
					remove_trait = pneumonic
				}
			}

			opinion = {
				name = opinion_glad
				who = ROOT
				years = 1
			}
		}
	}
}

# Sick lover: Wounded
character_event = {
	id = 64006
	desc = EVTDESC64006
	picture = GFX_evt_illness

	is_triggered_only = yes

	only_capable = yes
	prisoner = no

	trigger = {
		any_lover = {
			is_abroad = no
			trait = wounded
		}

		NOT = { trait = cruel }
	}

	weight_multiplier = {
		days = 1

		mult_modifier = {
			factor = 0.5
			is_ill = yes
		}

		mult_modifier = {
			factor = 2
			trait = kind
		}
	}

	immediate = {
		random_lover = {
			limit = {
				is_abroad = no
				trait = wounded
			}

			save_event_target_as = target_lover
		}
	}

	option = {
		name = EVTOPTA64006

		ai_chance = { factor = 50 }

		event_target:target_lover = {
			show_scope_change = no

			random = {
				chance = 10

				remove_trait = wounded
				add_scarred_tiered_effect = yes
			}
		}
	}

	option = {
		name = EVTOPTB64006

		ai_chance = { factor = 50 }

		scaled_wealth = -0.2

		event_target:target_lover = {
			show_scope_change = no

			random = {
				chance = 20

				remove_trait = wounded
				add_scarred_tiered_effect = yes
			}
		}
	}

	option = {
		name = EVTOPTC64006

		ai_chance = { factor = 0 }

		event_target:target_lover = {
			show_scope_change = no

			character_event = {
				id = 64046
				tooltip = EVTTOOLTIP64046
			}
		}
	}
}

# You have become infatuated with someone in the same court
character_event = {
	id = 64010
	desc = EVTDESC64010
	picture = GFX_evt_lovers

	is_triggered_only = yes

	max_age = 18
	min_age = 12
	is_married = no
	prisoner = no
	only_capable = yes
	lacks_dlc = "Way of Life"

	trigger = {
		has_epidemic = no
		is_ill = no
		is_pregnant = no

		NOR = {
			trait = celibate
			trait = eunuch
		}

		any_courtier = {
			practical_age < 18
			practical_age >= 12
			root_attraction_trigger = yes
			is_married = no
			has_epidemic = no
			is_ill = no
			prisoner = no
			is_abroad = no
			is_pregnant = no
			is_incapable = no

			NOR = {
				trait = celibate
				trait = eunuch
				dynasty = ROOT
			}
		}
	}

	weight_multiplier = {
		days = 1
	}

	immediate = {
		any_courtier = {
			limit = {
				practical_age >= 12
				practical_age < 18
				root_attraction_trigger = yes
				is_married = no
				has_epidemic = no
				is_ill = no
				is_incapable = no

				NOR = {
					trait = celibate
					trait = eunuch
					dynasty = ROOT
				}
			}

			score_value = {
	            value = 10
	            interesting_courtier_selection_score = yes
	        }

			save_event_target_as = target_lover
		}
	}

	option = {
		name = EVTOPTA64010

		trigger = { is_female = no }

		ai_chance = {
			factor = 95
		}

		event_target:target_lover = {
			random_list = {
				80 = {
					set_character_flag = good_reply

					character_event = {
						id = 64011
						tooltip = EVTTOOLTIPA64011
					}
				}

				20 = {
					set_character_flag = bad_reply

					character_event = {
						id = 64011
						tooltip = EVTTOOLTIPB64011
					}
				}
			}
		}
	}

	option = {
		name = EVTOPTA64010

		trigger = { is_female = yes }

		ai_chance = {
			factor = 95
		}

		event_target:target_lover = {
			random_list = {
				80 = {
					set_character_flag = good_reply

					character_event = {
						id = 64011
						tooltip = EVTTOOLTIPA64011
					}
				}

				20 = {
					set_character_flag = bad_reply

					character_event = {
						id = 64011
						tooltip = EVTTOOLTIPB64011
					}
				}
			}
		}
	}

	option = {
		name = EVTOPTB64010 # Not that pretty anyway...

		ai_chance = {
			factor = 5

			mult_modifier = {
				factor = 15
				trait = craven
			}

			mult_modifier = {
				factor = 15
				trait = shy
			}
		}

		if = {
			limit = {
				OR = {
					trait = craven
					trait = berserker
				}

				NOT = { trait = shy }
			}
			add_trait = shy
		}
		else_if = {
			limit = {
				trait = shy

				NOR = {
					trait = craven
					trait = berserker
				}
			}
			add_trait = craven
		}
	}
}

# Object answers
character_event = {
	id = 64011
	desc = EVTDESC64011
	picture = GFX_evt_lovers

	is_triggered_only = yes

	option = {
		name = EVTOPTA64011

		trigger = { has_character_flag = good_reply }

		opinion = {
			name = teenage_infatuation
			who = FROM
			years = 10
		}

		set_character_flag = teenage_infatuation

		FROM = {
			show_scope_change = no

			character_event = {
				id = 64012
				tooltip = EVTTOOLTIP64012
			}
		}
	}

	option = {
		name = EVTOPTB64011 # Scorn reply

		trigger = { has_character_flag = bad_reply }

		FROM = {
			show_scope_change = no

			character_event = {
				id = 64013
				tooltip = EVTTOOLTIP64013
			}
		}
	}
}

# Object positive
character_event = {
	id = 64012
	desc = EVTDESC64012
	picture = GFX_evt_lovers

	is_triggered_only = yes

	option = {
		name = EVTOPTA64012

		opinion = {
			name = teenage_infatuation
			who = FROM
			years = 10
		}

		set_character_flag = teenage_infatuation
	}
}

# Object negative
character_event = {
	id = 64013
	desc = EVTDESC64013
	picture = GFX_evt_bad_news

	is_triggered_only = yes

	option = {
		name = EVTOPTA64013 # Accept I'm a failure

		random_list = {
			30 = { add_trait_craven_effect = yes }

			30 = {
				if = {
					limit = { religion_group = muslim }
					add_trait_cynical_effect = yes
				}
				else = {
					add_trait_chaste_effect = yes
				}
			}

			30 = { add_trait_shy_effect = yes }
		}
	}

	option = {
		name = EVTOPTB64013 # Who dares wins

		random_list = {
			30 = { add_trait_ambitious_effect = yes }
			30 = { add_trait_proud_effect = yes }
			30 = { add_trait_brave_effect = yes }
		}
	}
}

# Old and ugly wife: take a mistress?
character_event = {
	id = 64015
	desc = EVTDESC64015
	picture = GFX_evt_lovers

	is_triggered_only = yes

	only_rulers = yes
	only_men = yes
	only_capable = yes
	prisoner = no
	lacks_dlc = "Way of Life"

	trigger = {
		has_lover = no
		fertility >= 0.50
		has_epidemic = no
		is_ill = no

		NOR = {
			trait = homosexual
			has_character_flag = never_lover
		}

		spouse = {
			is_alive = yes
			is_abroad = no
			prisoner = no

			OR = {
				has_epidemic = yes
				is_ill = yes
				practical_age >= 45
				fertility < 0.20
			}
		}

		any_courtier = {
			is_female = yes
			is_adult = yes
			practical_age < 50
			has_lover = no
			prisoner = no
			is_incapable = no
			has_epidemic = no
			is_ill = no

			NOT = {
				is_close_relative = ROOT
				trait = homosexual
				trait = celibate
			}
		}
	}

	weight_multiplier = {
		days = 1
	}

	immediate = {
		any_courtier = {
			limit = {
				is_female = yes
				has_lover = no
				is_adult = yes
				practical_age < 50
				prisoner = no
				is_incapable = no
				has_epidemic = no
				is_ill = no

				NOR = {
					is_close_relative = ROOT
					trait = homosexual
					trait = celibate
				}
			}

			score_value = {
				value = 10
				interesting_courtier_selection_score = yes
			}

			save_event_target_as = target_lover
		}
	}

	option = {
		name = EVTOPTA64015 # I'm sure my wife will allow me to indulge myself

		piety = -10

		if = {
			limit = {
				NOT = { trait = lustful }
			}

			remove_trait_silently_chaste_effect = yes
			add_trait = lustful
		}

		spouse = {
			show_scope_change = no

			random = {
				chance = 50

				opinion = {
					name = opinion_angry
					who = ROOT
					years = 5
				}

				character_event = { id = 64016 }
			}
		}

		event_target:target_lover = {
			show_scope_change = no

			character_event = {
				id = 64017
				tooltip = EVTTOOLTIP64017
			}
		}
	}

	option = {
		name = EVTOPTB64015

		if = {
			limit = {
				NOT = { trait = deceitful }
			}

			remove_trait_silently_honest_effect = yes
			add_trait = deceitful
		}

		spouse = {
			show_scope_change = no

			random = {
				chance = 25

				opinion = {
					name = opinion_angry
					who = ROOT
					years = 5
				}

				character_event = { id = 64016 }
			}
		}

		event_target:target_lover = {
			show_scope_change = no

			character_event = {
				id = 64017
				tooltip = EVTTOOLTIP64017
			}
		}
	}

	option = {
		name = EVTOPTC64015 # No, it's a sin

		piety = 10

		random_list = {
			50 = {
			}

			20 = {
				mult_modifier = {
					factor = 1.25
					NOT = { religion_group = christian }
				}

				if = {
					limit = {
						OR = {
							religion_group = christian
							religion_group = jewish_group
						}

						NOT = { trait = chaste }
					}

					tooltip = {
						remove_trait_silently_lustful_effect = yes
						add_trait = chaste
					}

					hidden_effect = {
						remove_trait_silently_lustful_effect = yes
						add_trait_chaste_effect = yes
					}
				}
				else = {
					piety = 5
				}
			}

			25 = {
				trigger = {
					NOT = { trait = zealous }
				}

				tooltip = {
					remove_trait_silently_cynical_effect = yes
					add_trait = zealous
				}

				hidden_effect = {
					remove_trait_silently_cynical_effect = yes
					add_trait_zealous_effect = yes
				}
			}

			5 = {
				trigger = { religion_group = christian }

				add_trait_celibate_effect = yes
			}
		}
	}
}

# Wife is angry
character_event = {
	id = 64016
	desc = EVTDESC64016
	picture = GFX_evt_bad_news

	is_triggered_only = yes

	option = {
		name = EVTOPTA64016

		add_trait_silently_stressed_effect = yes

		spouse = {
			show_scope_change = no

			character_event = {
				id = 64020
				tooltip = EVTTOOLTIP64020
			}
		}
	}
}

# Courtier accepts or scorn liege's advances
character_event = {
	id = 64017
	desc = EVTDESC64017
	picture = GFX_evt_lovers

	is_triggered_only = yes

	option = {
		name = EVTOPTA64017

		FROM = {
			show_scope_change = no

			character_event = {
				id = 64018
				tooltip = EVTTOOLTIP64018
			}
		}
	}

	option = {
		name = EVTOPTB64017

		FROM = {
			show_scope_change = no

			character_event = {
				id = 64019
				tooltip = EVTTOOLTIP64019
			}
		}
	}
}

# Liege gets courtier's answer: Accepts
character_event = {
	id = 64018
	desc = EVTDESC64018
	picture = GFX_evt_lovers

	is_triggered_only = yes

	option = {
		name = EVTOPTA64018

		add_lover = FROM
	}
}

# Liege gets courtier's answer: Scorns
character_event = {
	id = 64019
	desc = EVTDESC64019
	picture = GFX_evt_quarrel

	is_triggered_only = yes

	option = {
		name = EVTOPTA64019

		set_character_flag = never_lover
		prestige = -10

		opinion = {
			name = opinion_dislike
			who = FROM
			years = 5
		}
	}
}

# Wife is angry: liege
character_event = {
	id = 64020
	desc = EVTDESC64020
	picture = GFX_evt_quarrel

	is_triggered_only = yes

	option = {
		name = EVTOPTA64020

		reverse_opinion = {
			name = opinion_angry
			who = FROM
			years = 1
		}
	}
}

# You have fallen in love with your spouse
character_event = {
	id = 64025
	desc = EVTDESC64025
	picture = GFX_evt_lovers

	is_triggered_only = yes

	only_capable = yes
	only_rulers = yes
	prisoner = no
	lacks_dlc = "Way of Life"

	trigger = {
		OR = {
			has_character_flag = poet_spouse_muse

			AND = {
				is_married = yes
				has_lover = no

				opinion = {
					who = spouse
					value >= 20
				}

				NOR = {
					trait = homosexual
					trait = celibate

					has_opinion_modifier = {
						who = spouse
						name = opinion_spurned
					}
				}

				spouse = {
					has_lover = no
					is_ruler = no
					prisoner = no
					is_alive = yes
					is_abroad = no

					NOT = {
						has_opinion_modifier = {
							who = ROOT
							name = opinion_spurned
						}
					}
				}
			}
		}
	}

	weight_multiplier = {
		days = 1

		mult_modifier = {
			factor = 2
			trait = kind
		}

		mult_modifier = {
			factor = 2
			trait = charitable
		}

		mult_modifier = {
			factor = 2
			trait = gregarious
		}

		mult_modifier = {
			factor = 0.1
			trait = cruel
		}

		mult_modifier = {
			factor = 0.1
			trait = wroth
		}

		mult_modifier = {
			factor = 0.1
			trait = envious
		}

		mult_modifier = {
			factor = 2
			spouse = { trait = kind }
		}

		mult_modifier = {
			factor = 2
			spouse = { trait = charitable }
		}

		mult_modifier = {
			factor = 2
			spouse = { trait = gregarious }
		}

		mult_modifier = {
			factor = 0.1
			spouse = { trait = cruel }
		}

		mult_modifier = {
			factor = 0.1
			spouse = { trait = wroth }
		}

		mult_modifier = {
			factor = 0.1
			spouse = { trait = envious }
		}
	}

	option = {
		name = EVTOPTA64025 # Embrace the love

		piety = 5
		clr_character_flag = poet_spouse_muse
		add_lover = spouse
	}

	option = {
		name = EVTOPTB64025 # Deny it

		clr_character_flag = poet_spouse_muse

		reverse_opinion = {
			name = opinion_spurned
			who = spouse
			years = 10
		}
	}
}

# A week with my lover...
character_event = {
	id = 64030
	desc = EVTDESC64030
	picture = GFX_evt_lovers

	is_triggered_only = yes

	only_rulers = yes
	lacks_dlc = "Way of Life"
	only_capable = yes
	prisoner = no
	war = no

	trigger = {
		has_lover = yes
		in_command_trigger = no
		is_abroad = no

		any_lover = {
			is_female = yes
			prisoner = no
			is_incapable = no
		}
	}

	weight_multiplier = {
		days = 1
	}

	immediate = {
		random_lover = {
			limit = {
				is_female = yes
				prisoner = no
				is_incapable = no
			}

			save_event_target_as = target_lover
		}
	}

	option = {
		name = EVTOPTA64030 # I shall take her to my isolated country cottage

		event_target:target_lover = {
			show_scope_change = no

			add_character_modifier = {
				name = lovers_retreat
				years = 1
			}
		}

		add_character_modifier = {
			name = for_the_sake_of_love
			months = 1
		}
	}

	option = {
		name = EVTOPTB64030 # I'll sponsor entertainment at the local court

		scaled_wealth = -0.05

		event_target:target_lover = {
			show_scope_change = no

			add_character_modifier = {
				name = lovers_entertainment
				years = 1
			}
		}

		any_spouse = {
			show_scope_change = no

			limit = {
				is_alive = yes
				prisoner = no
				is_abroad = no
				NOT = { is_lover = ROOT }
			}

			opinion = {
				name = opinion_angry
				who = ROOT
				years = 2
			}
		}
	}

	option = {
		name = EVTOPTC64030 # I'll spend the time with my mates instead

		event_target:target_lover = {
			show_scope_change = no

			character_event = {
				id = 64046
				tooltip = EVTTOOLTIP64046
			}
		}
	}
}

# Your lover complains to you that you two never do anything exciting
character_event = {
	id = 64035
	desc = EVTDESC64035
	picture = GFX_evt_quarrel

	is_triggered_only = yes

	only_rulers = yes
	only_men = yes
	lacks_dlc = "Way of Life"
	only_capable = yes
	prisoner = no

	trigger = {
		is_inaccessible_trigger = no

		NOR = {
			trait = homosexual

			any_spouse = {
				is_lover = ROOT
			}
		}

		any_lover = {
			is_female = yes
			is_pregnant = no
			prisoner = no
			is_incapable = no

			OR = {
				trait = ambitious
				trait = arbitrary
				trait = wroth
			}
		}
	}

	weight_multiplier = {
		days = 1
	}

	immediate = {
		random_lover = {
			limit = {
				is_female = yes
				is_pregnant = no
				prisoner = no
				is_incapable = no

				OR = {
					trait = ambitious
					trait = arbitrary
					trait = wroth
				}
			}

			save_event_target_as = target_lover
		}
	}

	option = {
		name = EVTOPTA64035 # Throw a big party for her entertainment

		scaled_wealth = -0.1
		prestige = 10

		add_trait_silently_charitable_effect = yes

		if = {
			limit = { is_married = no }

			piety = -5

			any_vassal = {
				limit = {
					OR = {
						piety >= 50
						trait = zealous
						is_theocracy = yes
					}
				}

				opinion = {
					name = opinion_angry
					who = ROOT
					years = 2
				}
			}
		}

		event_target:target_lover = {
			show_scope_change = no

			prestige = 20
		}
	}

	option = {
		name = EVTOPTB64035 # Take her to do something dangerous, like hunting

		prestige = 10

		event_target:target_lover = {
			show_scope_change = no

			random = {
				chance = 10
				add_trait_wounded_effect = yes
			}
		}
	}

	option = {
		name = EVTOPTC64035 # She gets what she deserves

		if = {
			limit = { trait = greedy }
			prestige = 10
		}

		add_trait_silently_greedy_effect = yes

		event_target:target_lover = {
			show_scope_change = no

			character_event = {
				id = 64046
				tooltip = EVTTOOLTIP64045
			}
		}
	}
}

# Ruler confronts cheating spouse
character_event = {
	id = 64040
	desc = EVTDESC64040
	picture = GFX_evt_quarrel

	is_triggered_only = yes

	only_rulers = yes
	only_capable = yes
	prisoner = no
	lacks_dlc = "Way of Life"

	trigger = {
		NOT = { is_lover = spouse }

		spouse = {
			has_lover = yes
			in_command_trigger = no
			war = no
			is_abroad = no
			prisoner = no
			is_incapable = no

			any_lover = {
				is_abroad = no
				prisoner = no
				is_incapable = no
			}
		}
	}

	weight_multiplier = {
		days = 1

		mult_modifier = {
			factor = 2
			trait = envious
		}
	}

	option = {
		name = EVTOPTA64040

		spouse = {
			show_scope_change = no

			character_event = {
				id = 64041
				tooltip = EVTTOOLTIP64041
			}
		}
	}
}

# Spouse Confronted!
character_event = {
	id = 64041
	desc = EVTDESC64041
	picture = GFX_evt_quarrel

	is_triggered_only = yes

	option = {
		name = EVTOPTA64041

		opinion = {
			name = opinion_angry
			who = FROM
			years = 2
		}
	}

	option = {
		name = EVTOPTB64041

		random_lover = {
			limit = {
				is_abroad = no
				prisoner = no
				is_incapable = no
				NOT = { character = FROM }
			}

			character_event = {
				id = 64046
				tooltip = EVTTOOLTIP64046
			}
		}

		opinion = {
			name = opinion_irritated
			who = FROM
			years = 2
		}
	}
}

# You have lost that loving feeling
character_event = {
	id = 64045
	desc = EVTDESC64045
	picture = GFX_evt_quarrel

	min_age = 16
	only_capable = yes
	prisoner = no
	lacks_dlc = "Way of Life"

	trigger = {
		has_lover = yes

		any_lover = {
			OR = {
				opinion = {
					who = ROOT
					value < 25
				}

				reverse_opinion = {
					who = ROOT
					value < 25
				}
			}
		}
	}

	mean_time_to_happen = {
		years = 10

		mult_modifier = {
			factor = 0.8
			trait = wroth
		}

		mult_modifier = {
			factor = 0.8
			trait = envious
		}

		mult_modifier = {
			factor = 0.8
			trait = cruel
		}

		mult_modifier = {
			factor = 0.8
			trait = drunkard
		}
	}

	immediate = {
		random_lover = {
			limit = {
				OR = {
					opinion = {
						who = ROOT
						value < 25
					}

					reverse_opinion = {
						who = ROOT
						value < 25
					}
				}
			}

			save_event_target_as = target_lover
		}
	}

	option = {
		name = EVTOPTA64045

		clr_character_flag = lost_loving_feeling # Set in chief Qadi event chain (105035). Zina.

		event_target:target_lover = {
			character_event = {
				id = 64046
				tooltip = EVTTOOLTIP64046
			}
		}
	}
}

# Lover is notified
character_event = {
	id = 64046
	desc = EVTDESC64046
	picture = GFX_evt_bad_news

	is_triggered_only = yes

	option = {
		name = EVTOPTA64046

		remove_lover = FROM
	}
}

# Infatuation turned into love?
character_event = {
	id = 64050
	desc = EVTDESC64050
	picture = GFX_evt_lovers

	has_character_flag = teenage_infatuation
	lacks_dlc = "Way of Life"
	min_age = 18
	max_age = 25
	only_capable = yes
	prisoner = no

	trigger = {
		has_lover = no

		any_courtier = {
			has_character_flag = teenage_infatuation
			has_lover = no
			practical_age >= 18
			is_abroad = no
			same_realm = ROOT

			has_opinion_modifier = {
				who = ROOT
				name = teenage_infatuation
			}

			reverse_has_opinion_modifier = {
				who = ROOT
				name = teenage_infatuation
			}

			opinion = {
				who = ROOT
				value >= 25
			}

			their_opinion = {
				who = ROOT
				value >= 25
			}
		}
	}

	mean_time_to_happen = {
		years = 10
	}

	immediate = {
		random_courtier = {
			limit = {
				has_character_flag = teenage_infatuation
				has_lover = no
				practical_age >= 18
				is_abroad = no
				same_realm = ROOT

				has_opinion_modifier = {
					who = ROOT
					name = teenage_infatuation
				}

				reverse_has_opinion_modifier = {
					who = ROOT
					name = teenage_infatuation
				}

				opinion = {
					who = ROOT
					value >= 25
				}

				their_opinion = {
					who = ROOT
					value >= 25
				}
			}

			save_event_target_as = infatuated_love_64050
		}
	}

	option = {
		name = EVTOPTA64050 # Our infatuation has turned into love

		event_target:infatuated_love_64050 = {
			show_scope_change = no

			hidden_effect = {
				remove_opinion = {
					who = ROOT
					name = teenage_infatuation
				}

				reverse_remove_opinion = {
					who = ROOT
					name = teenage_infatuation
				}
			}

			character_event = {
				id = 64051
				tooltip = EVTTOOLTIP64051
			}
		}
	}

	option = {
		name = EVTOPTB64050 # This was just something for us growing up

		opinion = {
			name = childhood_sweetheart
			who = event_target:infatuated_love_64050
			years = 50
		}

		event_target:infatuated_love_64050 = {
			show_scope_change = no

			hidden_effect = {
				remove_opinion = {
					who = ROOT
					name = teenage_infatuation
				}

				reverse_remove_opinion = {
					who = ROOT
					name = teenage_infatuation
				}
			}

			character_event = {
				id = 64052
				tooltip = EVTTOOLTIP64052
			}
		}
	}
}

# Infatuation has turned into love
character_event = {
	id = 64051
	desc = EVTDESC64051
	picture = GFX_evt_lovers

	is_triggered_only = yes

	option = {
		name = EVTOPTA64051

		add_lover = FROM
	}
}

# Infatuation has turned into affection?
character_event = {
	id = 64052
	desc = EVTDESC64052
	picture = GFX_evt_lovers

	is_triggered_only = yes

	option = {
		name = EVTOPTA64052 # Yes, it was...

		opinion = {
			name = childhood_sweetheart
			who = FROM
			years = 50
		}
	}

	option = {
		name = EVTOPTB64052 # But I loved you...

		opinion = {
			name = love_scorned
			who = FROM
			years = 50
		}
	}
}

# Ruler: Child has teenage_infatuation with courtier
character_event = {
	id = 64055
	desc = EVTDESC64055
	picture = GFX_evt_lovers

	only_rulers = yes
	only_capable = yes
	prisoner = no
	lacks_dlc = "Way of Life"

	trigger = {
		any_child = {
			has_character_flag = teenage_infatuation
			practical_age >= 13
			practical_age < 20
			is_abroad = no
			prisoner = no
			is_incapable = no
			is_ruler = no

			any_courtier = {
				has_character_flag = teenage_infatuation
				is_abroad = no
				prisoner = no

				has_opinion_modifier = {
					who = PREV
					name = teenage_infatuation
				}

				reverse_has_opinion_modifier = {
					who = PREV
					name = teenage_infatuation
				}
			}
		}
	}

	mean_time_to_happen = {
		months = 120
	}

	immediate = {
		random_child = {
			limit = {
				has_character_flag = teenage_infatuation
				practical_age >= 13
				practical_age < 20
				is_abroad = no
				prisoner = no

				any_courtier = {
					has_character_flag = teenage_infatuation
					is_abroad = no
					prisoner = no

					NOT = { is_married  = PREV }

					has_opinion_modifier = {
						who = PREV
						name = teenage_infatuation
					}

					reverse_has_opinion_modifier = {
						who = PREV
						name = teenage_infatuation
					}
				}
			}

			save_event_target_as = teenage_infatuation
		}
	}

	option = {
		name = EVTOPTA64055 #Ahh, how sweet...

		reverse_opinion = {
			name = opinion_happy
			who = event_target:teenage_infatuation
			years = 2
		}
	}

	option = {
		name = EVTOPTB64055 # Maybe it will pass

		if = {
			limit = { trait = chaste }
			prestige = -10
		}

		reverse_opinion = {
			name = opinion_glad
			who = event_target:teenage_infatuation
			years = 2
		}
	}

	option = {
		name = EVTOPTC64055 # Separate them

		event_target:teenage_infatuation = {
			show_scope_change = no

			add_trait_silently_stressed_effect = yes

			opinion = {
				name = opinion_angry
				who = ROOT
				years = 5
			}

			clr_character_flag = teenage_infatuation
		}
	}
}

# Loving a married woman is being quite a pain to your soul
character_event = {
	id = 64060
	desc = EVTDESC64060
	picture = GFX_evt_bad_news

	only_rulers = yes
	only_men = yes
	min_age = 16
	only_capable = yes
	prisoner = no
	lacks_dlc = "Way of Life"
	war = no
	is_married = no

	trigger = {
		OR = {
			trait = kind
			trait = just
			trait = charitable
			trait = honest
		}

		in_command_trigger = no
		is_ill = no
		NOT = { trait = drunkard }

		any_lover = {
			is_female = yes
			is_married = yes
			prisoner = no
			is_incapable = no
		}
	}

	mean_time_to_happen = {
		years = 10
	}

	immediate = {
		random_lover = {
			limit = {
				is_female = yes
				is_married = yes
			}

			save_event_target_as = target_lover
		}
	}

	option = {
		name = EVTOPTA64060 # I will write a poem of my pain

		if = {
			limit = {
				NOT = { trait = humble }
			}

			random = {
				chance = 25

				tooltip = {
					remove_trait_silently_proud_effect = yes
					add_trait = humble
				}

				hidden_effect = {
					remove_trait_silently_proud_effect = yes
					add_trait_humble_effect = yes
				}
			}
		}
	}

	option = {
		name = EVTOPTB64060 # Wine will cure my pains

		trigger = {
			trigger_if = {
				limit = { religion_group = muslim }

				OR = {
					trait = cynical
					trait = hedonist
					trait = drunkard
				}
			}
		}

		random = {
			chance = 25

			add_trait_drunkard_effect = yes
		}
	}

	option = {
		name = EVTOPTC64060 # I shall seek help from prayer

		if = {
			limit = {
				NOT = { trait = zealous }
			}

			remove_trait_silently_cynical_effect = yes
			add_trait = zealous
		}
	}

	option = {
		name = EVTOPTD64060 # She's married, I should forget her

		event_target:target_lover = {
			character_event = {
				id = 64046
				tooltip = EVTTOOLTIP64046
			}
		}
	}
}

# This kind of unsatisfying relationship to a married woman is really becoming irksome to you
character_event = {
	id = 64065
	desc = EVTDESC64065
	picture = GFX_evt_bad_news

	only_rulers = yes
	min_age = 16
	only_capable = yes
	prisoner = no
	lacks_dlc = "Way of Life"
	war = no

	trigger = {
		in_command_trigger = no
		NOT = { is_lover = spouse }

		OR = {
			trait = kind
			trait = just
			trait = charitable
			trait = honest
		}

		any_lover = {
			is_female = yes
			is_married = yes
			NOT = { is_married = ROOT }
		}
	}

	mean_time_to_happen = {
		years = 10

		mult_modifier = {
			factor = 0.8
			trait = stressed
		}

		mult_modifier = {
			factor = 0.8
			trait = drunkard
		}

		mult_modifier = {
			factor = 0.5
			trait = chaste
		}

		mult_modifier = {
			factor = 1.5
			trait = lustful
		}
	}

	immediate = {
		random_lover = {
			limit = {
				is_female = yes
				is_married = yes
				NOT = { is_married = ROOT }
			}

			save_event_target_as = target_lover
		}
	}

	option = {
		name = EVTOPTA64065 # And thus it ends..

		event_target:target_lover = {
			show_scope_change = no

			character_event = {
				id = 64046
				tooltip = EVTTOOLTIP64046
			}
		}
	}

	option = {
		name = EVTOPTB64065 # Maybe it can still work...

		random = {
			chance = 10

			add_trait_stressed_effect = yes
		}

		random = {
			chance = 25

			event_target:target_lover = {
				show_scope_change = no

				character_event = {
					id = 64046
					tooltip = EVTTOOLTIP64046
				}
			}
		}
	}

	option = {
		name = EVTOPTC64065 # No, I will make it work!

		random = {
			chance = 25
			add_trait_stressed_effect = yes
		}
	}
}

# Seeing someone else behind your spouse's back is becoming quite troublesome for you
character_event = {
	id = 64070
	desc = EVTDESC64070
	picture = GFX_evt_lovers
	border = GFX_event_normal_frame_intrigue

	is_married = yes
	min_age = 16
	only_capable = yes
	prisoner = no
	lacks_dlc = "Way of Life"

	trigger = {
		has_lover = yes
		has_polygamy = no
		in_command_trigger = no

		spouse = {
			prisoner = no
			in_command_trigger = no
			is_incapable = no
		}

		any_lover = {
			is_female = yes
			is_married = yes
			is_incapable = no
			prisoner = no

			NOR = {
				is_married = ROOT
				is_consort = ROOT
				ROOT = { is_consort = PREV }
			}
		}
	}

	mean_time_to_happen = {
		years = 10

		mult_modifier = {
			factor = 0.8
			trait = stressed
		}

		mult_modifier = {
			factor = 0.8
			trait = drunkard
		}

		mult_modifier = {
			factor = 0.5
			trait = chaste
		}

		mult_modifier = {
			factor = 1.5
			trait = lustful
		}
	}

	immediate = {
		random_lover = {
			limit = {
				is_female = yes
				is_married = yes

				NOR = {
					is_married = ROOT
					is_consort = ROOT
					ROOT = { is_consort = PREV }
				}
			}

			save_event_target_as = target_lover
		}
	}

	option = {
		name = EVTOPTA64070 # It's time to end such affairs and settle down

		event_target:target_lover = {
			show_scope_change = no

			character_event = {
				id = 64046
				tooltip = EVTTOOLTIP64046
			}
		}

		if = {
			limit = {
				NOR = {
					religion_group = muslim
					trait = chaste
				}
			}

			random = {
				chance = 25

				tooltip = {
					remove_trait_silently_lustful_effect = yes
					add_trait = chaste
				}

				hidden_effect = {
					remove_trait_silently_lustful_effect = yes
					add_trait_chaste_effect = yes
				}
			}
		}
	}

	option = {
		name = EVTOPTB64070 # It will work out if I give it a bit more effort

		random_list = {
			50 = {
			}

			30 = {
				trigger = {
					NOR = {
						trait = stressed
						trait = depressed
					}
				}

				add_trait_stressed_effect = yes
			}

			10 = {
				event_target:target_lover = {
					show_scope_change = no

					character_event = {
						id = 64046
						tooltip = EVTTOOLTIP64046
					}
				}
			}

			10 = {
				spouse = {
					show_scope_change = no

					character_event = {
						id = 64105
						tooltip = EVTTOOLTIP64105 # FALLOUT!
					}
				}
			}
		}
	}

	option = {
		name = EVTOPTC64070 # I don't care for my wife

		spouse = {
			show_scope_change = no

			character_event = {
				id = 64105
				tooltip = EVTTOOLTIP64105 # FALLOUT!
			}
		}

		random_list = {
			50 = {
			}

			25 = {
				trigger = {
					NOT = { trait = lustful }
				}

				tooltip = {
					remove_trait_silently_chaste_effect = yes
					add_trait = lustful
				}

				hidden_effect = {
					remove_trait_silently_chaste_effect = yes
					add_trait_lustful_effect = yes
				}
			}

			25 = {
				trigger = {
					NOT = { trait = cruel }
				}

				tooltip = {
					remove_trait_silently_kind_effect = yes
					add_trait = cruel
				}

				hidden_effect = {
					remove_trait_silently_kind_effect = yes
					add_trait_cruel_effect = yes
				}
			}
		}
	}
}

# You are having a special occasion with your lover in the near future, but your wife is insistent on alternate plans
character_event = {
	id = 64075
	desc = EVTDESC64075
	picture = GFX_evt_lovers

	only_rulers = yes
	min_age = 16
	only_men = yes
	is_married = yes
	only_capable = yes
	prisoner = no
	lacks_dlc = "Way of Life"
	war = no

	trigger = {
		fertility >= 0.5
		in_command_trigger = no
		is_inaccessible_trigger = no

		spouse = {
			prisoner = no
			is_abroad = no
			is_incapable = no
		}

		any_lover = {
			is_female = yes
			NOT = { is_married = ROOT }
			is_pregnant = no
			prisoner = no
			is_incapable = no
			is_inaccessible_trigger = no
		}
	}

	mean_time_to_happen = {
		years = 10

		mult_modifier = {
			factor = 0.8
			trait = stressed
		}

		mult_modifier = {
			factor = 0.8
			trait = drunkard
		}

		mult_modifier = {
			factor = 0.5
			trait = chaste
		}

		mult_modifier = {
			factor = 1.5
			trait = lustful
		}
	}

	immediate = {
		random_lover = {
			limit = {
				is_female = yes
				NOT = { is_married = ROOT }
				is_pregnant = no
				prisoner = no
				is_incapable = no
				is_inaccessible_trigger = no
			}

			save_event_target_as = target_lover
		}
	}

	option = {
		name = EVTOPTA64075 # Ignore your wife, and go visit lover

		random = {
			chance = 25

			spouse = {
				show_scope_change = no

				opinion = {
					name = opinion_angry
					who = ROOT
					years = 5
				}
			}
		}

		if = {
			limit = {
				NOT = { trait = deceitful }
			}

			remove_trait_silently_honest_effect = yes
			add_trait = deceitful
		}
	}

	option = {
		name = EVTOPTB64075 # Arrange a ball and invite your lover

		random_list = {
			80 = {
			}

			10 = {
				event_target:target_lover = {
					show_scope_change = no

					impregnate_cuckoo = ROOT

					hidden_effect = {
						ROOT = {
							character_event = {
								id = 64101
								days = 2
								random = 2
							}
						}
					}
				}
			}

			10 = {
				spouse = {
					show_scope_change = no

					character_event = {
						id = 64076
						tooltip = EVTTOOLTIP64076
					}
				}
			}
		}
	}

	option = {
		name = EVTOPTC64075 # Spend time with wife instead

		random = {
			chance = 50

			event_target:target_lover = {
				show_scope_change = no

				character_event = {
					id = 64046
					tooltip = EVTTOOLTIP64046
				}
			}
		}
	}
}

# Spouse meets lover
character_event = {
	id = 64076
	desc = EVTDESC64076
	picture = GFX_evt_quarrel

	is_triggered_only = yes

	option = {
		name = EVTOPTA64076

		opinion = {
			name = opinion_hate
			who = FROM
			years = 10
		}

		FROM = {
			show_scope_change = no

			character_event = {
				id = 64077
				tooltip = EVTTOOLTIP64077
			}
		}
	}
}

# Spouse hates you
character_event = {
	id = 64077
	desc = EVTDESC64077
	picture = GFX_evt_quarrel

	is_triggered_only = yes

	option = {
		name = EVTOPTA64077

		tooltip = {
			reverse_opinion = {
				name = opinion_hate
				who = FROM
				years = 10
			}
		}
	}
}

# Your wife has retired to the convent for a short while
character_event = {
	id = 64080
	desc = EVTDESC64080
	picture = GFX_evt_monastery_nuns

	only_rulers = yes
	only_men = yes
	is_married = yes
	min_age = 16
	only_capable = yes
	lacks_dlc = "Way of Life"

	trigger = {
		religion_group = christian
		fertility >= 0.50

		spouse = {
			is_alive = yes
			is_abroad = no
			prisoner = no
			religion_group = christian
			is_incapable = no
		}

		any_lover = {
			is_female = yes
			practical_age < 40
			fertility >= 0.50
			NOT = { is_married = ROOT }
			is_incapable = no
			prisoner = no
			is_pregnant = no
		}
	}

	mean_time_to_happen = {
		years = 10
	}

	immediate = {
		random_lover = {
			limit = {
				is_female = yes
				practical_age < 40
				fertility >= 0.50
				NOT = { is_married = ROOT }
				is_incapable = no
				prisoner = no
				is_pregnant = no
			}

			save_event_target_as = target_lover
		}

	}

	option = {
		name = EVTOPTA64080 # Perfect occasion to spend time with your lover

		if = {
			limit = {
				NOT = { trait = lustful }
			}

			random = {
				chance = 25

				tooltip = {
					remove_trait_silently_chaste_effect = yes
					add_trait = lustful
				}

				hidden_effect = {
					remove_trait_silently_chaste_effect = yes
					add_trait_lustful_effect = yes
				}
			}
		}

		random = {
			chance = 50

			piety = -10

			event_target:target_lover = {
				show_scope_change = no

				impregnate_cuckoo = ROOT

				hidden_effect = {
					ROOT = {
						character_event = {
							id = 64101
							days = 2
							random = 2
						}
					}
				}
			}
		}
	}

	option = {
		name = EVTOPTB64080 # Be discreet about it

		if = {
			limit = {
				NOT = { trait = deceitful }
			}

			random = {
				chance = 25

				tooltip = {
					remove_trait_silently_honest_effect = yes
					add_trait = deceitful
				}

				hidden_effect = {
					remove_trait_silently_honest_effect = yes
					add_trait_deceitful_effect = yes
				}
			}
		}

		random = {
			chance = 20

			piety = -10

			event_target:target_lover = {
				show_scope_change = no

				impregnate_cuckoo = ROOT

				hidden_effect = {
					ROOT = {
						character_event = {
							id = 64101
							days = 2
							random = 2
						}
					}
				}
			}
		}
	}

	option = {
		name = EVTOPTC64080 # Only see your lover on friendship terms

		random_list = {
			50 = {
			}

			25 = {
				trigger = {
					NOT = { trait = craven }
				}

				tooltip = {
					remove_trait_silently_brave_effect = yes
					add_trait = craven
				}

				hidden_effect = {
					remove_trait_silently_brave_effect = yes
					add_trait_craven_effect = yes
				}
			}

			25 = {
				event_target:target_lover = {
					show_scope_change = no

					character_event = {
						id = 64046
						tooltip = EVTTOOLTIP64046
					}
				}
			}
		}
	}

	option = {
		name = EVTOPTD64080 # Spend the time working instead

		event_target:target_lover = {
			show_scope_change = no

			character_event = {
				id = 64046
				tooltip = EVTTOOLTIP64046
			}
		}
	}
}

# Two adult character are lovers and neither is married
character_event = {
	id = 64085
	desc = EVTDESC64085
	picture = GFX_evt_lovers

	min_age = 16
	max_age = 40
	only_capable = yes
	prisoner = no
	lacks_dlc = "Way of Life"

	trigger = {
		num_of_lovers == 1
		is_married = no
		is_ruler = no
		is_consort = no

		OR = {
			trait = ambitious
			trait = gregarious
			trait = proud
		}

		any_lover = {
			religion = ROOT
			num_of_lovers == 1
			can_marry = ROOT

			ROOT = {
				can_marry = PREV
			}

			is_married = no
			is_consort = no
			is_ruler = no
			prisoner = no
			is_incapable = no
		}
	}

	mean_time_to_happen = {
		years = 10
	}

	immediate = {
		random_lover = {
			limit = {
				religion = ROOT
				num_of_lovers == 1
				can_marry = ROOT

				ROOT = {
					can_marry = PREV
				}

				is_married = no
				is_consort = no
				is_ruler = no
				prisoner = no
				is_incapable = no
			}

			save_event_target_as = target_lover
		}
	}

	option = {
		name = EVTOPTA64085 # They elope to get married

		piety = 5
		add_spouse = event_target:target_lover

		liege = {
			show_scope_change = no

			character_event = {
				id = 64086
				tooltip = EVTTOOLTIP64086
			}
		}
	}
}

# Liege is notified
character_event = {
	id = 64086
	desc = EVTDESC64086
	picture = GFX_evt_lovers

	is_triggered_only = yes

	option = {
		name = EVTOPTA64086

		random_list = {
			75 = {
				FROM = {
					show_scope_change = no

					character_event = {
						id = 64087
						tooltip = EVTTOOLTIP64087
					}

					spouse = {
						show_scope_change = no

						character_event = {
							id = 64087
							tooltip = EVTTOOLTIP64087
						}
					}
				}
			}

			25 = {
				FROM = {
					show_scope_change = no

					character_event = {
						id = 64088
						tooltip = EVTTOOLTIP64088
					}

					spouse = {
						show_scope_change = no

						character_event = {
							id = 64088
							tooltip = EVTTOOLTIP64088
						}
					}
				}
			}
		}
	}

	option = {
		name = EVTOPTB64086

		prestige = -10
	}
}

# Imprisoned!
character_event = {
	id = 64087
	desc = EVTDESC64087
	picture = GFX_evt_into_the_dungeon

	is_triggered_only = yes

	immediate = {
		imprison = FROM
	}

	option = {
		name = EVTOPTA64087

		opinion = {
			name = opinion_angry
			who = FROM
			years = 10
		}
	}
}

# Banished!
character_event = {
	id = 64088
	desc = EVTDESC64088
	picture = GFX_evt_lovers

	is_triggered_only = yes

	option = {
		name = EVTOPTA64088

		banish = yes

		opinion = {
			name = opinion_angry
			who = FROM
			years = 10
		}
	}
}

# Childless marriage
character_event = {
	id = 64090
	desc = EVTDESC64090
	picture = GFX_evt_lovers

	only_rulers = yes
	is_married = yes
	min_age = 25
	max_age = 40
	only_capable = yes
	prisoner = no
	lacks_dlc = "Way of Life"
	war = no

	trigger = {
		has_children = no
		is_lover = spouse
		in_command_trigger = no

		spouse = {
			has_children = no
			is_alive = yes
			is_abroad = no
			prisoner = no
		}
	}

	mean_time_to_happen = {
		years = 10

		mult_modifier = {
			factor = 0.5
			fertility < 0.40
		}
	}

	option = {
		name = EVTOPTA64090 # Ask for God's help with our childless marriage

		trigger = {
			NOR = {
				religion_group = muslim
				religion = buddhist
				religion = jain
			}
		}

		random_list = {
			70 = {
			}

			20 = {
				spouse = {
					show_scope_change = no

					fertility = 0.20
				}
			}

			10 = {
				spouse = {
					show_scope_change = no

					fertility = 0.10
				}
			}
		}
	}

	option = {
		name = EVTOPTB64090 # Meet with X every night

		add_trait_silently_stressed_effect = yes

		random_list = {
			40 = {
			}

			30 = {
				spouse = {
					show_scope_change = no

					fertility = 0.20
				}
			}

			20 = {
				spouse = {
					show_scope_change = no

					fertility = 0.10
				}
			}

			10 = {
				health = -2
			}
		}
	}

	option = {
		name = EVTOPTC64090 # Ask for Allah's help with our childless marriage

		trigger = { religion_group = muslim }

		random_list = {
			70 = {
			}

			20 = {
				spouse = {
					show_scope_change = no

					fertility = 0.20
				}
			}

			10 = {
				spouse = {
					show_scope_change = no

					fertility = 0.10
				}
			}
		}
	}
}

# Your lover is eager to comfort you after you have had a particularly fiery row with your wife
character_event = {
	id = 64100
	desc = EVTDESC64100
	picture = GFX_evt_lovers

	only_rulers = yes
	only_men = yes
	is_married = yes
	min_age = 16
	only_capable = yes
	prisoner = no
	lacks_dlc = "Way of Life"
	war = no

	trigger = {
		trait = stressed
		fertility >= 0.40
		is_inaccessible_trigger = no
		in_command_trigger = no

		spouse = {
			has_opinion_modifier = {
				who = ROOT
				name = opinion_dislike
			}

			is_ruler = no
		}

		any_lover = {
			is_female = yes
			fertility >= 0.5
			practical_age < 40
			is_pregnant = no
			prisoner = no
			is_incapable = no
			is_inaccessible_trigger = no
			NOT = { is_married = ROOT }
		}
	}

	mean_time_to_happen = {
		years = 10
	}

	immediate = {
		random_lover = {
			limit = {
				is_female = yes
				fertility >= 0.50
				practical_age < 40
				is_pregnant = no
				is_inaccessible_trigger = no
				prisoner = no
				is_incapable = no
				NOT = { is_married = ROOT }
			}

			save_event_target_as = target_lover
		}
	}

	option = {
		name = EVTOPTA64100 # Retire to the country manor with her for a while

		remove_trait_silently_stressed_effect = yes

		event_target:target_lover = {
			show_scope_change = no

			random = {
				chance = 25

				impregnate_cuckoo = ROOT

				hidden_effect = {
					ROOT = {
						character_event = {
							id = 64101
							days = 2
							random = 2
						}
					}
				}
			}
		}
	}

	option = {
		name = EVTOPTB64100 # I can have her in my castle

		random_list = {
			50 = {
				trigger = { trait = stressed }
				remove_trait_stressed_effect = yes
			}

			25 = {
				event_target:target_lover = {
					show_scope_change = no

					impregnate_cuckoo = ROOT
				}

				hidden_effect = {
					ROOT = {
						character_event = {
							id = 64101
							days = 2
							random = 2
						}
					}
				}
			}

			25 = {
				spouse = {
					character_event = {
						id = 64102
						tooltip = EVTTOOLTIP64102
					}
				}
			}
		}
	}

	option = {
		name = EVTOPTC64100 # I don't need comfort

		random_list = {
			50 = {
			}

			25 = {
				trigger = {
					NOT = { trait = proud }
				}

				tooltip = {
					remove_trait_silently_humble_effect = yes
					add_trait = proud
				}

				hidden_effect = {
					remove_trait_silently_humble_effect = yes
					add_trait_proud_effect = yes
				}
			}

			25 = {
				event_target:target_lover = {
					show_scope_change = no

					character_event = {
						id = 64046
						tooltip = EVTTOOLTIP64046
					}
				}
			}
		}
	}
}

# I am going to be a father
character_event = {
	id = 64101
	desc = EVTDESC64101
	picture = GFX_evt_pregnancy

	is_triggered_only = yes

	option = {
		name = EVTOPTA64101

		prestige = 5
	}
}

# My husband is unfaithful!
character_event = {
	id = 64102
	desc = EVTDESC64102
	picture = GFX_evt_quarrel

	is_triggered_only = yes

	option = {
		name = EVTOPTA64102

		if = {
			limit = {
				NOT = { trait = wroth }
			}

			remove_trait_silently_patient_effect = yes
			add_trait = wroth
		}

		opinion = {
			name = opinion_angry
			who = FROM
			years = 5
		}
	}
}

# FALLOUT!
character_event = {
	id = 64105
	desc = EVTDESC64105
	picture = GFX_evt_quarrel

	is_triggered_only = yes

	option = {
		name = EVTOPTA64105

		remove_lover = spouse
		add_rival = spouse

		opinion = {
			name = grievously_offended
			who = spouse
			years = 10
		}
	}
}

# Your spouse has grown suspicious of your behaviour
character_event = {
	id = 64110
	desc = EVTDESC64110
	picture = GFX_evt_quarrel

	only_rulers = yes
	is_married = yes
	min_age = 16
	only_capable = yes
	prisoner = no
	lacks_dlc = "Way of Life"
	war = no

	trigger = {
		in_command_trigger = no

		spouse = {
			is_alive = yes
			is_incapable = no
			is_abroad = no
			prisoner = no
		}

		any_lover = {
			is_incapable = no
			prisoner = no

			NOR = {
				is_married = ROOT
				is_consort = ROOT
				ROOT = { is_consort = PREV }
			}
		}
	}

	mean_time_to_happen = {
		years = 30
	}

	option = {
		name = EVTOPTA64110 # Tell her it's none of her business

		random_list = {
			50 = {
				spouse = {
					show_scope_change = no

					character_event = {
						id = 64105
						tooltip = EVTTOOLTIP64105 # FALLOUT!
					}
				}
			}

			25 = {
				trigger = {
					NOT = { trait = proud }
				}

				tooltip = {
					remove_trait_silently_humble_effect = yes
					add_trait = proud
				}

				hidden_effect = {
					remove_trait_silently_humble_effect = yes
					add_trait_proud_effect = yes
				}
			}

			25 = {
			}
		}
	}

	option = {
		name = EVTOPTB64110 # Tell her you do important things

		random_list = {
			50 = {
			}

			25 = {
				trigger = {
					NOT = { trait = deceitful }
				}

				tooltip = {
					remove_trait_silently_honest_effect = yes
					add_trait = deceitful
				}

				hidden_effect = {
					remove_trait_silently_honest_effect = yes
					add_trait_deceitful_effect = yes
				}
			}

			25 = {
				spouse = {
					show_scope_change = no

					character_event = {
						id = 64105
						tooltip = EVTTOOLTIP64105 # FALLOUT!
					}
				}
			}
		}
	}

	option = {
		name = EVTOPTC64110 # Make empty promises to her about spending more time

		random_list = {
			70 = {
			}

			20 = {
				trigger = {
					NOT = { trait = deceitful }
				}

				tooltip = {
					remove_trait_silently_honest_effect = yes
					add_trait = deceitful
				}

				hidden_effect = {
					remove_trait_silently_honest_effect = yes
					add_trait_deceitful_effect = yes
				}
			}

			10 = {
				spouse = {
					show_scope_change = no

					character_event = {
						id = 64105
						tooltip = EVTTOOLTIP64105 # FALLOUT!
					}
				}
			}
		}
	}

	option = {
		name = EVTOPTD64110 # Spend more time at home as she wishes

		random_list = {
			50 = {
			}

			25 = {
				trigger = {
					NOT = { trait = humble }
				}

				tooltip = {
					remove_trait_silently_proud_effect = yes
					add_trait = humble
				}

				hidden_effect = {
					remove_trait_silently_proud_effect = yes
					add_trait_humble_effect = yes
				}
			}

			25 = {
				random_lover = {
					limit = {
						is_incapable = no
						prisoner = no

						NOR = {
							is_married = ROOT
							is_consort = ROOT
							ROOT = { is_consort = PREV }
						}
					}

					character_event = {
						id = 64046
						tooltip = EVTTOOLTIP64046
					}
				}
			}
		}
	}
}

# Lover thinks you love spouse more than him/her
character_event = {
	id = 64115
	desc = EVTDESC64115
	picture = GFX_evt_quarrel

	only_rulers = yes
	is_married = yes
	min_age = 16
	prisoner = no
	only_capable = yes
	lacks_dlc = "Way of Life"
	war = no

	trigger = {
		in_command_trigger = no

		trigger_if = {
			limit = { is_female = yes }
			is_pregnant = no
		}

		spouse = {
			is_alive = yes
			is_abroad = no
			prisoner = no
			is_incapable = no
		}

		any_lover = {
			trigger_if = {
				limit = { is_female = yes }
				is_pregnant = no
			}

			is_consort = no
			prisoner = no
			is_abroad = no
			is_incapable = no
			NOT = { is_married = ROOT }
		}
	}

	mean_time_to_happen = {
		years = 30
	}

	immediate = {
		random_lover = {
			limit = {
				trigger_if = {
					limit = { is_female = yes }
					is_pregnant = no
				}

				is_consort = no
				prisoner = no
				is_abroad = no
				is_incapable = no
				NOT = { is_married = ROOT }
			}

			save_event_target_as = target_lover
		}
	}

	option = {
		name = EVTOPTA64115 # Buy him/her an expensive gift to prove your love

		scaled_wealth = -0.2

		random = {
			chance = 25

			spouse = {
				show_scope_change = no

				character_event = {
					id = 64105
					tooltip = EVTTOOLTIP64105 # FALLOUT!
				}
			}
		}
	}

	option = {
		name = EVTOPTB64115 # Take him/her to your country manor for some quality time

		if = {
			limit = {
				NOT = { trait = lustful }
			}

			random = {
				chance = 75

				tooltip = {
					remove_trait_silently_chaste_effect = yes
					add_trait = lustful
				}

				hidden_effect = {
					remove_trait_silently_chaste_effect = yes
					add_trait_lustful_effect = yes
				}
			}
		}

		random = {
			chance = 50

			spouse = {
				show_scope_change = no

				character_event = {
					id = 64105
					tooltip = EVTTOOLTIP64105 # FALLOUT!
				}
			}
		}
	}

	option = {
		name = EVTOPTC64115 # Assure him/her of him/her importance by words only

		random_list = {
			50 = {
			}

			30 = {
				trigger = {
					NOT = { trait = slothful }
				}

				tooltip = {
					remove_trait_silently_diligent_effect = yes
					add_trait = slothful
				}

				hidden_effect = {
					remove_trait_silently_diligent_effect = yes
					add_trait_slothful_effect = yes
				}
			}

			10 = {
				spouse = {
					show_scope_change = no

					character_event = {
						id = 64105
						tooltip = EVTTOOLTIP64105 # FALLOUT!
					}
				}
			}

			10 = {
				event_target:target_lover = {
					show_scope_change = no

					character_event = {
						id = 64046
						tooltip = EVTTOOLTIP64046
					}
				}
			}
		}
	}

	option = {
		name = EVTOPTD64115 # Tell him/her that s/he is absolutely correct

		random_list = {
			50 = {
				trigger = {
					NOT = { trait = cruel }
				}

				tooltip = {
					remove_trait_silently_kind_effect = yes
					add_trait = cruel
				}

				hidden_effect = {
					remove_trait_silently_kind_effect = yes
					add_trait_cruel_effect = yes
				}
			}

			50 = {
				trigger = {
					NOT = { trait = honest }
				}

				tooltip = {
					remove_trait_silently_deceitful_effect = yes
					add_trait = honest
				}

				hidden_effect = {
					remove_trait_silently_deceitful_effect = yes
					add_trait_honest_effect = yes
				}
			}
		}

		event_target:target_lover = {
			show_scope_change = no

			character_event = {
				id = 64046
				tooltip = EVTTOOLTIP64046
			}
		}
	}
}

# Your spouse has made your adulterous affair public!
character_event = {
	id = 64120
	desc = EVTDESC64120
	picture = GFX_evt_scandal

	only_rulers = yes
	is_married = yes
	min_age = 16
	only_capable = yes
	prisoner = no
	lacks_dlc = "Way of Life"
	war = no

	trigger = {
		has_lover = yes
		in_command_trigger = no

		any_lover = {
			NOT = { is_married = ROOT }
		}

		spouse = {
			opinion = {
				who = ROOT
				value < -20
			}

			is_abroad = no
			prisoner = no
			NOT = { has_character_flag = adulterous_affair_public }
		}
	}

	mean_time_to_happen = {
		years = 30
	}

	option = {
		name = EVTOPTA64120 # Disown affair

		spouse = {
			set_character_flag = adulterous_affair_public
		}

		prestige = -25

		any_lover = {
			show_scope_change = no

			limit = {
				NOT = { is_married = ROOT }
			}

			character_event = {
				id = 64046
				tooltip = EVTTOOLTIP64046
			}
		}

		random_list = {
			50 = {
				if = {
					limit = { religion_group = muslim }
					piety = 5
				}
				else_if = {
					limit = {
						NOT = { trait = chaste }
					}

					tooltip = {
						remove_trait_silently_lustful_effect = yes
						add_trait = chaste
					}

					hidden_effect = {
						remove_trait_silently_lustful_effect = yes
						add_trait_chaste_effect = yes
					}
				}
			}

			50 = {
				trigger = {
					NOT = { trait = humble }
				}

				tooltip = {
					remove_trait_silently_proud_effect = yes
					add_trait = humble
				}

				hidden_effect = {
					remove_trait_silently_proud_effect = yes
					add_trait_humble_effect = yes
				}
			}
		}
	}

	option = {
		name = EVTOPTB64120 # Disregard her talks

		spouse = {
			set_character_flag = adulterous_affair_public
		}

		piety = -25

		random = {
			chance = 25

			add_trait_cynical_effect = yes
		}
	}
}

# Your wife has humiliated you publicly by too open association with her lover
character_event = {
	id = 64125
	desc = EVTDESC64125
	picture = GFX_evt_scandal

	only_rulers = yes
	only_men = yes
	is_married = yes
	min_age = 16
	only_capable = yes
	prisoner = no
	lacks_dlc = "Way of Life"
	war = no

	trigger = {
		has_lover = no
		in_command_trigger = no

		spouse = {
			has_lover = yes
			is_abroad = no
			prisoner = no
			is_ruler = no
		}
	}

	mean_time_to_happen = {
		years = 30
	}

	option = {
		name = EVTOPTA64125 # Bear it stoically

		prestige = -50

		if = {
			limit = {
				NOR = {
					trait = berserker
					trait = craven
				}
			}

			random = {
				chance = 10

				tooltip = {
					remove_trait_silently_brave_effect = yes
					add_trait = craven
				}

				hidden_effect = {
					remove_trait_silently_brave_effect = yes
					add_trait_craven_effect = yes
				}
			}
		}
	}

	option = {
		name = EVTOPTB64125 # Arrest him

		trigger = {
			spouse = {
				any_lover = {
					is_vassal_or_below = ROOT
				}
			}
		}

		prestige = -10

		spouse = {
			show_scope_change = no

			random_lover = {
				show_scope_change = no

				limit = { is_vassal_or_below_of = ROOT }

				imprison = ROOT
				character_event = { id = 64126 }

				any_dynasty_member = {
					show_scope_change = no

					opinion = {
						name = opinion_angry
						who = ROOT
						years = 2
					}
				}
			}
		}
	}

	option = {
		name = EVTOPTC64125 # Arrest her

		prestige = -20

		spouse = {
			show_scope_change = no

			imprison = ROOT
			character_event = { id = 64127 }

			any_dynasty_member = {
				show_scope_change = no

				opinion = {
					name = opinion_angry
					who = ROOT
					years = 2
				}
			}
		}
	}

	option = {
		name = EVTOPTD64125 # Arrest both of them

		trigger = {
			spouse = {
				any_lover = {
					is_vassal_or_below_of = ROOT
				}
			}
		}

		prestige = -25

		spouse = {
			show_scope_change = no

			random_lover = {
				show_scope_change = no

				limit = { is_vassal_or_below_of = ROOT }


				imprison = ROOT
				character_event = { id = 64126 }

				any_dynasty_member = {
					show_scope_change = no

					opinion = {
						name = opinion_angry
						who = ROOT
						years = 2
					}
				}
			}

			imprison = ROOT
			character_event = { id = 64127 }

			any_dynasty_member = {
				show_scope_change = no

				opinion = {
					name = opinion_angry
					who = ROOT
					years = 2
				}
			}
		}
	}
}

# Wife's lover is imprisoned
character_event = {
	id = 64126
	desc = EVTDESC64126
	picture = GFX_evt_into_the_dungeon

	is_triggered_only = yes

	ai = no

	option = {
		name = EVTOPTA64126
	}
}

# Wife is imprisoned
character_event = {
	id = 64127
	desc = EVTDESC64127
	picture = GFX_evt_into_the_dungeon

	is_triggered_only = yes

	ai = no

	option = {
		name = EVTOPTA64127
	}
}

# Being married to someone you love is a blissful state
character_event = {
	id = 64130
	desc = EVTDESC64130
	picture = GFX_evt_lovers
	border = GFX_event_normal_frame_religion

	is_married = yes
	min_age = 16
	only_capable = yes
	prisoner = no

	trigger = {
		OR = {
			trait = stressed
			trait = depressed
			trait = ill
		}

		any_spouse = {
			is_lover = ROOT
			prisoner = no
			is_incapable = no
			in_command = no
		}

		in_command_trigger = no
		NOT = { has_character_modifier = blissful_timer }
	}

	mean_time_to_happen = {
		years = 20

		mult_modifier = {
			factor = 0.5
			trait = kind
		}

		mult_modifier = {
			factor = 0.5

			OR = {
				has_focus = focus_family

				any_spouse = {
					is_lover = ROOT
					has_focus = focus_family
				}
			}
		}

		mult_modifier = {
			factor = 0.75
			trait = charitable
		}

		mult_modifier = {
			factor = 1.25
			trait = wroth
		}

		mult_modifier = {
			factor = 1.5
			trait = envious
		}

		mult_modifier = {
			factor = 1.5
			trait = arbitrary
		}

		mult_modifier = {
			factor = 5.0
			trait = cruel
		}
	}

	immediate = {
		add_character_modifier = {
			name = blissful_timer
			years = 5
			hidden = yes
		}
	}

	option = {
		name = EVTOPTA64130

		trigger = { trait = stressed }

		remove_trait = stressed
	}

	option = {
		name = EVTOPTB64130

		trigger = { trait = ill }

		remove_trait = ill
	}

	option = {
		name = EVTOPTC64130

		trigger = { trait = depressed }

		remove_trait = depressed
	}
}

# You want to give a special surprise to your loved one, what shall it be?
character_event = {
	id = 64135
	desc = EVTDESC64135
	picture = GFX_evt_market

	only_rulers = yes
	is_married = no
	min_age = 16
	only_capable = yes
	lacks_dlc = "Way of Life"
	war = no

	trigger = {
		has_lover = yes
		is_inaccessible_trigger = no
		in_command_trigger = no

		any_lover = {
			is_abroad = no
			prisoner = no
		}
	}

	mean_time_to_happen = {
		years = 50

		mult_modifier = {
			factor = 0.5
			trait = kind
		}

		mult_modifier = {
			factor = 0.5
			trait = charitable
		}

		mult_modifier = {
			factor = 1.5
			trait = wroth
		}

		mult_modifier = {
			factor = 1.5
			trait = cruel
		}

		mult_modifier = {
			factor = 2.5
			trait = depressed
		}
	}

	immediate = {
		random_lover = {
			limit = {
				is_abroad = no
				prisoner = no
			}

			save_event_target_as = target_lover
		}
	}

	option = {
		name = EVTOPTA64135 # I shall craft a love poem

		event_target:target_lover = {
			show_scope_change = no

			random = {
				chance = 50

				add_character_modifier = {
					name = love_poem
					years = 1
				}
			}
		}
	}

	option = {
		name = EVTOPTB64135

		event_target:target_lover = {
			show_scope_change = no

			add_character_modifier = {
				name = beautiful_flower
				years = 1
			}
		}
	}

	option = {
		name = EVTOPTC64135

		scaled_wealth = -0.05

		event_target:target_lover = {
			show_scope_change = no

			add_character_modifier = {
				name = precious_item
				years = 1
			}
		}
	}
}

# Being separated from your love by the needs of war is heart-aching
character_event = {
	id = 64140
	desc = EVTDESC64140
	picture = GFX_evt_bad_news

	only_men = yes
	war = yes
	in_command = yes
	min_age = 16
	only_capable = yes
	prisoner = no
	lacks_dlc = "Way of Life"

	trigger = {
		num_of_lovers == 1
		personality_traits < 7

		NOR = {
			trait = honest
			trait = chaste
			trait = deceitful
		}
	}

	mean_time_to_happen = {
		years = 100

		mult_modifier = {
			factor = 0.5
			trait = stressed
		}

		mult_modifier = {
			factor = 0.5
			trait = depressed
		}
	}

	option = {
		name = EVTOPTA64140

		if = {
			limit = {
				NOT = { trait = honest }
			}

			random = {
				chance = 25

				tooltip = {
					remove_trait_silently_deceitful_effect = yes
					add_trait = honest
				}

				hidden_effect = {
					remove_trait_silently_deceitful_effect = yes
					add_trait_honest_effect = yes
				}
			}
		}
	}

	option = {
		name = EVTOPTB64140

		trigger = {
			NOT = { religion_group = muslim }
		}

		random_list = {
			50 = {
			}

			25 = {
				trigger = {
					NOT = { trait = zealous }
				}

				tooltip = {
					remove_trait_silently_cynical_effect = yes
					add_trait = zealous
				}

				hidden_effect = {
					remove_trait_silently_deceitful_effect = yes
					add_trait_zealous_effect = yes
				}
			}

			25 = {
				trigger = {
					NOT = { trait = chaste }
				}

				tooltip = {
					remove_trait_silently_lustful_effect = yes
					add_trait = chaste
				}

				hidden_effect = {
					remove_trait_silently_lustful_effect = yes
					add_trait_chaste_effect = yes
				}
			}
		}
	}

	option = {
		name = EVTOPTC64140

		add_trait_silently_deceitful_effect = yes

		random = {
			chance = 25

			character_event = {
				id = 64045
				tooltip = EVTTOOLTIP64045
			}
		}
	}

	option = {
		name = EVTOPTD64140

		trigger = { religion_group = muslim }

		random_list = {
			50 = {
			}

			25 = {
				trigger = {
					NOT = { trait = zealous }
				}

				tooltip = {
					remove_trait_silently_cynical_effect = yes
					add_trait = zealous
				}

				hidden_effect = {
					remove_trait_silently_deceitful_effect = yes
					add_trait_zealous_effect = yes
				}
			}

			25 = {
				piety = 5
			}
		}
	}
}