# On-action combat event: Killed in action
character_event = {
	id = 242
	desc = EVTDESC242
	picture = GFX_evt_death
	border = GFX_event_normal_frame_war

	is_triggered_only = yes

	trigger = {
		always = no # THIS is how you disable an event, Paradox
		NOT = { trait = berserker }
	}

	weight_multiplier = {
		days = 1

		mult_modifier = {
			factor = 0.1
			trait = immortal
		}

		mult_modifier = {
			factor = 1.5
			trait = brave
		}

		mult_modifier = {
			factor = 0.5
			trait = craven
		}

		mult_modifier = {
			factor = 1.25
			trait = clubfooted
		}

		mult_modifier = {
			factor = 1.25
			trait = hunchback
		}

		mult_modifier = {
			factor = 1.1
			trait = lisp
		}

		mult_modifier = {
			factor = 1.1
			trait = stutter
		}

		mult_modifier = {
			factor = 1.25
			trait = dwarf
		}

		mult_modifier = {
			factor = 0.9
			trait = genius
		}

		mult_modifier = {
			factor = 0.9

			OR = {
				trait = quick
				trait = shrewd
			}
		}

		mult_modifier = {
			factor = 2.0

			OR = {
				trait = slow
				trait = dull
			}
		}

		mult_modifier = {
			factor = 3.0
			trait = imbecile
		}

		mult_modifier = {
			factor = 3.0
			trait = inbred
		}

		mult_modifier = {
			factor = 0.7
			is_strong_trigger = yes
		}

		mult_modifier = {
			factor = 2.5
			is_weak_trigger = yes
		}

		mult_modifier = {
			factor = 1.25
			trait = stressed
		}

		mult_modifier = {
			factor = 1.25
			trait = depressed
		}

		mult_modifier = {
			factor = 1.5
			trait = lunatic
		}

		mult_modifier = {
			factor = 1.5
			trait = possessed
		}

		mult_modifier = {
			factor = 1.1
			is_ill = yes
		}

		mult_modifier = {
			factor = 1.15
			trait = pneumonic
		}

		mult_modifier = {
			factor = 1.15
			trait = syphilitic
		}

		mult_modifier = {
			factor = 2.0
			trait = leper
		}

		mult_modifier = {
			factor = 1.15
			trait = wounded
		}

		mult_modifier = {
			factor = 1.25
			is_maimed_trigger = yes
		}

		mult_modifier = {
			factor = 2.0
			trait = infirm
		}

		mult_modifier = {
			factor = 3.0
			is_incapable = yes
		}

		mult_modifier = {
			factor = 1.1
			trait = drunkard
		}

		mult_modifier = {
			factor = 1.1
			trait = has_tuberculosis
		}

		mult_modifier = {
			factor = 1.1
			trait = has_typhoid_fever
		}

		mult_modifier = {
			factor = 1.5
			trait = has_typhus
		}

		mult_modifier = {
			factor = 1.5
			trait = has_bubonic_plague
		}

		mult_modifier = {
			factor = 1.1
			trait = has_measles
		}

		mult_modifier = {
			factor = 1.1
			trait = has_small_pox
		}
	}

	immediate = {
		if = {
			limit = { independent = no }

			liege = {
				character_event = { id = 253 }
			}
		}

		#check for chance of martyr trait during crusade/jihad
		martyr_check = yes
		FROMFROM = {
			if = {
				limit = {
					NOR = {
						character = ROOT
						is_liege_or_above_of = ROOT
					}
				}

				set_character_flag = temp_battle_kill_242
				character_event = { id = 249 }
			}
		}

		FROM = {
			if = {
				limit = {
					NOR = {
						has_character_flag = temp_battle_kill_242
						is_liege_or_above_of = ROOT
						character = ROOT
					}
				}
				character_event = { id = 249 }
			}
		}

		FROMFROM = {
			clr_character_flag = temp_battle_kill_242
		}

		if = {
			limit = {
				OR = {
					is_vassal_or_below_of = FROM
					character = FROM
					NOT = { FROM = { always = yes } }
				}
			}

			death = {
				death_reason = death_battle
			}
		}
		else = {
			death = {
				death_reason = death_battle
				killer = FROM
			}
		}
	}

	option = {
		name = ALAS
	}
}

# On-action combat event: Wounded in action
character_event = {
	id = 243
	desc = EVTDESC243
	picture = GFX_evt_battle
	border = GFX_event_normal_frame_war

	is_triggered_only = yes

	trigger = {
		always = no # THIS is how you disable an event, Paradox
		is_alive = yes
		can_be_maimed_trigger = yes
		immortal = no

		NOR = {
			trait = wounded
			trait = berserker
		}
	}

	weight_multiplier = {
		days = 1

		mult_modifier = {
			factor = 5
			has_character_modifier = proving_bravery
		}

		mult_modifier = {
			factor = 1.5
			trait = brave
		}

		mult_modifier = {
			factor = 0.5
			trait = craven
		}

		mult_modifier = {
			factor = 1.25
			trait = clubfooted
		}

		mult_modifier = {
			factor = 1.25
			trait = hunchback
		}

		mult_modifier = {
			factor = 1.1
			trait = lisp
		}

		mult_modifier = {
			factor = 1.1
			trait = stutter
		}

		mult_modifier = {
			factor = 1.25
			trait = dwarf
		}

		mult_modifier = {
			factor = 0.9
			trait = genius
		}

		mult_modifier = {
			factor = 0.9

			OR = {
				trait = quick
				trait = shrewd
			}
		}

		mult_modifier = {
			factor = 2.0

			OR = {
				trait = slow
				trait = dull
			}
		}

		mult_modifier = {
			factor = 3.0
			trait = imbecile
		}

		mult_modifier = {
			factor = 3.0
			trait = inbred
		}

		mult_modifier = {
			factor = 0.7
			is_strong_trigger = yes
		}

		mult_modifier = {
			factor = 2.5
			is_weak_trigger = yes
		}

		mult_modifier = {
			factor = 1.25
			trait = stressed
		}

		mult_modifier = {
			factor = 1.5
			trait = depressed
		}

		mult_modifier = {
			factor = 3.0
			trait = lunatic
		}

		mult_modifier = {
			factor = 2.0
			trait = possessed
		}

		mult_modifier = {
			factor = 1.1
			is_ill = yes
		}

		mult_modifier = {
			factor = 1.15
			trait = pneumonic
		}

		mult_modifier = {
			factor = 1.15
			trait = syphilitic
		}

		mult_modifier = {
			factor = 2.0
			trait = leper
		}

		mult_modifier = {
			factor = 1.25
			is_maimed_trigger = yes
		}

		mult_modifier = {
			factor = 2.0
			trait = infirm
		}

		mult_modifier = {
			factor = 3.0
			is_incapable = yes
		}

		mult_modifier = {
			factor = 1.1
			trait = drunkard
		}

		mult_modifier = {
			factor = 1.1
			trait = has_tuberculosis
		}

		mult_modifier = {
			factor = 1.1
			trait = has_typhoid_fever
		}

		mult_modifier = {
			factor = 1.5
			trait = has_typhus
		}

		mult_modifier = {
			factor = 1.5
			trait = has_bubonic_plague
		}

		mult_modifier = {
			factor = 1.1
			trait = has_measles
		}

		mult_modifier = {
			factor = 1.1
			trait = has_small_pox
		}
	}

	option = {
		name = CURSES

		add_trait = wounded
		if = {
			limit = {
				is_ruler = yes
				religion_group = muslim
			}
			piety = 10
		}
	}
}

# On-action combat event: Maimed in action
character_event = {
	id = 244
	desc = EVTDESC244
	picture = GFX_evt_battle
	border = GFX_event_normal_frame_war

	is_triggered_only = yes

	trigger = {
		always = no # THIS is how you disable an event, Paradox
		is_alive = yes
		immortal = no

		NOR = {
			trait = maimed
			trait = mangled
			trait = berserker
		}

		NAND = {
			trait = one_eyed
			trait = one_handed
			trait = one_legged
			trait = disfigured
		}
	}

	weight_multiplier = {
		days = 1

		mult_modifier = {
			factor = 5
			has_character_modifier = proving_bravery
		}

		mult_modifier = {
			factor = 1.5
			trait = brave
		}

		mult_modifier = {
			factor = 0.5
			trait = craven
		}

		mult_modifier = {
			factor = 1.25
			trait = clubfooted
		}

		mult_modifier = {
			factor = 1.25
			trait = hunchback
		}

		mult_modifier = {
			factor = 1.1
			trait = lisp
		}

		mult_modifier = {
			factor = 1.1
			trait = stutter
		}

		mult_modifier = {
			factor = 1.25
			trait = dwarf
		}

		mult_modifier = {
			factor = 0.9
			trait = genius
		}

		mult_modifier = {
			factor = 0.9

			OR = {
				trait = quick
				trait = shrewd
			}
		}

		mult_modifier = {
			factor = 2.0

			OR = {
				trait = slow
				trait = dull
			}
		}

		mult_modifier = {
			trait = imbecile
			factor = 3.0
		}

		mult_modifier = {
			trait = inbred
			factor = 3.0
		}

		mult_modifier = {
			is_strong_trigger = yes
			factor = 0.7
		}

		mult_modifier = {
			is_weak_trigger = yes
			factor = 2.5
		}

		mult_modifier = {
			factor = 1.25
			trait = stressed
		}

		mult_modifier = {
			factor = 1.5
			trait = depressed
		}

		mult_modifier = {
			factor = 3.0
			trait = lunatic
		}

		mult_modifier = {
			factor = 2.0
			trait = possessed
		}

		mult_modifier = {
			factor = 1.1
			is_ill = yes
		}

		mult_modifier = {
			factor = 1.15
			trait = pneumonic
		}

		mult_modifier = {
			factor = 1.15
			trait = syphilitic
		}

		mult_modifier = {
			factor = 2.0
			trait = leper
		}

		mult_modifier = {
			factor = 1.15
			trait = wounded
		}

		mult_modifier = {
			factor = 2.0
			trait = infirm
		}

		mult_modifier = {
			factor = 3.0
			is_incapable = yes
		}

		mult_modifier = {
			factor = 1.1
			trait = drunkard
		}

		mult_modifier = {
			factor = 1.1
			trait = has_tuberculosis
		}

		mult_modifier = {
			factor = 1.1
			trait = has_typhoid_fever
		}

		mult_modifier = {
			factor = 1.5
			trait = has_typhus
		}

		mult_modifier = {
			factor = 1.5
			trait = has_bubonic_plague
		}

		mult_modifier = {
			factor = 1.1
			trait = has_measles
		}

		mult_modifier = {
			factor = 1.1
			trait = has_small_pox
		}
	}

	option = {
		name = CURSES

		add_maimed_trait_effect = yes
		if = {
			limit = {
				is_ruler = yes
				religion_group = muslim
			}
			piety = 10
		}
	}
}

# On-action combat event: Serious head injury in action
character_event = {
	id = 245
	picture = GFX_evt_battle
	border = GFX_event_normal_frame_war

	desc = {
		text = EVTDESC245
		trigger = { has_character_flag = wounded_incapable }
	}
	desc = {
		text = 245.d2
		trigger = { has_character_flag = wounded_disfigured }
	}

	is_triggered_only = yes

	immediate = {
		if = {
			limit = { has_dlc = "Reapers" }

			random_list = {
				60 = {
					trigger = {
						NOT = { trait = disfigured }
					}

					set_character_flag = wounded_disfigured
				}

				40 = {
					set_character_flag = wounded_incapable
				}
			}
		}
	}

	trigger = {
		always = no # THIS is how you disable an event, Paradox
		is_alive = yes
 		is_incapable = no
 		immortal = no
	}

	weight_multiplier = {
		days = 1

		mult_modifier = {
			factor = 5
			has_character_modifier = proving_bravery
		}

		mult_modifier = {
			factor = 1.5
			trait = brave
		}

		mult_modifier = {
			factor = 0.5
			trait = craven
		}

		mult_modifier = {
			factor = 1.25
			trait = clubfooted
		}

		mult_modifier = {
			factor = 1.25
			trait = hunchback
		}

		mult_modifier = {
			factor = 1.1
			trait = lisp
		}

		mult_modifier = {
			factor = 1.1
			trait = stutter
		}

		mult_modifier = {
			factor = 1.25
			trait = dwarf
		}

		mult_modifier = {
			factor = 0.9
			trait = genius
		}

		mult_modifier = {
			factor = 0.9

			OR = {
				trait = quick
				trait = shrewd
			}
		}

		mult_modifier = {
			factor = 2.0

			OR = {
				trait = slow
				trait = dull
			}
		}

		mult_modifier = {
			factor = 3.0
			trait = imbecile
		}

		mult_modifier = {
			factor = 3.0
			trait = inbred
		}

		mult_modifier = {
			factor = 0.7
			is_strong_trigger = yes
		}

		mult_modifier = {
			factor = 2.5
			is_weak_trigger = yes
		}

		mult_modifier = {
			factor = 1.25
			trait = stressed
		}

		mult_modifier = {
			factor = 1.5
			trait = depressed
		}

		mult_modifier = {
			factor = 1.5
			trait = lunatic
		}

		mult_modifier = {
			factor = 2.0
			trait = possessed
		}

		mult_modifier = {
			factor = 1.1
			is_ill = yes
		}

		mult_modifier = {
			factor = 1.15
			trait = pneumonic
		}

		mult_modifier = {
			factor = 1.15
			trait = syphilitic
		}

		mult_modifier = {
			factor = 2.0
			trait = leper
		}

		mult_modifier = {
			factor = 1.15
			trait = wounded
		}

		mult_modifier = {
			factor = 1.25
			is_maimed_trigger = yes
		}

		mult_modifier = {
			factor = 2.0
			trait = infirm
		}

		mult_modifier = {
			factor = 1.1
			trait = drunkard
		}

		mult_modifier = {
			factor = 1.1
			trait = has_tuberculosis
		}

		mult_modifier = {
			factor = 1.1
			trait = has_typhoid_fever
		}

		mult_modifier = {
			factor = 1.5
			trait = has_typhus
		}

		mult_modifier = {
			factor = 1.5
			trait = has_bubonic_plague
		}

		mult_modifier = {
			factor = 1.1
			trait = has_measles
		}

		mult_modifier = {
			factor = 1.1
			trait = has_small_pox
		}
	}

	option = {
		name = CURSES
		if = {
			limit = {
				NOT = { has_dlc = "Reapers" }
			}
			add_trait = incapable
		}
		else_if = {
			limit = { has_character_flag = wounded_disfigured }

			add_trait = disfigured
			add_trait = severely_injured
			resolve_severely_injured_effect = yes
			clr_character_flag = wounded_disfigured
		}
		else_if = {
			limit = { has_character_flag = wounded_incapable }

			add_trait = incapable
			clr_character_flag = wounded_incapable
		}
		if = {
			limit = {
				is_ruler = yes
				religion_group = muslim
			}
			piety = 10
		}
	}
}

# On-action combat event: Character skill improves
character_event = {
	id = 246
	desc = EVTDESC246
	picture = GFX_evt_battle
	border = GFX_event_normal_frame_war

	is_triggered_only = yes

	trigger = {
		always = no # THIS is how you disable an event, Paradox
		is_alive = yes

		OR = {
			trait = misguided_warrior
			trait = tough_soldier
			trait = skilled_tactician
		}
	}

	weight_multiplier = {
		days = 1

		mult_modifier = {
			factor = 1.5
			trait = brave
		}

		mult_modifier = {
			factor = 0.5
			trait = craven
		}

		mult_modifier = {
			factor = 1.2
			trait = genius
		}

		mult_modifier = {
			factor = 1.1

			OR = {
				trait = quick
				trait = shrewd
			}
		}

		mult_modifier = {
			factor = 0.9

			OR = {
				trait = slow
				trait = dull
			}
		}

		mult_modifier = {
			factor = 0.2
			trait = imbecile
		}

		mult_modifier = {
			factor = 0.2
			trait = inbred
		}

		mult_modifier = {
			factor = 1.5
			is_strong_trigger = yes
		}

		mult_modifier = {
			factor = 0.8
			is_weak_trigger = yes
		}

		mult_modifier = {
			factor = 0.9
			trait = stressed
		}

		mult_modifier = {
			factor = 0.8
			trait = depressed
		}

		mult_modifier = {
			factor = 0.5
			trait = lunatic
		}

		mult_modifier = {
			factor = 0.75
			trait = possessed
		}

		mult_modifier = {
			factor = 0.9
			is_ill = yes
		}

		mult_modifier = {
			factor = 0.8
			trait = pneumonic
		}

		mult_modifier = {
			factor = 0.8
			trait = syphilitic
		}

		mult_modifier = {
			factor = 0.5
			trait = leper
		}

		mult_modifier = {
			factor = 0.9
			trait = wounded
		}

		mult_modifier = {
			factor = 0.8
			is_maimed_trigger = yes
		}

		mult_modifier = {
			factor = 0.5
			trait = infirm
		}

		mult_modifier = {
			factor = 0.4
			is_incapable = yes
		}

		mult_modifier = {
			factor = 0.5
			trait = drunkard
		}

		mult_modifier = {
			factor = 0.5
			trait = has_tuberculosis
		}

		mult_modifier = {
			factor = 0.5
			trait = has_typhoid_fever
		}

		mult_modifier = {
			factor = 0.5
			trait = has_typhus
		}

		mult_modifier = {
			factor = 0.5
			trait = has_bubonic_plague
		}

		mult_modifier = {
			factor = 0.5
			trait = has_measles
		}

		mult_modifier = {
			factor = 0.5
			trait = has_small_pox
		}
	}

	option = {
		name = EXCELLENT

		if = {
			limit = { trait = skilled_tactician }

			remove_trait = skilled_tactician
			add_trait = brilliant_strategist
		}
		else_if = {
			limit = { trait = tough_soldier }

			remove_trait = tough_soldier
			add_trait = skilled_tactician
		}
		else_if = {
			limit = { trait = misguided_warrior }

			remove_trait = misguided_warrior
			add_trait = tough_soldier
		}
		if = {
			limit = {
				is_ruler = yes
				religion_group = muslim
			}
			piety = 10
		}
	}
}

# On-action combat event: Flat improvement to martial skill
character_event = {
	id = 247
	desc = evt_CK2_247_desc_a
	picture = GFX_evt_battle
	border = GFX_event_normal_frame_war

	is_triggered_only = yes
	notification = yes

	trigger = {
		always = no # THIS is how you disable an event, Paradox
		martial < 20
		is_alive = yes
	}

	weight_multiplier = {
		days = 1

		mult_modifier = {
			factor = 1.5
			trait = brave
		}

		mult_modifier = {
			factor = 0.5
			trait = craven
		}

		mult_modifier = {
			factor = 1.2
			trait = genius
		}

		mult_modifier = {
			factor = 1.1

			OR = {
				trait = quick
				trait = shrewd
			}
		}

		mult_modifier = {
			factor = 0.9

			OR = {
				trait = slow
				trait = dull
			}
		}

		mult_modifier = {
			factor = 0.2
			trait = imbecile
		}

		mult_modifier = {
			factor = 0.2
			trait = inbred
		}

		mult_modifier = {
			factor = 1.5
			is_strong_trigger = yes
		}

		mult_modifier = {
			factor = 0.8
			is_weak_trigger = yes
		}

		mult_modifier = {
			factor = 0.9
			trait = stressed
		}

		mult_modifier = {
			factor = 0.8
			trait = depressed
		}

		mult_modifier = {
			factor = 0.5
			trait = lunatic
		}

		mult_modifier = {
			factor = 0.75
			trait = possessed
		}

		mult_modifier = {
			factor = 0.9
			is_ill = yes
		}

		mult_modifier = {
			factor = 0.8
			trait = pneumonic
		}

		mult_modifier = {
			factor = 0.8
			trait = syphilitic
		}

		mult_modifier = {
			factor = 0.5
			trait = leper
		}

		mult_modifier = {
			factor = 0.9
			trait = wounded
		}

		mult_modifier = {
			factor = 0.8
			is_maimed_trigger = yes
		}

		mult_modifier = {
			factor = 0.5
			trait = infirm
		}

		mult_modifier = {
			factor = 0.4
			is_incapable = yes
		}

		mult_modifier = {
			factor = 0.5
			trait = drunkard
		}

		mult_modifier = {
			factor = 0.5
			trait = has_tuberculosis
		}

		mult_modifier = {
			factor = 0.5
			trait = has_typhoid_fever
		}

		mult_modifier = {
			factor = 0.5
			trait = has_typhus
		}

		mult_modifier = {
			factor = 0.5
			trait = has_bubonic_plague
		}

		mult_modifier = {
			factor = 0.5
			trait = has_measles
		}

		mult_modifier = {
			factor = 0.5
			trait = has_small_pox
		}
	}

	immediate = {
		change_martial = 1
	}

	option = {
		name = EXCELLENT
		if = {
			limit = {
				is_ruler = yes
				religion_group = muslim
			}
			piety = 10
		}
	}
}

# On-action combat event: Tech Increase in Capital
character_event = {
	id = 248
	desc = EVTDESC248
	picture = GFX_evt_battle
	border = GFX_event_normal_frame_war

	is_triggered_only = yes

	trigger = {
		always = no # THIS is how you disable an event, Paradox
		is_landed = yes
		is_alive = yes

		OR = {
			trait = brilliant_strategist
			trait = skilled_tactician
		}

		NOT = { trait = imbecile }
	}

	weight_multiplier = {
		days = 1

		mult_modifier = {
			factor = 3
			has_focus = focus_scholarship
		}

		mult_modifier = {
			factor = 1.5
			trait = brave
		}

		mult_modifier = {
			factor = 0.5
			trait = craven
		}

		mult_modifier = {
			factor = 3.0
			trait = genius
		}

		mult_modifier = {
			factor = 2.0

			OR = {
				trait = quick
				trait = shrewd
			}
		}

		mult_modifier = {
			factor = 0.1

			OR = {
				trait = slow
				trait = dull
			}
		}

		mult_modifier = {
			factor = 0.2
			trait = inbred
		}

		mult_modifier = {
			factor = 0.9
			trait = stressed
		}

		mult_modifier = {
			factor = 0.8
			trait = depressed
		}

		mult_modifier = {
			factor = 0.5
			trait = lunatic
		}

		mult_modifier = {
			factor = 0.75
			trait = possessed
		}

		mult_modifier = {
			factor = 0.9
			is_ill = yes
		}

		mult_modifier = {
			factor = 0.8
			trait = pneumonic
		}

		mult_modifier = {
			factor = 0.8
			trait = syphilitic
		}

		mult_modifier = {
			factor = 0.5
			trait = leper
		}

		mult_modifier = {
			factor = 0.9
			trait = wounded
		}

		mult_modifier = {
			factor = 0.8
			is_maimed_trigger = yes
		}

		mult_modifier = {
			factor = 0.5
			trait = infirm
		}

		mult_modifier = {
			factor = 0.4
			is_incapable = yes
		}

		mult_modifier = {
			factor = 0.5
			trait = drunkard
		}

		mult_modifier = {
			factor = 0.5
			trait = has_tuberculosis
		}

		mult_modifier = {
			factor = 0.5
			trait = has_typhoid_fever
		}

		mult_modifier = {
			factor = 0.5
			trait = has_typhus
		}

		mult_modifier = {
			factor = 0.5
			trait = has_bubonic_plague
		}

		mult_modifier = {
			factor = 0.5
			trait = has_measles
		}

		mult_modifier = {
			factor = 0.5
			trait = has_small_pox
		}
	}

	option = {
		name = EXCELLENT

		capital_scope = {
			show_scope_change = no

			add_province_modifier = {
				name = war_knowledge
				years = 1
			}
		}
	}
}

# Opponent is informed that enemy commander has been killed
character_event = {
	id = 249
	desc = EVTDESC249
	picture = GFX_evt_battle
	border = GFX_event_normal_frame_war

	is_triggered_only = yes

	ai = no

	trigger = {
		always = no # THIS is how you disable an event, Paradox
		is_alive = yes
	}

	option = {
		name = EVTOPTA249
	}
}

# Opponent is informed that enemy commander has been killed
character_event = {
	id = 253
	desc = EVTDESC253
	picture = GFX_evt_battle
	border = GFX_event_normal_frame_war

	is_triggered_only = yes

	ai = no

	trigger = {
		always = no # THIS is how you disable an event, Paradox
		is_alive = yes
	}

	option = {
		name = ALAS
	}
}

# On-action combat event: Becoming Brave
character_event = {
	id = 270
	desc = EVTDESC270
	picture = GFX_evt_battle
	border = GFX_event_normal_frame_war

	is_triggered_only = yes

	trigger = {
		always = no # THIS is how you disable an event, Paradox
		is_alive = yes
		immortal = no

		NOR = {
			trait = brave
			trait = craven
		}
	}

	weight_multiplier = {
		days = 1

		mult_modifier = {
			factor = 5
			has_character_modifier = proving_bravery
		}

		mult_modifier = {
			factor = 1.2
			trait = genius
		}

		mult_modifier = {
			factor = 1.1

			OR = {
				trait = quick
				trait = shrewd
			}
		}

		mult_modifier = {
			factor = 0.9

			OR = {
				trait = slow
				trait = dull
			}
		}

		mult_modifier = {
			factor = 0.2
			trait = imbecile
		}

		mult_modifier = {
			factor = 0.2
			trait = inbred
		}

		mult_modifier = {
			factor = 1.5
			is_strong_trigger = yes
		}

		mult_modifier = {
			factor = 0.8
			is_weak_trigger = yes
		}

		mult_modifier = {
			factor = 0.9
			trait = stressed
		}

		mult_modifier = {
			factor = 0.8
			trait = depressed
		}

		mult_modifier = {
			factor = 0.75
			trait = lunatic
		}

		mult_modifier = {
			factor = 0.75
			trait = possessed
		}

		mult_modifier = {
			factor = 0.9
			is_ill = yes
		}

		mult_modifier = {
			factor = 0.8
			trait = pneumonic
		}

		mult_modifier = {
			factor = 0.8
			trait = syphilitic
		}

		mult_modifier = {
			factor = 0.5
			trait = leper
		}

		mult_modifier = {
			factor = 0.9
			trait = wounded
		}

		mult_modifier = {
			factor = 0.8
			is_maimed_trigger = yes
		}

		mult_modifier = {
			factor = 0.5
			trait = infirm
		}

		mult_modifier = {
			factor = 0.4
			is_incapable = yes
		}

		mult_modifier = {
			factor = 0.5
			trait = drunkard
		}

		mult_modifier = {
			factor = 0.5
			trait = has_tuberculosis
		}

		mult_modifier = {
			factor = 0.5
			trait = has_typhoid_fever
		}

		mult_modifier = {
			factor = 0.5
			trait = has_typhus
		}

		mult_modifier = {
			factor = 0.5
			trait = has_bubonic_plague
		}

		mult_modifier = {
			factor = 0.5
			trait = has_measles
		}

		mult_modifier = {
			factor = 0.5
			trait = has_small_pox
		}
	}

	option = {
		name = EXCELLENT

		add_trait = brave
		add_blood_splatter_effect = yes
		random = {
			chance = 50

			# Promote battle trait
			battle_skill_increased = yes
		}
		if = {
			limit = {
				is_ruler = yes
				religion_group = muslim
			}
			piety = 10
		}
	}
}

# On-action combat event: Becoming Craven
character_event = {
	id = 271
	desc = EVTDESC271
	picture = GFX_evt_battle
	border = GFX_event_normal_frame_war

	is_triggered_only = yes

	trigger = {
		always = no # THIS is how you disable an event, Paradox
		is_alive = yes
		immortal = no

		NOR = {
			trait = brave
			trait = craven
			trait = berserker
		}
	}

	weight_multiplier = {
		days = 1

		mult_modifier = {
			factor = 1.25
			trait = clubfooted
		}

		mult_modifier = {
			factor = 1.25
			trait = hunchback
		}

		mult_modifier = {
			factor = 1.1
			trait = lisp
		}

		mult_modifier = {
			factor = 1.1
			trait = stutter
		}

		mult_modifier = {
			factor = 1.25
			trait = dwarf
		}

		mult_modifier = {
			factor = 0.9
			trait = genius
		}

		mult_modifier = {
			factor = 0.9

			OR = {
				trait = quick
				trait = shrewd
			}
		}

		mult_modifier = {
			factor = 2.0

			OR = {
				trait = slow
				trait = dull
			}
		}

		mult_modifier = {
			factor = 3.0
			trait = imbecile
		}

		mult_modifier = {
			factor = 3.0
			trait = inbred
		}

		mult_modifier = {
			factor = 0.7
			is_strong_trigger = yes
		}

		mult_modifier = {
			factor = 2.5
			is_weak_trigger = yes
		}

		mult_modifier = {
			factor = 1.25
			trait = stressed
		}

		mult_modifier = {
			factor = 1.5
			trait = depressed
		}

		mult_modifier = {
			factor = 3.0
			trait = lunatic
		}

		mult_modifier = {
			factor = 2.0
			trait = possessed
		}

		mult_modifier = {
			factor = 1.1
			is_ill = yes
		}

		mult_modifier = {
			factor = 1.25
			trait = pneumonic
		}

		mult_modifier = {
			factor = 1.25
			trait = syphilitic
		}

		mult_modifier = {
			factor = 2.0
			trait = leper
		}

		mult_modifier = {
			factor = 1.15
			trait = wounded
		}

		mult_modifier = {
			factor = 1.25
			is_maimed_trigger = yes
		}

		mult_modifier = {
			factor = 2.0
			trait = infirm
		}

		mult_modifier = {
			factor = 3.0
			is_incapable = yes
		}

		mult_modifier = {
			factor = 1.1
			trait = drunkard
		}

		mult_modifier = {
			factor = 1.1
			trait = has_tuberculosis
		}

		mult_modifier = {
			factor = 1.1
			trait = has_typhoid_fever
		}

		mult_modifier = {
			factor = 1.5
			trait = has_typhus
		}

		mult_modifier = {
			factor = 1.5
			trait = has_bubonic_plague
		}

		mult_modifier = {
			factor = 1.1
			trait = has_measles
		}

		mult_modifier = {
			factor = 1.1
			trait = has_small_pox
		}
	}

	option = {
		name = CURSES

		add_trait = craven
		random = {
			chance = 50
			# Demote battle trait
			battle_skill_decreased = yes
		}
		if = {
			limit = {
				is_ruler = yes
				religion_group = muslim
			}
			piety = -25
		}
	}
}

# On-action combat event: Becoming Wroth
character_event = {
	id = 272
	desc = EVTDESC272
	picture = GFX_evt_battle
	border = GFX_event_normal_frame_war

	is_triggered_only = yes

	trigger = {
		always = no # THIS is how you disable an event, Paradox
		is_alive = yes
		immortal = no

		NOR = {
			trait = wroth
			trait = patient
		}
	}

	weight_multiplier = {
		days = 1
	}

	option = {
		name = CURSES

		add_trait = wroth
		add_blood_splatter_effect = yes
	}
}

# On-action combat event: Becoming Patient
character_event = {
	id = 273
	desc = EVTDESC273
	picture = GFX_evt_battle
	border = GFX_event_normal_frame_war

	is_triggered_only = yes

	trigger = {
		always = no # THIS is how you disable an event, Paradox
		is_alive = yes
		immortal = no

		NOR = {
			trait = wroth
			trait = patient
		}
	}

	weight_multiplier = {
		days = 1
	}

	option = {
		name = EXCELLENT

		add_trait = patient
	}
}

# On-action battle_won: Heroism shown
character_event = {
	id = 260

	hide_window = yes
	is_triggered_only = yes

	trigger = {
		is_alive = yes
		NOT = { trait = craven }
	}

	weight_multiplier = {
		days = 1

		mult_modifier = {
			factor = 2.0
			trait = brave
		}

		mult_modifier = {
			factor = 1.5
			martial >= 10
		}

		mult_modifier = {
			factor = 1.2
			trait = genius
		}

		mult_modifier = {
			factor = 1.1

			OR = {
				trait = quick
				trait = shrewd
			}
		}

		mult_modifier = {
			factor = 0.9

			OR = {
				trait = slow
				trait = dull
			}
		}

		mult_modifier = {
			factor = 0.2
			trait = imbecile
		}

		mult_modifier = {
			factor = 0.2
			trait = inbred
		}

		mult_modifier = {
			factor = 1.5
			is_strong_trigger = yes
		}

		mult_modifier = {
			factor = 0.8
			is_weak_trigger = yes
		}

		mult_modifier = {
			factor = 0.9
			trait = stressed
		}

		mult_modifier = {
			factor = 0.8
			trait = depressed
		}

		mult_modifier = {
			factor = 0.5
			trait = lunatic
		}

		mult_modifier = {
			factor = 0.75
			trait = possessed
		}

		mult_modifier = {
			factor = 0.9
			is_ill = yes
		}

		mult_modifier = {
			factor = 0.8
			trait = pneumonic
		}

		mult_modifier = {
			factor = 0.8
			trait = syphilitic
		}

		mult_modifier = {
			factor = 0.5
			trait = leper
		}

		mult_modifier = {
			factor = 0.9
			trait = wounded
		}

		mult_modifier = {
			factor = 0.8
			is_maimed_trigger = yes
		}

		mult_modifier = {
			factor = 0.5
			trait = infirm
		}

		mult_modifier = {
			factor = 0.4
			is_incapable = yes
		}

		mult_modifier = {
			factor = 0.5
			trait = drunkard
		}

		mult_modifier = {
			factor = 0.5
			trait = has_tuberculosis
		}

		mult_modifier = {
			factor = 0.5
			trait = has_typhoid_fever
		}

		mult_modifier = {
			factor = 0.5
			trait = has_typhus
		}

		mult_modifier = {
			factor = 0.5
			trait = has_bubonic_plague
		}

		mult_modifier = {
			factor = 0.5
			trait = has_measles
		}

		mult_modifier = {
			factor = 0.5
			trait = has_small_pox
		}
	}

	immediate = {
		random_list = {
			1 = { character_event = { id = 262 } }
			1 = { character_event = { id = 263 } }
			1 = { character_event = { id = 264 } }
			1 = { character_event = { id = 265 } }
			1 = { character_event = { id = 266 } }
			1 = { character_event = { id = 267 } }
		}

		hidden_effect = {
			random = {
				chance = 25
				change_variable = {
					which = "lifestyle_martial"
					value = 1
				}
			}
		}

		# Promote battle trait
		battle_skill_increased = yes
	}
}

# On-action battle_won: Soldier Distinguishes himself
character_event = {
	id = 261
	picture = GFX_evt_battle
	border = GFX_event_normal_frame_war

	hide_from = yes
	is_triggered_only = yes

	ai = no

	trigger = {
		is_alive = yes
	}

	immediate = {
		create_random_soldier = {
			random_traits = yes
			dynasty = random
			female = no
			religion = ROOT
			culture = ROOT

			attributes = {
				martial = 8
				stewardship = 3
				diplomacy = 3
				learning = 3
				intrigue = 3
			}
		}

		new_character = {
			add_blood_splatter_effect = yes
			remove_trait = craven
			save_event_target_as = soldier_target
		}
	}

	desc = {
		trigger = {
			NOR = {
				has_character_modifier = good_battle_omen
				has_character_modifier = bad_battle_omen
			}
		}
		text = evt_261_desc_a
	}

	desc = {
		trigger = {
			has_dlc = "Mystics"
			has_character_modifier = good_battle_omen
		}
		text = evt_CK2_261_desc_b
	}
	desc = {
		trigger = {
			has_dlc = "Mystics"
			has_character_modifier = bad_battle_omen
		}
		text = evt_CK2_261_desc_c
	}

	weight_multiplier = {
		days = 1

		mult_modifier = {
			factor = 1.5
			trait = patient
		}

		mult_modifier = {
			factor = 1.5
			trait = just
		}

		mult_modifier = {
			factor = 1.5
			trait = diligent
		}

		mult_modifier = {
			factor = 0.2
			trait = deceitful
		}

		mult_modifier = {
			factor = 0.2
			trait = arbitrary
		}

		mult_modifier = {
			factor = 2
			has_character_modifier = good_battle_omen
		}

		mult_modifier = {
			factor = 0.9
			has_character_modifier = bad_battle_omen
		}
	}

	option = {
		name = EXCELLENT

		trigger = {
			NOR = {
				has_character_modifier = good_battle_omen
				has_character_modifier = bad_battle_omen
			}
		}

		event_target:soldier_target = {
			show_scope_change = no

			prestige = 50
		}
	}

	option = {
		name = 261_OPTA

		trigger = {
			has_dlc = "Mystics"
			has_character_modifier = good_battle_omen
		}

		event_target:soldier_target = {
			show_scope_change = no
			prestige = 50
		}

		upgrade_seer_modifier_effect = yes
	}

	option = {
		name = 261_OPTB

		trigger = {
			has_dlc = "Mystics"
			has_character_modifier = bad_battle_omen
		}

		event_target:soldier_target = {
			show_scope_change = no

			prestige = 50
		}

		downgrade_seer_modifier_effect = yes
	}

	after = {
		remove_scrying_omen_modifiers_effect = yes
	}
}

# Heroism Shown 1
character_event = {
	id = 262
	is_triggered_only = yes

	picture = GFX_evt_battle
	border = GFX_event_normal_frame_war

	immediate = {
		effects
	}

	desc = { text = EVTDESC262 }
	desc = { text = EVTDESC263 }
	desc = { text = EVTDESC264 }
	desc = { text = EVTDESC265 }
	desc = { text = EVTDESC266 }
	desc = { text = EVTDESC267 }

	option = {
		name = EVTOPTA262

		prestige = 100
	}
}

# On-action battle_lost: Imprisoned by the enemy
character_event = {
	id = 250
	title = captured_in_battle
	desc = evt_CK2_250_desc_a
	picture = GFX_evt_into_the_dungeon
	border = GFX_event_normal_frame_war

	is_triggered_only = yes

	trigger = {
		is_alive = yes
		prisoner = no

		NOT = { character = FROM }
	}

	weight_multiplier = {
		days = 1

		bad_soldier_outcome_score = yes
		title_tier_reduction_score = yes

		mult_modifier = {
			factor = 1.5

			FROM = {
				trait = norse_leader
			}
		}

		mult_modifier = {
			factor = 2

			FROM = {
				any_owned_bloodline = {
					has_bloodline_flag = bloodline_fearsome
				}
			}
		}
		mult_modifier = {
			factor = 3

			FROM = {
				is_member_of_any_warrior_lodge_trigger = yes
				society_rank > 1
			}
		}

		mult_modifier = {
			factor = 0.5

			any_realm_wonder = {
				has_wonder_upgrade = upgrade_hidden_passageways
			}
		}
	}

	immediate = {
		save_event_target_as = captured_commander
		location = { save_event_target_as = battlefield_location }
		FROM = { save_event_target_as = enemy_liege }

		# You are captured...
		imprison = event_target:enemy_liege # ROOT is imprisoned *by* enemy_liege
	}

	option = {
		name = CURSES

		FROM = {
			# Enemy_liege is notified about your capture...
			character_event = { id = 50020 }
		}
	}
}

# Leading attacker dies, will never trigger from code
letter_event = {
	id = 251
	desc = EVTDESC251
	border = GFX_event_letter_frame_war

	is_triggered_only = yes

	ai = no

	option = {
		name = OK
	}
}

# Leading defender dies, will never trigger from code
letter_event = {
	id = 252
	desc = EVTDESC251
	border = GFX_event_letter_frame_war

	is_triggered_only = yes

	ai = no

	option = {
		name = OK
	}
}

# Marshal: Unnecessary violence
character_event = {
	id = 255
	desc = EVTDESC255
	picture = GFX_evt_torture
	border = GFX_event_normal_frame_war

	only_capable = yes
	war = yes

	is_triggered_only = yes

	trigger = {
		always = no # Disabled event properly
		in_command_trigger = yes
		has_job_title = job_marshal
		trait = cruel
	}

	weight_multiplier = {
		days = 1
	}

	option = {
		name = EVTOPTA255

		prestige = -20
		piety = -20

		liege = {
			character_event = { id = 256 }
		}
	}
}

# Liege: Marshal used unnecessary violence
character_event = {
	id = 256
	desc = EVTDESC256
	picture = GFX_evt_torture
	border = GFX_event_normal_frame_war

	is_triggered_only = yes

	option = {
		name = EVTOPTA256 # That's the cruelty of war

		piety = -10
	}

	option = {
		name = EVTOPTB256 # Disapprove of his conduct

		opinion = {
			name = opinion_disapprove
			who = FROM
			years = 10
		}
	}

	option = {
		name = EVTOPTC256 # He's right, we should terrorise our enemy

		opinion = {
			name = opinion_approves
			who = FROM
			years = 10
		}

		piety = -25

		random = {
			chance = 33
			add_trait_cruel_effect = yes
		}
	}
}

### Combat Trait Events

# Event 1
character_event = {
	id = 96500
	desc = EVTDESC96500
	picture = GFX_evt_battle
	border = GFX_event_normal_frame_war

	is_triggered_only = yes

	trigger = {
		always = no # Disabled Properly
		can_have_more_leadership_traits = yes
		is_alive = yes
		is_incapable = no

		OR = {
			NOT = { trait = jungle_terrain_leader }
			NOT = { trait = war_elephant_leader }
			NOT = { trait = winter_soldier }
			NOR = {
				trait = rough_terrain_leader
				trait = flat_terrain_leader
				trait = mountain_terrain_leader
				trait = desert_terrain_leader
			}
			NOR = {
				trait = cavalry_leader
				trait = heavy_infantry_leader
				trait = light_foot_leader
			}
		}
	}

	weight_multiplier = {
		days = 1

		mult_modifier = {
			factor = 1.5
			martial >= 10
		}

		mult_modifier = {
			factor = 1.5
			martial >= 14
		}

		mult_modifier = {
			factor = 1.5
			trait = brave
		}

		mult_modifier = {
			factor = 0.5
			trait = craven
		}

		mult_modifier = {
			factor = 1.5
			trait = genius
		}

		mult_modifier = {
			factor = 1.2

			OR = {
				trait = quick
				trait = shrewd
			}
		}

		mult_modifier = {
			factor = 0.5

			OR = {
				trait = slow
				trait = dull
			}
		}

		mult_modifier = {
			factor = 0.1
			trait = imbecile
		}

		mult_modifier = {
			factor = 0.7
			trait = inbred
		}

		mult_modifier = {
			factor = 1.2
			is_strong_trigger = yes
		}

		mult_modifier = {
			factor = 0.8
			is_weak_trigger = yes
		}

		mult_modifier = {
			factor = 0.85
			trait = stressed
		}

		mult_modifier = {
			factor = 0.85
			trait = depressed
		}

		mult_modifier = {
			factor = 0.5
			trait = lunatic
		}

		mult_modifier = {
			factor = 0.5
			trait = possessed
		}

		mult_modifier = {
			factor = 0.9
			is_ill = yes
		}

		mult_modifier = {
			factor = 0.6
			trait = infirm
		}

		mult_modifier = {
			factor = 0.9
			trait = drunkard
		}
	}

	option = {
		name = EVTOPTK96500 # Jungle Terrain Specialization

		trigger = {
			location = { terrain = jungle }
			NOT = { trait = jungle_terrain_leader }
		}

		add_trait = jungle_terrain_leader
	}

	option = {
		name = EVTOPTL96500 # War elephants

		trigger = {
			has_dharmic_religion_trigger = yes
			NOT = { trait = war_elephant_leader }
		}

		add_trait = war_elephant_leader
	}

	option = {
		name = EVTOPTM96500 # WINTER Terrain Specialization

		trigger = {
			location = { is_winter = yes }
			NOT = { trait = winter_soldier }
		}

		add_trait = winter_soldier
	}

	option = {
		name = EVTOPTA96500 # Rough Terrain Specialization

		trigger = {
			location = {
				OR = {
					terrain = forest
	 				terrain = hills
				}
			}

			NOR = {
				trait = rough_terrain_leader
				trait = flat_terrain_leader
				trait = mountain_terrain_leader
				trait = desert_terrain_leader
			}
		}

		add_trait = rough_terrain_leader
	}

	option = {
		name = EVTOPTB96500 # Flat Terrain Specialization

		trigger = {
			location = {
				OR = {
					terrain = plains
					terrain = farmlands
					terrain = steppe
				}
			}

			NOR = {
				trait = rough_terrain_leader
				trait = flat_terrain_leader
				trait = mountain_terrain_leader
				trait = desert_terrain_leader
			}
		}

		add_trait = flat_terrain_leader
	}

	option = {
		name = EVTOPTC96500 # Mountain Terrain Specialization

		trigger = {
			location = { terrain = mountain }

			NOR = {
				trait = rough_terrain_leader
				trait = flat_terrain_leader
				trait = mountain_terrain_leader
				trait = desert_terrain_leader
			}
		}

		add_trait = mountain_terrain_leader
	}

	option = {
		name = EVTOPTD96500 # Desert Terrain Leader

		trigger = {
			location = { terrain = desert }

			NOR = {
				trait = rough_terrain_leader
				trait = flat_terrain_leader
				trait = mountain_terrain_leader
				trait = desert_terrain_leader
			}
		}

		add_trait = desert_terrain_leader
	}

	option = {
		name = EVTOPTE96500 # Cavalry

		trigger = {
			NOR = {
				trait = cavalry_leader
				trait = heavy_infantry_leader
				trait = light_foot_leader
			}
		}

		add_trait = cavalry_leader
	}

	option = {
		name = EVTOPTF96500 # Light Infantry

		trigger = {
			NOR = {
				trait = cavalry_leader
				trait = heavy_infantry_leader
				trait = light_foot_leader
			}
		}

		add_trait = light_foot_leader
	}

	option = {
		name = EVTOPTG96500 # Heavy Infantry

		trigger = {
			NOR = {
				trait = cavalry_leader
				trait = heavy_infantry_leader
				trait = light_foot_leader
			}
		}

		add_trait = heavy_infantry_leader
	}
}

# Event 2
character_event = {
	id = 96501
	desc = EVTDESC96500
	picture = GFX_evt_battle
	border = GFX_event_normal_frame_war

	is_triggered_only = yes

	trigger = {
		always = no # Disabled Properly
		can_have_more_leadership_traits = yes
		is_alive = yes
		is_incapable = no

		OR = {
			NOT = { trait = organizer }
			NOT = { trait = experimenter }
			NOR = {
				trait = holy_warrior
				trait = cynical
			}
			NOT = { trait = unyielding_leader }
		}
	}

	weight_multiplier = {
		days = 1

		mult_modifier = {
			factor = 1.5
			trait = brave
		}

		mult_modifier = {
			factor = 0.5
			trait = craven
		}

		mult_modifier = {
			factor = 1.5
			trait = genius
		}

		mult_modifier = {
			factor = 1.2

			OR = {
				trait = quick
				trait = shrewd
			}
		}

		mult_modifier = {
			factor = 0.5

			OR = {
				trait = slow
				trait = dull
			}
		}

		mult_modifier = {
			factor = 0.1
			trait = imbecile
		}

		mult_modifier = {
			factor = 0.7
			trait = inbred
		}

		mult_modifier = {
			factor = 1.2
			is_strong_trigger = yes
		}

		mult_modifier = {
			factor = 0.8
			is_weak_trigger = yes
		}

		mult_modifier = {
			factor = 0.85
			trait = stressed
		}

		mult_modifier = {
			factor = 0.85
			trait = depressed
		}

		mult_modifier = {
			factor = 0.5
			trait = lunatic
		}

		mult_modifier = {
			factor = 0.5
			trait = possessed
		}

		mult_modifier = {
			factor = 0.9
			is_ill = yes
		}

		mult_modifier = {
			factor = 0.6
			trait = infirm
		}

		mult_modifier = {
			factor = 0.9
			trait = drunkard
		}
	}

	option = { # Organizer
		name = EVTOPTA96502

		trigger = {
			NOT = { trait = organizer }
		}

		add_trait = organizer
	}

	option = { # Experimenter
		name = EVTOPTB96502

		trigger = {
			NOT = { trait = experimenter }
		}

		add_trait = experimenter
	}

	option = { # Holy Warrior
		name = EVTOPTC96502

		trigger = {
			trait = zealous

			NOR = {
				trait = holy_warrior
				trait = cynical
			}
		}

		add_trait = holy_warrior
	}

	option = { # Unyielding
		name = EVTOPTD96502

		trigger = {
			NOT = { trait = unyielding_leader }
		}

		add_trait = unyielding_leader
	}
}

# Event 3
character_event = {
	id = 96502
	desc = EVTDESC96500
	picture = GFX_evt_battle
	border = GFX_event_normal_frame_war

	is_triggered_only = yes

	trigger = {
		always = no # Disabled Properly
		can_have_more_leadership_traits = yes
		is_alive = yes
		is_incapable = no

		OR = {
			NOR = {
				trait = defensive_leader
				trait = aggressive_leader
			}
			NOT = { trait = inspiring_leader }
			NOT = { trait = trickster }
		}
	}

	weight_multiplier = {
		days = 1

		mult_modifier = {
			factor = 1.5
			trait = brave
		}

		mult_modifier = {
			factor = 0.5
			trait = craven
		}

		mult_modifier = {
			factor = 1.5
			trait = genius
		}

		mult_modifier = {
			factor = 1.2

			OR = {
				trait = quick
				trait = shrewd
			}
		}

		mult_modifier = {
			factor = 0.5

			OR = {
				trait = slow
				trait = dull
			}
		}

		mult_modifier = {
			factor = 0.1
			trait = imbecile
		}

		mult_modifier = {
			factor = 0.7
			trait = inbred
		}

		mult_modifier = {
			factor = 1.2
			is_strong_trigger = yes
		}

		mult_modifier = {
			factor = 0.8
			is_weak_trigger = yes
		}

		mult_modifier = {
			factor = 0.85
			trait = stressed
		}

		mult_modifier = {
			factor = 0.85
			trait = depressed
		}

		mult_modifier = {
			factor = 0.5
			trait = lunatic
		}

		mult_modifier = {
			factor = 0.5
			trait = possessed
		}

		mult_modifier = {
			factor = 0.9
			is_ill = yes
		}

		mult_modifier = {
			factor = 0.6
			trait = infirm
		}

		mult_modifier = {
			factor = 0.9
			trait = drunkard
		}
	}

	option = {
		name = EVTOPTH96500 # Aggressive

		trigger = {
			NOR = {
				trait = defensive_leader
				trait = aggressive_leader
			}
		}

		add_trait = aggressive_leader
	}

	option = {
		name = EVTOPTI96500 # Defensive

		trigger = {
			NOR = {
				trait = defensive_leader
				trait = aggressive_leader
			}
		}

		add_trait = defensive_leader
	}

	option = {
		name = EVTOPTJ96500 # Inspiring

		trigger = {
			NOT = { trait = inspiring_leader }
		}

		add_trait = inspiring_leader
	}

	option = { # Trickster
		name = EVTOPTH96501

		trigger = {
			NOT = { trait = trickster }
		}

		add_trait = trickster
	}
}

# Event 4
character_event = {
	id = 96503
	desc = EVTDESC96500
	picture = GFX_evt_battle
	border = GFX_event_normal_frame_war

	is_triggered_only = yes

	trigger = {
		always = no # Disabled Properly
		can_have_more_leadership_traits = yes
		is_alive = yes

		OR = {
			NOR = {
				trait = rough_terrain_leader
				trait = flat_terrain_leader
				trait = mountain_terrain_leader
				trait = desert_terrain_leader
			}
			NOT = { trait = flanker }
			NOT = { trait = siege_leader }
		}
	}

	weight_multiplier = {
		days = 1

		mult_modifier = {
			factor = 1.5
			trait = brave
		}

		mult_modifier = {
			factor = 0.5
			trait = craven
		}

		mult_modifier = {
			factor = 1.5
			trait = genius
		}

		mult_modifier = {
			factor = 1.2

			OR = {
				trait = quick
				trait = shrewd
			}
		}

		mult_modifier = {
			factor = 0.5

			OR = {
				trait = slow
				trait = dull
			}
		}

		mult_modifier = {
			factor = 0.1
			trait = imbecile
		}

		mult_modifier = {
			factor = 0.7
			trait = inbred
		}

		mult_modifier = {
			factor = 1.2
			is_strong_trigger = yes
		}

		mult_modifier = {
			factor = 0.8
			is_weak_trigger = yes
		}

		mult_modifier = {
			factor = 0.85
			trait = stressed
		}

		mult_modifier = {
			factor = 0.85
			trait = depressed
		}

		mult_modifier = {
			factor = 0.5
			trait = lunatic
		}

		mult_modifier = {
			factor = 0.5
			trait = possessed
		}

		mult_modifier = {
			factor = 0.9
			is_ill = yes
		}

		mult_modifier = {
			factor = 0.6
			trait = infirm
		}

		mult_modifier = {
			factor = 0.9
			trait = drunkard
		}
	}

	option = {
		name = EVTOPTA96500 # Rough Terrain Specialization

		trigger = {
			location = {
				OR = {
					terrain = forest
					terrain = hills
				}
			}

			NOR = {
				trait = rough_terrain_leader
				trait = flat_terrain_leader
				trait = mountain_terrain_leader
				trait = desert_terrain_leader
			}
		}

		add_trait = rough_terrain_leader
	}

	option = {
		name = EVTOPTB96500 # Flat Terrain Specialization

		trigger = {
			location = {
				OR = {
					terrain = plains
					terrain = farmlands
					terrain = steppe
					terrain = savanna
				}
			}

			NOR = {
				trait = rough_terrain_leader
				trait = flat_terrain_leader
				trait = mountain_terrain_leader
				trait = desert_terrain_leader
			}
		}

		add_trait = flat_terrain_leader
	}

	option = {
		name = EVTOPTC96500 # Mountain Terrain Specialization

		trigger = {
			location = { terrain = mountain }

			NOR = {
				trait = rough_terrain_leader
				trait = flat_terrain_leader
				trait = mountain_terrain_leader
				trait = desert_terrain_leader
			}
		}

		add_trait = mountain_terrain_leader
	}

	option = {
		name = EVTOPTD96500 # Desert Terrain Leader

		trigger = {
			location = { terrain = desert }

			NOR = {
				trait = rough_terrain_leader
				trait = flat_terrain_leader
				trait = mountain_terrain_leader
				trait = desert_terrain_leader
			}
		}

		add_trait = desert_terrain_leader
	}

	option = { # Flanker
		name = EVTOPTI96501

		trigger = {
			NOT = { trait = flanker }
		}

		add_trait = flanker
	}

	option = { # Narrow flank leader
		name = EVTOPTJ96501

		trigger = {
			location = {
				OR = {
					terrain = mountain
					terrain = hills
					terrain = forest
				}
			}

			NOT = { trait = narrow_flank_leader }
		}

		add_trait = narrow_flank_leader
	}

	option = { # Siege leader
		name = EVTOPTK96501

		trigger = {
			siege = {
				is_attacker = yes
			}

			NOT = { trait = siege_leader }
		}

		add_trait = siege_leader
	}
}