	#############################################
#############################################
#                                         	#
# ZE Childhood Events					  	#
# ID ZE.12000-ZE.12999, ZE.2100-ZE.2199		#
#                                         	#
#############################################
#############################################

# Written by Tobias Bodlund, Markus OlsÃ©n and Joel Hansson

namespace = ZE

#############################################
#											#
# Main childhood trait event chains			#
# ZE.12000-ZE.12599							#
#											#
#############################################

# Bi-yearly childhood pulse - select which event chain to get, weighted by childhood focus
character_event = {
	id = ZE.12999

	is_triggered_only = yes # on_childhood_pulse
	hide_window = yes

	only_capable = yes
	has_dlc = "Conclave"

	trigger = {
		NOR = {
			has_character_modifier = the_oubliette
			has_character_modifier = the_dungeon
			has_character_flag = is_child_of_destiny
		}

		is_inaccessible_trigger = no
	}

	immediate = {
		random_list = {
			10 = { # Haughty
				trigger = {
					NOR = {
						has_character_flag = ze_child_haughty_events
						trait = haughty
					}
				}

				mult_modifier = {
					factor = 5
					has_focus = focus_ch_pride
				}

				character_event = {
					id = ZE.12000
					days = 10
					random = 90
				}
			}

			10 = { # Affectionate
				trigger = {
					NOR = {
						has_character_flag = ze_child_affectionate_events
						trait = affectionate
					}
				}

				mult_modifier = {
					factor = 5
					has_focus = focus_ch_humility
				}

				character_event = {
					id = ZE.12010
					days = 10
					random = 90
				}
			}

			10 = { # Timid
				trigger = {
					NOR = {
						has_character_flag = ze_child_timid_events
						trait = timid
						trait = rowdy # Mutually exclusive with Timid
					}
				}

				mult_modifier = {
					factor = 5
					has_focus = focus_ch_humility
				}

				character_event = {
					id = ZE.12020
					days = 10
					random = 90
				}
			}

			10 = { # Rowdy
				trigger = {
					is_strong_trigger = no
					is_weak_trigger = no
					is_dumb_trigger = no

					NOR = {
						has_character_flag = ze_child_rowdy_events
						trait = rowdy
						trait = timid # Mutually exclusive with Rowdy
					}
				}

				mult_modifier = {
					factor = 5
					has_focus = focus_ch_struggle
				}

				character_event = {
					id = ZE.12030
					days = 10
					random = 90
				}
			}

			10 = { # Willful
				trigger = {
					NOR = {
						has_character_flag = ze_child_willful_events
						trait = willful
					}
				}

				mult_modifier = {
					factor = 5
					has_focus = focus_ch_struggle
				}

				character_event = {
					id = ZE.12040
					days = 10
					random = 90
				}
			}

			10 = { # Brooding
				mult_modifier = {
					factor = 5
					has_focus = focus_ch_pride
				}

				trigger = {
					NOR = {
						has_character_flag = ze_child_brooding_events
						trait = brooding
					}
				}

				character_event = {
					id = ZE.12050
					days = 10
					random = 90
				}
			}

			10 = { # Indolent
				mult_modifier = {
					factor = 5
					has_focus = focus_ch_etiquette
				}

				trigger = {
					NOR = {
						has_character_flag = ze_child_indolent_events
						trait = indolent
					}
				}

				character_event = {
					id = ZE.12060
					days = 10
					random = 90
				}
			}

			10 = { # Playful
				trigger = {
					NOR = {
						has_character_flag = ze_child_playful_events
						trait = lunatic
						trait = playful
					}
				}

				mult_modifier = {
					factor = 5
					has_focus = focus_ch_etiquette
				}

				character_event = {
					id = ZE.12070
					days = 10
					random = 90
				}
			}

			10 = { # Conscientious
				mult_modifier = {
					factor = 5
					has_focus = focus_ch_duty
				}

				trigger = {
					NOR = {
						has_character_flag = ze_child_conscientious_events
						trait = conscientious
					}
				}

				character_event = {
					id = ZE.12080
					days = 10
					random = 90
				}
			}

			10 = { # Fussy
				trigger = {
					NOR = {
						has_character_flag = ze_child_fussy_events
						trait = fussy
					}
				}

				mult_modifier = {
					factor = 5
					has_focus = focus_ch_thrift
				}

				character_event = {
					id = ZE.12090
					days = 10
					random = 90
				}
			}

			10 = { # Curious
				trigger = {
					NOR = {
						has_character_flag = ze_child_curious_events
						trait = genius
						trait = curious
					}
				}

				mult_modifier = {
					factor = 5
					has_focus = focus_ch_thrift
				}

				character_event = {
					id = ZE.12100
					days = 10
					random = 90
				}
			}

			10 = { # Idolizer
				trigger = {
					NOR = {
						has_character_flag = ze_child_idolizer_events
						trait = genius
						trait = idolizer
					}
				}

				mult_modifier = {
					factor = 5
					has_focus = focus_ch_faith
				}

				character_event = {
					id = ZE.12110
					days = 10
					random = 90
				}
			}
		}

		# Culture / Religion swap from focus
		if = {
			limit = {
				OR = {
					has_focus = focus_ch_heritage
					has_character_modifier = house_arrest
				}

				NAND = {
					religion = educator
					culture = educator
				}
			}

			random_list = {
				30 = {
					random_list = {
						50 = {
							if = {
								limit = {
									NOT = { religion = educator }
								}

								educator = {
									character_event = {
										id = ZE.2110
										days = 20
										random = 200
									}
								}
							}

							if = {
								limit = {
									NOR = {
										mother = { is_nomadic = yes }
										father = { is_nomadic = yes }
										any_sibling = { is_nomadic = yes }
										culture = educator
									}
								}

								educator = {
									character_event = {
										id = ZE.2120
										days = 300
										random = 100
									}
								}
							}
						}

						50 = {
							if = {
								limit = {
									NOT = { religion = educator }
								}

								educator = {
									character_event = {
										id = ZE.2110
										days = 300
										random = 100
									}
								}
							}

							if = {
								limit = {
									NOR = {
										mother = { is_nomadic = yes }
										father = { is_nomadic = yes }
										any_sibling = { is_nomadic = yes }
										culture = educator
									}
								}

								educator = {
									character_event = {
										id = ZE.2120
										days = 20
										random = 200
									}
								}
							}
						}
					}
				}

				70 = {
					mult_modifier = {
						factor = 0.5
						age >= 8
						NOT = { has_character_modifier = house_arrest }
					}

					mult_modifier = {
						factor = 0.25
						age >= 10
						NOT = { has_character_modifier = house_arrest }
					}
				}
			}
		}

		if = {
			limit = {
				has_focus = focus_ch_faith
				NOT = { religion = educator }
			}

			random_list = {
				50 = {
					educator = {
						character_event = {
							id = ZE.2100
							days = 45
							random = 400
						}
					}
				}

				50 = {
					trigger = {
						age < 10
					}

					mult_modifier = {
						factor = 0.5
						age >= 8
					}
				}
			}
		}
	}
}

#############################################
# Haughty									#
#############################################

# Start
character_event = {
	id = ZE.12000
	picture = GFX_evt_child_talking

	desc = { # Version 1
		text = EVTDESCA_ZE_12000 # Finds x kissing servant in hallway
		trigger = { has_character_flag = child_haughty_version_1 }
	}
	desc = { # Version 2
		text = EVTDESCB_ZE_12000 # Comes upon adult beating dog
		trigger = { has_character_flag = child_haughty_version_2 }
	}
	desc = { # Version 3
		text = EVTDESCC_ZE_12000 # Peasant calls on my attention at roadside
		trigger = { has_character_flag = child_haughty_version_3 }
	}

	is_triggered_only = yes

	only_capable = yes

	trigger = {
		NOR = {
			has_character_flag = ze_child_haughty_events
			has_character_modifier = the_oubliette
			has_character_modifier = the_dungeon
		}

		is_inaccessible_trigger = no
	}

	immediate = {
		set_character_flag = ze_child_haughty_events

		# Find courtier to use in events, set custom event target
		# Select event circumstances randomly but influenced by environment
		random_list = {
			33 = {
				trigger = {
					educator = {
						any_courtier = {
							is_adult = yes
							is_incapable = no

							NOR = {
								trait = chaste
								trait = celibate
								has_character_modifier = the_oubliette
								has_character_modifier = the_dungeon
							}
						}
					}
				}

				set_character_flag = child_haughty_version_1

				educator = {
					random_courtier = {
						limit = {
							is_adult = yes
							is_incapable = no

							NOR = {
								trait = chaste
								trait = celibate
								has_character_modifier = the_oubliette
								has_character_modifier = the_dungeon
							}
						}

						save_event_target_as = haughty_events_char_1

						if = { # If we don't involve a player, skip these events
							limit = {
								ROOT = { ai = yes }
								ai = yes
							}

							ROOT = {
								clr_character_flag = child_haughty_version_1
								add_trait = haughty
							}
						}
					}
				}
			}

			33 = {
				set_character_flag = child_haughty_version_2

				trigger = {
					educator = {
						any_courtier = {
							OR = {
								trait = cruel
								trait = impaler
							}

							is_adult = yes
							is_incapable = no

							trigger_if = {
								limit = { religion = jain }
								NOT = { trait = zealous }
							}

							NOR = {
								is_rival = ROOT
								has_character_modifier = the_oubliette
								has_character_modifier = the_dungeon
							}
						}
					}
				}

				educator = {
					random_courtier = {
						limit = {
							OR = {
								trait = cruel
								trait = impaler
							}

							is_adult = yes
							is_incapable = no

							trigger_if = {
								limit = { religion = jain }
								NOT = { trait = zealous }
							}

							NOR = {
								is_rival = ROOT
								has_character_modifier = the_oubliette
								has_character_modifier = the_dungeon
							}
						}

						save_event_target_as = haughty_events_char_1

						if = { # If we don't involve a player, skip these events
							limit = {
								ROOT = { ai = yes }
								ai = yes
							}

							ROOT = {
								clr_character_flag = child_haughty_version_2
								add_trait = haughty
							}
						}
					}
				}
			}

			33 = {
				set_character_flag = child_haughty_version_3

				if = { # If we don't involve a player, skip these events
					limit = { ai = yes }

					clr_character_flag = child_haughty_version_3
					add_trait = haughty
				}
			}
		}
	}

	# Version 1
	option = {
		name = EVTOPTA_ZE_12000 # Caught adults making out, exposes

		trigger = { has_character_flag = child_haughty_version_1 }

		custom_tooltip = { text = EVTOPTHAU }

		set_character_flag = child_haughty_version_1_option_1

		event_target:haughty_events_char_1 = {
			character_event = { id = ZE.12002 }
		}
	}

	option = {
		name = EVTOPTB_ZE_12000 # Caught adults making out, leaves alone

		trigger = { has_character_flag = child_haughty_version_1 }

		set_character_flag = child_haughty_version_1_option_2
		add_friend = event_target:haughty_events_char_1

		event_target:haughty_events_char_1 = {
			character_event = { id = ZE.12002 }
		}

		ai_chance = { factor = 0 }
	}

	# Version 2
	option = {
		name = EVTOPTC_ZE_12000 # Caught adult beating dog, hits them

		trigger = { has_character_flag = child_haughty_version_2 }

		custom_tooltip = { text = EVTOPTHAU }

		set_character_flag = child_haughty_version_2_option_1

		event_target:haughty_events_char_1 = {
			show_scope_change = no

			opinion = {
				name = opinion_angry
				who = ROOT
				years = 3
			}

			character_event = { id = ZE.12002 }
		}

		show_trait = haughty
	}

	option = {
		name = EVTOPTD_ZE_12000 # Caught adult beating dog, joins in

		trigger = { has_character_flag = child_haughty_version_2 }

		set_character_flag = child_haughty_version_2_option_2

		opinion = {
			name = opinion_complicity
			who = event_target:haughty_events_char_1
			years = 3
		}

		event_target:haughty_events_char_1 = {
			character_event = { id = ZE.12002 }
		}

		ai_chance = { factor = 0 }
	}

	# Version 3
	option = {
		name = EVTOPTE_ZE_12000 # Peasants talk to you at roadside - give them hell

		trigger = { has_character_flag = child_haughty_version_3 }

		add_trait = haughty

		random_list = {
			50 = {
				custom_tooltip = { text = EVTOPTE_ZE_12000_TOOLTIP1 }
				set_character_flag = child_haughty_version_3_random_1
			}

			50 = {
				custom_tooltip = { text = EVTOPTE_ZE_12000_TOOLTIP2 }
				set_character_flag = child_haughty_version_3_random_2
			}
		}

		character_event = { id = ZE.12004 }
	}

	option = {
		name = EVTOPTF_ZE_12000 # Peasants talk to you at roadside - answer courteously

		trigger = { has_character_flag = child_haughty_version_3 }

		add_character_modifier = {
			name = the_kind
			years = 3
		}

		clr_character_flag = child_haughty_version_3

		ai_chance = { factor = 0 }
	}

	option = {
		name = OK # ai option, nothing to see here

		trigger = {
			NOR = {
				has_character_flag = child_haughty_version_1
				has_character_flag = child_haughty_version_2
				has_character_flag = child_haughty_version_3
			}
		}
	}
}

# Courtier reacts
character_event = {
	id = ZE.12002
	picture = GFX_evt_child_talking

	# Version 1
	desc = {
		text = EVTDESCA_ZE_12002
		trigger = {
			FROM = { has_character_flag = child_haughty_version_1_option_1 }
		}
	}
	desc = {
		text = EVTDESCB_ZE_12002
		trigger = {
			FROM = { has_character_flag = child_haughty_version_1_option_2 }
		}
	}

	# Version 2
	desc = {
		text = EVTDESCC_ZE_12002
		trigger = {
			FROM = { has_character_flag = child_haughty_version_2_option_1 }
		}
	}
	desc = {
		text = EVTDESCD_ZE_12002
		trigger = {
			FROM = { has_character_flag = child_haughty_version_2_option_2 }
		}
	}

	is_triggered_only = yes

	# Version 1
	option = {
		name = EVTOPTA_ZE_12002

		trigger = {
			FROM = { has_character_flag = child_haughty_version_1_option_1 }
		}

		FROM = {
			show_scope_change = no

			character_event = { id = ZE.12004 }

			opinion = {
				name = opinion_angry
				who = ROOT
				years = 3
			}


			random_list = {
				5 = {
					tooltip = { add_trait = wounded }
					set_character_flag = child_haughty_wounded
				}

				25 = {
					tooltip = { add_trait = stressed }
					set_character_flag = child_haughty_stressed
				}

				70 = { }
			}
		}

		custom_tooltip = { text = EVTOPTHAU_FROM }

		show_trait = haughty
	}

	option = {
		name = EVTOPTB_ZE_12002

		trigger = {
			FROM = { has_character_flag = child_haughty_version_1_option_1 }
		}

		prestige = -50

		FROM = {
			clr_character_flag = child_haughty_version_1_option_1
			clr_character_flag = child_haughty_version_1
		}

		ai_chance = { factor = 0 }
	}

	option = {
		name = EVTOPTC_ZE_12002

		trigger = {
			FROM = { has_character_flag = child_haughty_version_1_option_2 }
		}

		add_friend = FROM

		FROM = {
			clr_character_flag = child_haughty_version_1_option_2
			clr_character_flag = child_haughty_version_1
		}
	}

	# Version 2
	option = {
		name = EVTOPTD_ZE_12002

		trigger = {
			FROM = { has_character_flag = child_haughty_version_2_option_1 }
		}

		prestige = 30

		FROM = {
			show_scope_change = no

			character_event = { id = ZE.12004 }

			opinion = {
				name = opinion_contempt
				who = ROOT
				years = 3
			}
		}

		custom_tooltip = { text = EVTOPTHAU_FROM }

		show_trait = haughty
	}

	option = {
		name = EVTOPTE_ZE_12002

		trigger = {
			FROM = { has_character_flag = child_haughty_version_2_option_1 }
		}

		prestige = -20

		FROM = {
			clr_character_flag = child_haughty_version_2_option_1
			clr_character_flag = child_haughty_version_2
		}

		ai_chance = { factor = 0 }
	}

	option = {
		name = EVTOPTF_ZE_12002

		trigger = {
			FROM = { has_character_flag = child_haughty_version_2_option_2 }
		}

		FROM = {
			show_scope_change = no

			opinion = {
				name = opinion_complicity
				who = ROOT
				years = 3
			}

			clr_character_flag = child_haughty_version_2_option_2
			clr_character_flag = child_haughty_version_2
		}
	}
}

# Child choice
character_event = {
	id = ZE.12004
	picture = GFX_evt_child_talking

	desc = { # Version 1
		text = EVTDESCA_ZE_12004
		trigger = { has_character_flag = child_haughty_version_1_option_1 }
	}
	desc = { # Version 2
		text = EVTDESCB_ZE_12004
		trigger = { has_character_flag = child_haughty_version_2_option_1 }
	}
	desc = { # Version 3 - 1
		text = EVTDESCC_ZE_12004
		trigger = { has_character_flag = child_haughty_version_3_random_1 }
	}
	desc = { # Version 3 - 2
		text = EVTDESCD_ZE_12004
		trigger = { has_character_flag = child_haughty_version_3_random_2 }
	}

	is_triggered_only = yes

	# Version 1
	option = {
		name = EVTOPTA_ZE_12004

		trigger = { has_character_flag = child_haughty_version_1_option_1 }

		add_trait = haughty

		FROM = {
			show_scope_change = no

			character_event = { id = ZE.12006 }

			opinion = {
				name = opinion_hate
				who = ROOT
				years = 5
			}
		}

		if = {
			limit = { has_character_flag = child_haughty_wounded }

			add_trait = wounded
			clr_character_flag = child_haughty_wounded
		}
		else_if = {
			limit = { has_character_flag = child_haughty_stressed }

			add_trait = stressed
			clr_character_flag = child_haughty_stressed
		}
	}

	option = {
		name = EVTOPTB_ZE_12004

		trigger = { has_character_flag = child_haughty_version_1_option_1 }

		FROM = {
			show_scope_change = no

			character_event = { id = ZE.12006 }

			opinion = {
				name = opinion_hate
				who = ROOT
				years = 5
			}
		}

		if = {
			limit = { has_character_flag = child_haughty_wounded }

			add_trait = wounded
			clr_character_flag = child_haughty_wounded
		}
		else_if = {
			limit = { has_character_flag = child_haughty_stressed }

			add_trait = stressed
			clr_character_flag = child_haughty_stressed
		}

		ai_chance = { factor = 0 }
	}

	# Version 2
	option = {
		name = EVTOPTC_ZE_12004

		trigger = { has_character_flag = child_haughty_version_2_option_1 }

		prestige = 10
		add_rival = FROM
		add_trait = haughty

		FROM = {
			character_event = { id = ZE.12006 }
		}
	}

	option = {
		name = EVTOPTD_ZE_12004

		trigger = { has_character_flag = child_haughty_version_2_option_1 }

		prestige = 10

		FROM = {
			character_event = { id = ZE.12006 }
		}

		ai_chance = { factor = 0 }
	}

	# Version 3
	option = {
		name = EVTOPTE_ZE_12004

		trigger = { has_character_flag = child_haughty_version_3_random_1 }

		location = {
			show_scope_change = no

			add_province_modifier = {
				name = peasants_upset
				years = 3
			}
		}

		clr_character_flag = child_haughty_version_3_random_1
		clr_character_flag = child_haughty_version_3
	}

	option = {
		name = EVTOPTF_ZE_12004

		trigger = { has_character_flag = child_haughty_version_3_random_2 }

		location = {
			show_scope_change = no

			add_province_modifier = {
				name = peasants_upset
				years = 3
			}
		}

		clr_character_flag = child_haughty_version_3_random_2
		clr_character_flag = child_haughty_version_3
	}
}

# Courtier informed
character_event = {
	id = ZE.12006
	picture = GFX_evt_child_talking

	desc = { # Version 1
		text = EVTDESCA_ZE_12006
		trigger = {
			FROM = { has_character_flag = child_haughty_version_1_option_1 }
		}
	}
	desc = { # Version 2
		text = EVTDESCB_ZE_12006
		trigger = {
			FROM = { has_character_flag = child_haughty_version_2_option_1 }
		}
	}

	is_triggered_only = yes

	# Version 1
	option = {
		name = CURSES

		trigger = {
			FROM = { has_character_flag = child_haughty_version_1_option_1 }
		}

		prestige = -30

		FROM = {
			clr_character_flag = child_haughty_version_1_option_1
			clr_character_flag = child_haughty_version_1
		}
	}

	# Version 2
	option = {
		name = CURSES

		trigger = {
			FROM = { has_character_flag = child_haughty_version_2_option_1 }
		}

		add_rival = FROM

		FROM = {
			clr_character_flag = child_haughty_version_2_option_1
			clr_character_flag = child_haughty_version_2
		}
	}
}

#############################################
# Affectionate								#
#############################################

# Start
character_event = {
	id = ZE.12010
	picture = GFX_evt_child_talking

	desc = { # Version 1
		text = EVTDESCA_ZE_12010 # I have nice toys and other child likes them
		trigger = { has_character_flag = child_affectionate_version_1 }
	}
	desc = { # Version 2
		text = EVTDESCB_ZE_12010 # Parents are away - other adults around to befriend?
		trigger = { has_character_flag = child_affectionate_version_2 }
	}
	desc = { # Version 3
		text = EVTDESCC_ZE_12010 # Peasant child is hungry
		trigger = { has_character_flag = child_affectionate_version_3 }
	}

	is_triggered_only = yes

	only_capable = yes

	trigger = {
		NOR = {
			has_character_flag = ze_child_affectionate_events
			has_character_modifier = the_oubliette
			has_character_modifier = the_dungeon
		}

		is_inaccessible_trigger = no
	}

	immediate = {
		set_character_flag = ze_child_affectionate_events

		# Find courtier to use in events, set custom event target
		# Select event circumstances randomly but influenced by environment
		random_list = {
			33 = {
				trigger = {
					educator = {
						any_courtier = {
							age < 12
							is_incapable = no

							NOR = {
								character = ROOT
								has_character_modifier = the_oubliette
								has_character_modifier = the_dungeon
							}
						}
					}
				}

				set_character_flag = child_affectionate_version_1

				educator = {
					random_courtier = {
						limit = {
							age < 12
							is_incapable = no

							NOR = {
								character = ROOT
								has_character_modifier = the_oubliette
								has_character_modifier = the_dungeon
							}
						}

						save_event_target_as = affectionate_events_char_1

						if = { # If we don't involve a player, skip these events
							limit = {
								ROOT = { ai = yes }
								ai = yes
							}

							ROOT = {
								clr_character_flag = child_affectionate_version_1
								add_trait = affectionate
							}
						}
					}
				}
			}

			33 = {
				set_character_flag = child_affectionate_version_2

				trigger = {
					educator = {
						any_courtier = {
							is_adult = yes
							is_incapable = no

							NOR = {
								is_rival = ROOT
								is_friend = ROOT
								has_character_modifier = the_oubliette
								has_character_modifier = the_dungeon
							}
						}
					}
				}

				educator = {
					random_courtier = {
						limit = {
							is_adult = yes
							is_incapable = no

							NOR = {
								is_rival = ROOT
								is_friend = ROOT
								has_character_modifier = the_oubliette
								has_character_modifier = the_dungeon
							}
						}

						save_event_target_as = affectionate_events_char_1

						if = { # If we don't involve a player, skip these events
							limit = {
								ROOT = { ai = yes }
								ai = yes
							}

							ROOT = {
								clr_character_flag = child_affectionate_version_2
								add_trait = affectionate
							}
						}
					}
				}
			}

			33 = {
				set_character_flag = child_affectionate_version_3

				if = { # If we don't involve a player, skip these events
					limit = { ai = yes }

					clr_character_flag = child_affectionate_version_3
					add_trait = affectionate
				}
			}
		}
	}

	# Version 1
	option = {
		name = EVTOPTA_ZE_12010 # Shares toys with other child

		trigger = { has_character_flag = child_affectionate_version_1 }

		set_character_flag = child_affectionate_version_1_option_1

		event_target:affectionate_events_char_1 = {
			show_scope_change = no

			opinion = {
				name = opinion_happy
				who = ROOT
				years = 3
			}

			character_event = { id = ZE.12012 }
		}

		custom_tooltip = { text = EVTOPTAFF }
	}

	option = {
		name = EVTOPTB_ZE_12010 # Doesn't share toys with other child

		trigger = { has_character_flag = child_affectionate_version_1 }

		set_character_flag = child_affectionate_version_1_option_2

		event_target:affectionate_events_char_1 = {
			show_scope_change = no

			add_rival = ROOT
			character_event = { id = ZE.12012 }
		}

		ai_chance = { factor = 0 }
	}

	# Version 2
	option = {
		name = EVTOPTC_ZE_12010 # Tries to befriend adult courtier

		trigger = { has_character_flag = child_affectionate_version_2 }

		set_character_flag = child_affectionate_version_2_option_1

		event_target:affectionate_events_char_1 = {
			show_scope_change = no

			opinion = {
				name = opinion_happy
				who = ROOT
				years = 5
			}

			character_event = { id = ZE.12012 }
		}

		custom_tooltip = { text = EVTOPTAFF }
	}

	option = {
		name = EVTOPTD_ZE_12010 # Ignores adult courtier

		trigger = { has_character_flag = child_affectionate_version_2 }

		set_character_flag = child_affectionate_version_2_option_2

		event_target:affectionate_events_char_1 = {
			show_scope_change = no

			opinion = {
				name = opinion_annoyed
				who = ROOT
				years = 5
			}

			character_event = { id = ZE.12012 }
		}

		ai_chance = { factor = 0 }
	}

	# Version 3
	option = {
		name = EVTOPTE_ZE_12010 # Peasant child is hungry - give food

		trigger = { has_character_flag = child_affectionate_version_3 }

		add_trait = affectionate

		random_list = {
			50 = {
				custom_tooltip = { text = EVTOPTE_ZE_12010_TOOLTIP1 }
				set_character_flag = child_affectionate_version_3_random_1
			}

			50 = {
				custom_tooltip = { text = EVTOPTE_ZE_12010_TOOLTIP2 }
				set_character_flag = child_affectionate_version_3_random_2
			}
		}

		character_event = { id = ZE.12014 }
	}

	option = {
		name = EVTOPTF_ZE_12010 # Peasant child is hungry - deny food haughtily

		trigger = { has_character_flag = child_affectionate_version_3 }

		prestige = 20
		piety = -5
		clr_character_flag = child_affectionate_version_3

		ai_chance = { factor = 0 }
	}

	option = {
		name = OK # ai option, nothing to see here

		trigger = {
			NOR = {
				has_character_flag = child_affectionate_version_1
				has_character_flag = child_affectionate_version_2
				has_character_flag = child_affectionate_version_3
			}
		}
	}
}

# Courtier reacts
character_event = {
	id = ZE.12012
	picture = GFX_evt_child_talking

	# Version 1
	desc = {
		text = EVTDESCA_ZE_12012
		trigger = {
			FROM = { has_character_flag = child_affectionate_version_1_option_1 }
		}
	}
	desc = {
		text = EVTDESCB_ZE_12012
		trigger = {
			FROM = { has_character_flag = child_affectionate_version_1_option_2 }
		}
	}
	# Version 2
	desc = {
		text = EVTDESCC_ZE_12012
		trigger = {
			FROM = { has_character_flag = child_affectionate_version_2_option_1 }
		}
	}
	desc = {
		text = EVTDESCD_ZE_12012
		trigger = {
			FROM = { has_character_flag = child_affectionate_version_2_option_2 }
		}
	}

	is_triggered_only = yes

	# Version 1
	option = {
		name = EVTOPTA_ZE_12012 # Let's play more

		trigger = {
			FROM = { has_character_flag = child_affectionate_version_1_option_1 }
		}

		FROM = {
			show_scope_change = no

			opinion = {
				name = opinion_happy
				who = ROOT
				years = 3
			}

			character_event = { id = ZE.12014 }
		}

		custom_tooltip = { text = EVTOPTAFF_FROM }
	}

	option = {
		name = EVTOPTB_ZE_12012 # No I don't want to

		trigger = {
			FROM = { has_character_flag = child_affectionate_version_1_option_1 }
		}

		FROM = {
			show_scope_change = no

			opinion = {
				name = opinion_sad
				who = ROOT
				years = 3
			}

			clr_character_flag = child_affectionate_version_1_option_1
			clr_character_flag = child_affectionate_version_1
		}

		ai_chance = { factor = 0 }
	}

	option = {
		name = EVTOPTC_ZE_12012 # Didn't share toys - envy!

		trigger = {
			FROM = { has_character_flag = child_affectionate_version_1_option_2 }
		}

		add_rival = FROM

		FROM = {
			clr_character_flag = child_affectionate_version_1_option_2
			clr_character_flag = child_affectionate_version_1
		}
	}

	# Version 2
	option = {
		name = EVTOPTD_ZE_12012 # Let's be friends

		trigger = {
			FROM = { has_character_flag = child_affectionate_version_2_option_1 }
		}

		FROM = {
			show_scope_change = no

			opinion = {
				name = opinion_happy
				who = ROOT
				years = 3
			}

			character_event = { id = ZE.12014 }
		}

		custom_tooltip = { text = EVTOPTAFF_FROM }
	}

	option = {
		name = EVTOPTE_ZE_12012 # Begone you little urchin

		trigger = {
			FROM = { has_character_flag = child_affectionate_version_2_option_1 }
		}

		FROM = {
			show_scope_change = no

			opinion = {
				name = opinion_bitter
				who = ROOT
				years = 3
			}

			clr_character_flag = child_affectionate_version_2_option_1
			clr_character_flag = child_affectionate_version_2
		}

		ai_chance = { factor = 0 }
	}

	option = {
		name = EVTOPTF_ZE_12012

		trigger = {
			FROM = { has_character_flag = child_affectionate_version_2_option_2 }
		}

		tooltip = {
			opinion = {
				name = opinion_annoyed
				who = FROM
				years = 3
			}
		}

		FROM = {
			clr_character_flag = child_affectionate_version_2_option_2
			clr_character_flag = child_affectionate_version_2
		}
	}
}

# Child choice
character_event = {
	id = ZE.12014
	picture = GFX_evt_child_talking

	# Version 1
	desc = {
		text = EVTDESCA_ZE_12014
		trigger = { has_character_flag = child_affectionate_version_1_option_1 }
	}
	# Version 2
	desc = {
		text = EVTDESCB_ZE_12014
		trigger = { has_character_flag = child_affectionate_version_2_option_1 }
	}
	# Version 3
	desc = {
		text = EVTDESCC_ZE_12014
		trigger = { has_character_flag = child_affectionate_version_3_random_1 }
	}
	desc = {
		text = EVTDESCD_ZE_12014
		trigger = { has_character_flag = child_affectionate_version_3_random_2 	}
	}

	is_triggered_only = yes

	# Version 1
	option = {
		name = EVTOPTA_ZE_12014 # It's so nice to share with others

		trigger = { has_character_flag = child_affectionate_version_1_option_1 }

		FROM = {
			character_event = { id = ZE.12016 }
		}

		add_trait = affectionate
		add_friend = FROM
	}

	option = {
		name = EVTOPTB_ZE_12014 # It was fun to play

		trigger = { has_character_flag = child_affectionate_version_1_option_1 }

		add_friend = FROM

		FROM = {
			character_event = { id = ZE.12016 }
		}

		ai_chance = { factor = 0 }
	}

	# Version 2
	option = {
		name = EVTOPTC_ZE_12014 # I want more friends like this

		trigger = { has_character_flag = child_affectionate_version_2_option_1 }

		add_trait = affectionate
		add_friend = FROM

		FROM = {
			character_event = { id = ZE.12016 }
		}
	}

	option = {
		name = EVTOPTD_ZE_12014 # It was fun

		trigger = { has_character_flag = child_affectionate_version_2_option_1 }

		add_friend = FROM

		add_character_modifier = {
			name = good_times
			years = 3
		}

		FROM = {
			character_event = { id = ZE.12016 }
		}

		ai_chance = { factor = 0 }
	}

	# Version 3
	option = {
		name = EVTOPTE_ZE_12014

		trigger = { has_character_flag = child_affectionate_version_3_random_1 }

		piety = 30
		clr_character_flag = child_affectionate_version_3_random_1
		clr_character_flag = child_affectionate_version_3
	}

	option = {
		name = EVTOPTF_ZE_12014

		trigger = { has_character_flag = child_affectionate_version_3_random_2 }

		piety = 30
		prestige = -30
		clr_character_flag = child_affectionate_version_3_random_2
		clr_character_flag = child_affectionate_version_3
	}
}

# Courtier informed
character_event = {
	id = ZE.12016
	picture = GFX_evt_child_talking

	# Version 1
	desc = {
		text = EVTDESCA_ZE_12016
		trigger = {
			FROM = { has_character_flag = child_affectionate_version_1_option_1 }
		}
	}
	# Version 2
	desc = {
		text = EVTDESCB_ZE_12016
		trigger = {
			FROM = { has_character_flag = child_affectionate_version_2_option_1 }
		}
	}

	is_triggered_only = yes

	# Version 1
	option = {
		name = EVTOPTA_ZE_12016

		trigger = {
			FROM = { has_character_flag = child_affectionate_version_1_option_1 }
		}

		add_friend = FROM

		FROM = {
			clr_character_flag = child_affectionate_version_1_option_1
			clr_character_flag = child_affectionate_version_1
		}
	}

	# Version 2
	option = {
		name = EVTOPTB_ZE_12016

		trigger = {
			FROM = { has_character_flag = child_affectionate_version_2_option_1 }
		}

		add_friend = FROM

		add_character_modifier = {
			name = good_times
			years = 3
		}

		FROM = {
			clr_character_flag = child_affectionate_version_2_option_1
			clr_character_flag = child_affectionate_version_2
		}
	}
}

#############################################
# Timid										#
#############################################

# Start
character_event = {
	id = ZE.12020
	picture = GFX_evt_child_talking

	# Version 1
	desc = {
		text = EVTDESCA_ZE_12020 # Sees person being wronged
		trigger = { has_character_flag = child_timid_version_1 }
	}
	# Version 2
	desc = {
		text = EVTDESCB_ZE_12020 # See child at court that I like. Talk to them or shy away?
		trigger = { has_character_flag = child_timid_version_2 }
	}
	# Version 3
	desc = {
		text = EVTDESCC_ZE_12020 # I am being asked to sing at prestigious court dinner
		trigger = { has_character_flag = child_timid_version_3 }
	}

	is_triggered_only = yes

	only_capable = yes

	trigger = {
		NOR = {
			has_character_flag = ze_child_timid_events
			has_character_modifier = the_oubliette
			has_character_modifier = the_dungeon
		}

		is_inaccessible_trigger = no
	}

	immediate = {
		set_character_flag = ze_child_timid_events

		# Find courtier to use in events, set custom event target
		# Select event circumstances randomly but influenced by environment
		random_list = {
			33 = {
				trigger = {
					educator = {
						any_courtier = {
							is_ruler = no
							is_incapable = no
							is_inaccessible_trigger = no

							NOR = {
								is_parent_of = ROOT
								character = ROOT
								has_character_modifier = the_oubliette
								has_character_modifier = the_dungeon
							}
						}
					}
				}

				set_character_flag = child_timid_version_1

				educator = {
					random_courtier = {
						limit = {
							is_ruler = no
							is_incapable = no
							is_inaccessible_trigger = no

							NOR = {
								is_parent_of = ROOT
								character = ROOT
								has_character_modifier = the_oubliette
								has_character_modifier = the_dungeon
							}
						}

						save_event_target_as = timid_events_char_1

						if = { # If we don't involve a player, skip these events
							limit = {
								ROOT = { ai = yes }
								ai = yes
							}

							ROOT = {
								clr_character_flag = child_timid_version_1
								add_trait = timid
							}
						}
					}
				}
			}

			33 = {
				set_character_flag = child_timid_version_2

				trigger = {
					educator = {
						any_courtier = {
							age < 12
							is_incapable = no
							is_inaccessible_trigger = no

							NOR = {
								character = ROOT
								is_rival = ROOT
								is_friend = ROOT
								has_character_modifier = the_oubliette
								has_character_modifier = the_dungeon
							}
						}
					}
				}

				educator = {
					random_courtier = {
						limit = {
							age < 12
							is_incapable = no
							is_inaccessible_trigger = no

							NOR = {
								character = ROOT
								is_rival = ROOT
								is_friend = ROOT
								has_character_modifier = the_oubliette
								has_character_modifier = the_dungeon
							}
						}

						save_event_target_as = timid_events_char_1

						if = { # If we don't involve a player, skip these events
							limit = {
								ROOT = { ai = yes }
								ai = yes
							}

							ROOT = {
								clr_character_flag = child_timid_version_2
								add_trait = timid
							}
						}
					}
				}
			}

			33 = {
				set_character_flag = child_timid_version_3

				if = { # If we don't involve a player, skip these events
					limit = { ai = yes }

					clr_character_flag = child_timid_version_3
					add_trait = timid
				}
			}
		}
	}

	# Version 1
	option = {
		name = EVTOPTA_ZE_12020 # Sees someone wronged - keeps quiet

		trigger = { has_character_flag = child_timid_version_1 }

		custom_tooltip = { text = EVTOPTTIM }

		set_character_flag = child_timid_version_1_option_1

		event_target:timid_events_char_1 = {
			character_event = { id = ZE.12022 }
		}
	}

	option = {
		name = EVTOPTB_ZE_12020 # Sees someone wronged - speaks up

		trigger = { has_character_flag = child_timid_version_1 }

		set_character_flag = child_timid_version_1_option_2

		event_target:timid_events_char_1 = {
			show_scope_change = no

			opinion = {
				name = opinion_grateful
				who = ROOT
				years = 3
			}

			character_event = { id = ZE.12022 }
		}

		ai_chance = { factor = 0 }
	}

	# Version 2
	option = {
		name = EVTOPTC_ZE_12020 # Sees child - wait a little...

		trigger = { has_character_flag = child_timid_version_2 }

		add_character_modifier = {
			name = mysterious_charm
			years = 4
		}

		custom_tooltip = { text = EVTOPTTIM }

		set_character_flag = child_timid_version_2_option_1

		event_target:timid_events_char_1 = {
			character_event = { id = ZE.12022 }
		}
	}

	option = {
		name = EVTOPTD_ZE_12020 # Sees child - talk to them

		trigger = { has_character_flag = child_timid_version_2 }

		set_character_flag = child_timid_version_2_option_2
		add_friend = event_target:timid_events_char_1

		event_target:timid_events_char_1 = {
			character_event = { id = ZE.12022 }
		}

		ai_chance = { factor = 0 }
	}

	# Version 3
	option = {
		name = EVTOPTE_ZE_12020 #  I am being asked to sing at dinner - no way!

		trigger = { has_character_flag = child_timid_version_3 }

		piety = -30
		add_trait = timid

		random_list = {
			50 = {
				custom_tooltip = { text = EVTOPTE_ZE_12020_TOOLTIP1 } # Everybody laughs
				set_character_flag = child_timid_version_3_random_1
			}

			50 = {
				custom_tooltip = { text = EVTOPTE_ZE_12020_TOOLTIP2 } # Everybody's offended
				set_character_flag = child_timid_version_3_random_2
			}
		}

		character_event = { id = ZE.12024 }
	}

	option = {
		name = EVTOPTF_ZE_12020 # I am being asked to sing at dinner - do it

		trigger = { has_character_flag = child_timid_version_3 }

		piety = 30
		clr_character_flag = child_timid_version_3

		ai_chance = { factor = 0 }
	}

	option = {
		name = OK # AI option, nothing to see here

		trigger = {
			NOR = {
				has_character_flag = child_timid_version_1
				has_character_flag = child_timid_version_2
				has_character_flag = child_timid_version_3
			}
		}
	}
}

# Courtier reacts
character_event = {
	id = ZE.12022
	picture = GFX_evt_child_talking

	# Version 1
	desc = {
		text = EVTDESCA_ZE_12022
		trigger = {
			FROM = { has_character_flag = child_timid_version_1_option_1 }
		}
	}
	desc = {
		text = EVTDESCB_ZE_12022
		trigger = {
			FROM = { has_character_flag = child_timid_version_1_option_2 }
		}
	}
	# Version 2
	desc = {
		text = EVTDESCC_ZE_12022
		trigger = {
			FROM = { has_character_flag = child_timid_version_2_option_1 }
		}
	}
	desc = {
		text = EVTDESCD_ZE_12022
		trigger = {
			FROM = { has_character_flag = child_timid_version_2_option_2 }
		}
	}

	is_triggered_only = yes

	# Version 1
	option = {
		name = EVTOPTA_ZE_12022 # I saw you didn't help me and I'm angry

		trigger = {
			FROM = { has_character_flag = child_timid_version_1_option_1 }
		}

		opinion = {
			name = opinion_angry
			who = FROM
			years = 3
		}

		custom_tooltip = { text = EVTOPTTIM_FROM }

		FROM = {
			character_event = { id = ZE.12024 }
		}
	}

	option = {
		name = EVTOPTB_ZE_12022 # It's ok

		trigger = {
			FROM = { has_character_flag = child_timid_version_1_option_1 }
		}

		opinion = {
			name = opinion_disappointed
			who = FROM
			years = 3
		}

		FROM = {
			clr_character_flag = child_timid_version_1_option_1
			clr_character_flag = child_timid_version_1
		}

		ai_chance = { factor = 0 }
	}

	option = {
		name = EVTOPTC_ZE_12022 # Thank you!

		trigger = {
			FROM = { has_character_flag = child_timid_version_1_option_2 }
		}

		tooltip = {
			opinion = {
				name = opinion_grateful
				who = FROM
				years = 3
			}
		}

		FROM = {
			clr_character_flag = child_timid_version_1_option_2
			clr_character_flag = child_timid_version_1
		}
	}

	# Version 2
	option = {
		name = EVTOPTD_ZE_12022 # Other child (A) is checking me out, react positively

		trigger = {
			FROM = { has_character_flag = child_timid_version_2_option_1 }
		}

		opinion = {
			name = opinion_approves
			who = FROM
			years = 2
		}

		custom_tooltip = { text = EVTOPTTIM_FROM }

		FROM = {
			character_event = { id = ZE.12024 }
		}
	}

	option = {
		name = EVTOPTE_ZE_12022 # Other child (A) is checking me out, react negatively

		trigger = {
			FROM = { has_character_flag = child_timid_version_2_option_1 }
		}

		opinion = {
			name = opinion_disapprove
			who = FROM
			years = 2
		}

		FROM = {
			clr_character_flag = child_timid_version_2_option_1
			clr_character_flag = child_timid_version_2
		}

		ai_chance = { factor = 0 }
	}

	option = {
		name = EVTOPTF_ZE_12022 # Other child wants to play, let's be friends!

		trigger = {
			FROM = { has_character_flag = child_timid_version_2_option_2 }
		}

		add_friend = FROM

		FROM = {
			clr_character_flag = child_timid_version_2_option_2
			clr_character_flag = child_timid_version_2
		}
	}
}

# Child choice
character_event = {
	id = ZE.12024
	picture = GFX_evt_child_talking

	# Version 1
	desc = {
		text = EVTDESCA_ZE_12024
		trigger = { has_character_flag = child_timid_version_1_option_1 }
	}
	# Version 2
	desc = {
		text = EVTDESCB_ZE_12024
		trigger = { has_character_flag = child_timid_version_2_option_1 }
	}
	# Version 3
	desc = {
		text = EVTDESCC_ZE_12024
		trigger = { has_character_flag = child_timid_version_3_random_1 }
	}
	desc = {
		text = EVTDESCD_ZE_12024
		trigger = { has_character_flag = child_timid_version_3_random_2 }
	}

	is_triggered_only = yes

	# Version 1
	option = {
		name = EVTOPTA_ZE_12024 # I won't say anything

		trigger = { has_character_flag = child_timid_version_1_option_1 }

		add_trait = timid
		add_rival = FROM

		FROM = {
			character_event = { id = ZE.12026 }
		}
	}

	option = {
		name = EVTOPTB_ZE_12024 # Step forward at the last minute

		trigger = { has_character_flag = child_timid_version_1_option_1 }

		clr_character_flag = child_timid_version_1_option_1
		clr_character_flag = child_timid_version_1
		set_character_flag = child_timid_version_2_option_1

		FROM = {
			show_scope_change = no

			opinion = {
				name = opinion_grateful
				who = ROOT
				years = 3
			}

			character_event = { id = ZE.12026 }
		}

		ai_chance = { factor = 0 }
	}

	# Version 2
	option = {
		name = EVTOPTC_ZE_12024

		trigger = { has_character_flag = child_timid_version_2_option_1 }

		add_trait = timid
		add_rival = FROM

		FROM = {
			character_event = { id = ZE.12026 }
		}
	}

	option = {
		name = EVTOPTD_ZE_12024

		trigger = { has_character_flag = child_timid_version_2_option_1 }

		FROM = {
			character_event = { id = ZE.12026 }
		}

		ai_chance = { factor = 0 }
	}

	# Version 3
	option = {
		name = EVTOPTE_ZE_12024

		trigger = { has_character_flag = child_timid_version_3_random_1 }

		prestige = 30
		clr_character_flag = child_timid_version_3_random_1
		clr_character_flag = child_timid_version_3
	}

	option = {
		name = EVTOPTF_ZE_12024

		trigger = { has_character_flag = child_timid_version_3_random_2 }

		prestige = -30
		clr_character_flag = child_timid_version_3_random_2
		clr_character_flag = child_timid_version_3
	}
}

# Courtier informed
character_event = {
	id = ZE.12026
	picture = GFX_evt_child_talking

	# Version 1
	desc = {
		text = EVTDESCA_ZE_12026
		trigger = {
			FROM = { has_character_flag = child_timid_version_1_option_1 }
		}
	}
	# Version 2
	desc = {
		text = EVTDESCB_ZE_12026
		trigger = {
			FROM = { has_character_flag = child_timid_version_2_option_1 }
		}
	}

	is_triggered_only = yes

	# Version 1
	option = {
		name = EVTOPTA_ZE_12026

		trigger = {
			FROM = { has_character_flag = child_timid_version_1_option_1 }
		}

		prestige = -50
		add_rival = FROM

		FROM = {
			clr_character_flag = child_timid_version_1_option_1
			clr_character_flag = child_timid_version_1
		}
	}

	# Version 2
	option = {
		name = EVTOPTB_ZE_12026

		trigger = {
			FROM = { has_character_flag = child_timid_version_2_option_1 }
		}

		FROM = {
			show_scope_change = no

			opinion = {
				name = opinion_happy
				who = ROOT
				years = 3
			}

			clr_character_flag = child_timid_version_2_option_1
			clr_character_flag = child_timid_version_2
		}
	}
}

#############################################
# Rowdy										#
#############################################

# Start
character_event = {
	id = ZE.12030
	picture = GFX_evt_child_talking

	# Version 1
	desc = {
		text = EVTDESCA_ZE_12030 # Gets into rivalry and fight with other child
		trigger = { has_character_flag = child_rowdy_version_1 }
	}
	# Version 2
	desc = {
		text = EVTDESCB_ZE_12030 # Does pranks climbing around and breaking in, getting into trouble, with other child
		trigger = { has_character_flag = child_rowdy_version_2 }
	}
	# Version 3
	desc = {
		text = EVTDESCC_ZE_12030 # Goaded to climb tall tower...
		trigger = { has_character_flag = child_rowdy_version_3 }
	}

	is_triggered_only = yes

	only_capable = yes

	trigger = {
		is_inaccessible_trigger = no

		NOR = {
			has_character_flag = ze_child_rowdy_events
			has_character_modifier = the_oubliette
			has_character_modifier = the_dungeon
		}
	}

	immediate = {
		set_character_flag = ze_child_rowdy_events

		# Find courtier to use in events, set custom event target
		# Select event circumstances randomly but influenced by environment
		random_list = {
			33 = {
				trigger = {
					educator = {
						any_courtier = {
							age < 12
							is_incapable = no
							is_inaccessible_trigger = no

							NOR = {
								character = ROOT
								is_rival = ROOT
								has_character_modifier = the_oubliette
								has_character_modifier = the_dungeon
							}
						}
					}
				}

				set_character_flag = child_rowdy_version_1

				educator = {
					random_courtier = {
						limit = {
							age < 12
							is_incapable = no
							is_inaccessible_trigger = no

							NOR = {
								character = ROOT
								is_rival = ROOT
								has_character_modifier = the_oubliette
								has_character_modifier = the_dungeon
							}
						}

						save_event_target_as = rowdy_events_char_1

						if = { # If we don't involve a player, skip these events
							limit = {
								ROOT = { ai = yes }
								ai = yes
							}

							ROOT = {
								clr_character_flag = child_rowdy_version_1
								add_trait = rowdy
							}
						}
					}
				}
			}

			33 = {
				set_character_flag = child_rowdy_version_2

				trigger = {
					educator = {
						any_courtier = {
							age < 12
							is_incapable = no
							is_inaccessible_trigger = no

							NOR = {
								character = ROOT
								is_rival = ROOT
								has_character_modifier = the_oubliette
								has_character_modifier = the_dungeon
							}
						}
					}
				}

				educator = {
					random_courtier = {
						limit = {
							age < 12
							is_incapable = no
							is_inaccessible_trigger = no

							NOR = {
								character = ROOT
								is_rival = ROOT
								has_character_modifier = the_oubliette
								has_character_modifier = the_dungeon
							}
						}

						save_event_target_as = rowdy_events_char_1

						if = { # If we don't involve a player, skip these events
							limit = {
								ROOT = { ai = yes }
								ai = yes
							}

							ROOT = {
								clr_character_flag = child_rowdy_version_2
								add_trait = rowdy
							}
						}
					}
				}
			}

			33 = {
				set_character_flag = child_rowdy_version_3

				if = { # If we don't involve a player, skip these events
					limit = { ai = yes }

					clr_character_flag = child_rowdy_version_3
					add_trait = rowdy
				}
			}
		}
	}

	# Version 1
	option = {
		name = EVTOPTA_ZE_12030 # Conflict with other child begins - provoke/stand ground

		trigger = { has_character_flag = child_rowdy_version_1 }

		prestige = 10
		set_character_flag = child_rowdy_version_1_option_1

		event_target:rowdy_events_char_1 = {
			show_scope_change = no

			character_event = {
				id = ZE.12032
				tooltip = EVTOPTA_ZE_12030_TOOLTIP1
			}
		}

		custom_tooltip = { text = EVTOPTROW }
	}

	option = {
		name = EVTOPTB_ZE_12030 # Conflict with other child begins - back down

		trigger = { has_character_flag = child_rowdy_version_1 }

		prestige = -10

		ai_chance = { factor = 0 }
	}

	# Version 2
	option = {
		name = EVTOPTC_ZE_12030 # Incite other child to do pranks

		trigger = { has_character_flag = child_rowdy_version_2 }

		set_character_flag = child_rowdy_version_2_option_1

		event_target:rowdy_events_char_1 = {
			character_event = { id = ZE.12032 }
		}

		custom_tooltip = { text = EVTOPTROW }
	}

	option = {
		name = EVTOPTD_ZE_12030 # Don't, it's not fun anyway, play dice instead

		trigger = { has_character_flag = child_rowdy_version_2 }

		add_character_modifier = {
			name = playing_dice
			years = 3
		}

		set_character_flag = child_rowdy_version_2_option_2

		event_target:rowdy_events_char_1 = {
			character_event = { id = ZE.12032 }
		}

		ai_chance = { factor = 0 }
	}

	# Version 3
	option = {
		name = EVTOPTE_ZE_12030 # Climb it!

		trigger = { has_character_flag = child_rowdy_version_3 }

		add_trait = rowdy

		random_list = {
			50 = {
				custom_tooltip = { text = EVTOPTE_ZE_12030_TOOLTIP1 }
				set_character_flag = child_rowdy_version_3_random_1
			}

			50 = {
				custom_tooltip = { text = EVTOPTE_ZE_12030_TOOLTIP2 }
				set_character_flag = child_rowdy_version_3_random_2
			}
		}

		character_event = { id = ZE.12034 }
	}

	option = {
		name = EVTOPTF_ZE_12030 # Back down

		trigger = { has_character_flag = child_rowdy_version_3 }

		prestige = -30
		clr_character_flag = child_rowdy_version_3

		ai_chance = { factor = 0 }
	}

	option = {
		name = OK # AI option, nothing to see here

		trigger = {
			NOR = {
				has_character_flag = child_rowdy_version_1
				has_character_flag = child_rowdy_version_2
				has_character_flag = child_rowdy_version_3
			}
		}
	}
}

# Courtier reacts
character_event = {
	id = ZE.12032
	picture = GFX_evt_child_talking

	# Version 1
	desc = {
		text = EVTDESCA_ZE_12032 # Child is messing with me
		trigger = {
			FROM = { has_character_flag = child_rowdy_version_1_option_1 }
		}
	}
	desc = {
		text = EVTDESCB_ZE_12032 # Child is unhappy but wants to be friends
		trigger = {
			FROM = { has_character_flag = child_rowdy_version_1_option_2 }
		}
	}
	# Version 2
	desc = {
		text = EVTDESCC_ZE_12032 # Incited to do pranks
		trigger = {
			FROM = { has_character_flag = child_rowdy_version_2_option_1 }
		}
	}
	desc = {
		text = EVTDESCD_ZE_12032 # Play cards
		trigger = {
			FROM = { has_character_flag = child_rowdy_version_2_option_2 }
		}
	}

	is_triggered_only = yes

	# Version 1
	option = {
		name = EVTOPTA_ZE_12032 # Conflict with other child - stand ground/escalate

		trigger = {
			FROM = { has_character_flag = child_rowdy_version_1_option_1 }
		}

		prestige = 20

		FROM = {
			show_scope_change = no

			opinion = {
				name = opinion_angry
				who = ROOT
				years = 3
			}

			character_event = { id = ZE.12034 }
		}

		custom_tooltip = { text = EVTOPTROW_FROM }
	}

	option = {
		name = EVTOPTB_ZE_12032 # No conflict with other child

		trigger = {
			FROM = { has_character_flag = child_rowdy_version_1_option_1 }
		}

		prestige = -20

		FROM = {
			show_scope_change = no

			clr_character_flag = child_rowdy_version_1_option_1
			clr_character_flag = child_rowdy_version_1
			character_event = { id = ZE.12034 }
		}

		ai_chance = { factor = 0 }
	}

	option = {
		name = EVTOPTC_ZE_12032 # No conflict with other child

		trigger = {
			FROM = { has_character_flag = child_rowdy_version_1_option_1 }
		}

		prestige = 20

		FROM = {
			clr_character_flag = child_rowdy_version_1_option_1
			clr_character_flag = child_rowdy_version_1
			character_event = { id = ZE.12034 }
		}

		ai_chance = { factor = 0 }
	}

	# Version 2
	option = {
		name = EVTOPTD_ZE_12032 # Incited to do pranks - accept

		trigger = {
			FROM = { has_character_flag = child_rowdy_version_2_option_1 }
		}

		piety = -20

		add_character_modifier = {
			name = good_times
			years = 3
		}

		FROM = {
			character_event = { id = ZE.12034 }
		}

		custom_tooltip = { text = EVTOPTROW_FROM }
	}

	option = {
		name = EVTOPTE_ZE_12032 # Incited to do pranks - decline

		trigger = {
			FROM = { has_character_flag = child_rowdy_version_2_option_1 }
		}

		piety = 20
		set_character_flag = child_rowdy_version_2_option_1_2

		FROM = {
			character_event = { id = ZE.12034 }
		}

		ai_chance = { factor = 0 }
	}

	option = {
		name = EVTOPTF_ZE_12032 # Playing dice calmly

		trigger = {
			FROM = { has_character_flag = child_rowdy_version_2_option_2 }
		}

		add_character_modifier = {
			name = playing_dice
			years = 3
		}

		FROM = {
			clr_character_flag = child_rowdy_version_2_option_2
			clr_character_flag = child_rowdy_version_2
		}
	}
}

# Child choice
character_event = {
	id = ZE.12034
	picture = GFX_evt_child_talking

	# Version 1
	desc = {
		text = EVTDESCA_ZE_12034 # Conflict escalated
		trigger = { has_character_flag = child_rowdy_version_1_option_1 }
	}
	# Version 2
	desc = {
		text = EVTDESCB_ZE_12034  # We do pranks!
		trigger = {
			has_character_flag = child_rowdy_version_2_option_1
			NOT = { has_character_flag = child_rowdy_version_2_option_1_2 }
		}
	}
	desc = {
		text = EVTDESCB2_ZE_12034  # What no pranks?
		trigger = { has_character_flag = child_rowdy_version_2_option_1_2 }
	}
	# Version 3
	desc = {
		text = EVTDESCC_ZE_12034 # Slipped in tower
		trigger = { has_character_flag = child_rowdy_version_3_random_1 }
	}
	desc = {
		text = EVTDESCD_ZE_12034 # Climbed like a squirrel
		trigger = { has_character_flag = child_rowdy_version_3_random_2 }
	}

	is_triggered_only = yes

	# Version 1
	option = {
		name = EVTOPTA_ZE_12034 # Conflict with other child - fight!

		trigger = { has_character_flag = child_rowdy_version_1_option_1 }

		add_trait = rowdy
		add_rival = FROM

		FROM = {
			character_event = { id = ZE.12036 }
		}
	}

	option = {
		name = EVTOPTB_ZE_12034 # Conflict with other child - walk away

		trigger = { has_character_flag = child_rowdy_version_1_option_1 }

		prestige = -20

		ai_chance = { factor = 0 }
	}

	# Version 2
	option = {
		name = EVTOPTC_ZE_12034 # Do crazy pranks

		trigger = { has_character_flag = child_rowdy_version_2_option_1 }

		add_trait = rowdy
		add_friend = FROM

		add_character_modifier = {
			name = good_times
			years = 3
		}

		FROM = {
			character_event = { id = ZE.12036 }
		}
	}

	option = {
		name = EVTOPTD_ZE_12034 # Do normal pranks

		trigger = {
			has_character_flag = child_rowdy_version_2_option_1
			NOT = { has_character_flag = child_rowdy_version_2_option_1_2 }
		}

		add_friend = FROM

		add_character_modifier = {
			name = good_times
			years = 3
		}

		FROM = {
			character_event = { id = ZE.12036 }
		}

		ai_chance = { factor = 0 }
	}

	option = {
		name = EVTOPTE_ZE_12032 # Incited to do pranks - declined

		trigger = { has_character_flag = child_rowdy_version_2_option_1_2 }

		prestige = -10
		clr_character_flag = child_rowdy_version_2_option_1
		clr_character_flag = child_rowdy_version_2_option_1_2
		clr_character_flag = child_rowdy_version_2
	}

	# Version 3
	option = {
		name = EVTOPTF_ZE_12034

		trigger = { has_character_flag = child_rowdy_version_3_random_1 }

		prestige = -10

		random = {
			chance = 10
			add_trait_wounded_effect = yes
		}

		clr_character_flag = child_rowdy_version_3_random_1
		clr_character_flag = child_rowdy_version_3
	}

	option = {
		name = EVTOPTG_ZE_12034

		trigger = { has_character_flag = child_rowdy_version_3_random_2 }

		prestige = 30
		clr_character_flag = child_rowdy_version_3_random_2
		clr_character_flag = child_rowdy_version_3
	}
}

# Courtier informed
character_event = {
	id = ZE.12036
	picture = GFX_evt_child_talking

	# Version 1
	desc = {
		text = EVTDESCA_ZE_12036 # Fight happened!
		trigger = {
			FROM = { has_character_flag = child_rowdy_version_1_option_1 }
		}
	}
	# Version 2
	desc = {
		text = EVTDESCB_ZE_12036 # We did pranks and it was fun
		trigger = {
			FROM = { has_character_flag = child_rowdy_version_2_option_1 }
		}
	}

	is_triggered_only = yes

	# Version 1
	option = {
		name = EVTOPTA_ZE_12036 # Fight happened!

		trigger = {
			FROM = { has_character_flag = child_rowdy_version_1_option_1 }
		}

		add_rival = FROM

		FROM = {
			clr_character_flag = child_rowdy_version_1_option_1
			clr_character_flag = child_rowdy_version_1
		}
	}

	# Version 2
	option = {
		name = EVTOPTB_ZE_12036 # We did pranks and it was fun

		trigger = {
			FROM = { has_character_flag = child_rowdy_version_2_option_1 }
		}

		add_friend = FROM

		FROM = {
			clr_character_flag = child_rowdy_version_2_option_1
			clr_character_flag = child_rowdy_version_2
		}
	}
}

#############################################
# Willful									#
#############################################

# Start
character_event = {
	id = ZE.12040
	picture = GFX_evt_child_talking

	# Version 1
	desc = {
		text = EVTDESCA_ZE_12040 # Old hat doesn't fit, or will it?
		picture = GFX_evt_guardian
		trigger = {
			has_character_flag = child_willful_version_1
		}
	}
	# Version 2
	desc = {
		text = EVTDESCB_ZE_12040 # Spotted haunted house, go there?
		picture = GFX_evt_mysterious_forest
		trigger = {
			has_character_flag = child_willful_version_2
		}
	}
	# Version 3
	desc = {
		text = EVTDESCC_ZE_12040 # Fishing for hours with nothing to show, stay?
		picture = GFX_evt_fishing
		trigger = {
			has_character_flag = child_willful_version_3
		}
	}

	is_triggered_only = yes

	only_capable = yes

	trigger = {
		is_inaccessible_trigger = no

		NOR = {
			has_character_flag = ze_child_willful_events
			has_character_modifier = the_oubliette
			has_character_modifier = the_dungeon
		}
	}

	immediate = {
		set_character_flag = ze_child_willful_events

		# Find viable courtier or if none, only make third version available
		random_list = {
			33 = {
				trigger = {
					educator = {
						any_courtier = {
							is_adult = yes
							is_incapable = no

							NOR = {
								has_character_modifier = the_oubliette
								has_character_modifier = the_dungeon
							}
						}
					}
				}

				set_character_flag = child_willful_version_1

				educator = {
					random_courtier = {
						limit = {
							is_adult = yes
							is_incapable = no

							NOR = {
								has_character_modifier = the_oubliette
								has_character_modifier = the_dungeon
							}
						}

						save_event_target_as = willful_events_char_1

						if = { # If we don't involve a player, skip these events
							limit = {
								ROOT = { ai = yes }
								ai = yes
							}

							ROOT = {
								clr_character_flag = child_willful_version_1
								add_trait = willful
							}
						}
					}
				}
			}

			33 = {
				trigger = {
					educator = {
						any_courtier = {
							is_adult = no
							is_incapable = no

							NOR = {
								has_character_modifier = the_oubliette
								has_character_modifier = the_dungeon
							}
						}
					}
				}

				set_character_flag = child_willful_version_2

				educator = {
					random_courtier = {
						limit = {
							is_adult = no
							is_incapable = no

							NOR = {
								has_character_modifier = the_oubliette
								has_character_modifier = the_dungeon
							}
						}

						save_event_target_as = willful_events_char_2

						if = { # If we don't involve a player, skip these events
							limit = {
								ROOT = { ai = yes }
								ai = yes
							}

							ROOT = {
								clr_character_flag = child_willful_version_2
								add_trait = willful
							}
						}
					}
				}
			}

			33 = {
				set_character_flag = child_willful_version_3

				if = { # If we don't involve a player, skip these events
					limit = { ai = yes }

					clr_character_flag = child_willful_version_3
					add_trait = willful
				}
			}
		}
	}

	# Version 1
	option = {
		name = EVTOPTA_ZE_12040 # Tell adult to help out with the hat

		trigger = { has_character_flag = child_willful_version_1 }

		custom_tooltip = { text = EVTOPTWIL }

		set_character_flag = child_willful_version_1_asked_for_help

		event_target:willful_events_char_1 = {
			character_event = { id = ZE.12042 }
		}
	}

	option = {
		name = EVTOPTB_ZE_12040 # Give the hat to someone whom it fits

		trigger = { has_character_flag = child_willful_version_1 }

		piety = 20
		character_event = { id = ZE.12047 } # Clear all flags

		ai_chance = { factor = 0 }
	}

	# Version 2
	option = {
		name = EVTOPTC_ZE_12040 # Go inside scary house

		trigger = { has_character_flag = child_willful_version_2 }

		prestige = 10

		custom_tooltip = { text = EVTOPTWIL }

		set_character_flag = child_willful_version_2_go_inside

		event_target:willful_events_char_2 = {
			character_event = { id = ZE.12042 }
		}
	}

	option = {
		name = EVTOPTD_ZE_12040 # Go home, friend is scared

		trigger = { has_character_flag = child_willful_version_2 }

		piety = 10
		set_character_flag = child_willful_version_2_turn_back

		event_target:willful_events_char_2 = {
			character_event = { id = ZE.12042 }
		}

		ai_chance = { factor = 0 }
	}

	# Version 3
	option = {
		name = EVTOPTE_ZE_12040 # Stay longer to try to get some fish

		trigger = { has_character_flag = child_willful_version_3 }

		add_trait = willful

		random_list = {
			50 = {
				custom_tooltip = { text = EVTOPTE_ZE_12040_TOOLTIP1 }
				set_character_flag = child_willful_version_3_huge_fish

				tooltip = {
					prestige = 30
				}
			}

			50 = {
				custom_tooltip = { text = EVTOPTE_ZE_12040_TOOLTIP2 }
				set_character_flag = child_willful_version_3_small_fish

				tooltip = {
					prestige = -30
				}
			}
		}

		character_event = { id = ZE.12044 }
	}

	option = {
		name = EVTOPTF_ZE_12040 # Time to give up

		trigger = { has_character_flag = child_willful_version_3 }

		character_event = { id = ZE.12047 } # Clear all flags

		ai_chance = { factor = 0 }
	}

	option = {
		name = OK # ai option, nothing to see here

		trigger = {
			NOR = {
				has_character_flag = child_willful_version_1
				has_character_flag = child_willful_version_2
				has_character_flag = child_willful_version_3
			}
		}
	}
}

# Courtier reacts
character_event = {
	id = ZE.12042
	picture = GFX_evt_child_talking

	# Version 1
	desc = {
		text = EVTDESCA_ZE_12042 # Child wants help to fit too small hat
		picture = GFX_evt_guardian
		trigger = {
			FROM = { has_character_flag = child_willful_version_1_asked_for_help }
		}
	}
	# Version 2
	desc = {
		text = EVTDESCB_ZE_12042 # Friend wants to go to scary house, we shouldn't
		picture = GFX_evt_mysterious_forest
		trigger = {
			FROM = { has_character_flag = child_willful_version_2_go_inside }
		}
	}

	is_triggered_only = yes

	# Version 1
	option = {
		name = EVTOPTA_ZE_12042 # Smack child on the head for talking back

		trigger = {
			FROM = { has_character_flag = child_willful_version_1_asked_for_help }
		}

		prestige = 20

		FROM = {
			set_character_flag = child_willful_version_1_slapped
			character_event = { id = ZE.12044 }
		}

		ai_chance = { factor = 0 }
	}

	option = {
		name = EVTOPTB_ZE_12042 # Let child have it his/her way

		trigger = {
			FROM = { has_character_flag = child_willful_version_1_asked_for_help }
		}

		prestige = -20

		FROM = {
			character_event = { id = ZE.12047 } # Clear all flags
		}

		custom_tooltip = { text = EVTOPTWIL_FROM }
	}

	# Version 2
	option = {
		name = EVTOPTC_ZE_12042 # Don't want to go in there

		trigger = {
			FROM = { has_character_flag = child_willful_version_2_go_inside }
		}

		piety = 10

		any_courtier = {
			show_scope_change = no

			opinion = {
				name = opinion_approves
				who = ROOT
				years = 2
			}
		}

		FROM = {
			set_character_flag = child_willful_version_2_refused_to_go
			character_event = { id = ZE.12044 }
		}

		custom_tooltip = { text = EVTOPTWIL_FROM }
	}

	option = {
		name = EVTOPTD_ZE_12042 # I can do this

		trigger = {
			FROM = { has_character_flag = child_willful_version_2_go_inside }
		}

		prestige = 20

		FROM = {
			character_event = { id = ZE.12047 } # Clear all flags
		}

		ai_chance = { factor = 0 }
	}
}

# Child reacts
character_event = {
	id = ZE.12044
	picture = GFX_evt_child_talking

	# Version 1
	desc = {
		text = EVTDESCA_ZE_12044
		picture = GFX_evt_guardian
		trigger = { has_character_flag = child_willful_version_1 }
	}
	# Version 2
	desc = {
		text = EVTDESCB_ZE_12044
		picture = GFX_evt_mysterious_forest
		trigger = { has_character_flag = child_willful_version_2 }
	}
	# Version 3
	desc = {
		text = EVTDESCC_ZE_12044
		picture = GFX_evt_fishing
		trigger = { has_character_flag = child_willful_version_3_huge_fish }
	}
	desc = {
		text = EVTDESCD_ZE_12044
		picture = GFX_evt_fishing
		trigger = { has_character_flag = child_willful_version_3_small_fish }
	}

	is_triggered_only = yes

	# Version 1
	option = {
		name = EVTOPTA_ZE_12044 # I hate courtier

		trigger = { has_character_flag = child_willful_version_1_slapped }

		ai_chance = { factor = 40 }

		prestige = 20

		opinion = {
			name = opinion_dislike
			who = FROM
			years = 2
		}

		set_character_flag = child_willful_version_1_dislike

		FROM = {
			character_event = { id = ZE.12046 }
		}
	}

	option = {
		name = EVTOPTB_ZE_12044 # Someone else will help me fix it

		trigger = { has_character_flag = child_willful_version_1_slapped }

		ai_chance = { factor = 60 }

		add_trait = willful
		set_character_flag = child_willful_version_1_persistent

		FROM = {
			character_event = { id = ZE.12046 }
		}
	}

	# Version 2
	option = {
		name = EVTOPTC_ZE_12044 # force other child to come with

		trigger = { has_character_flag = child_willful_version_2_refused_to_come_with }

		add_trait = willful
		set_character_flag = child_willful_version_2_blackmail

		FROM = {
			character_event = { id = ZE.12046 }
		}
	}

	option = {
		name = EVTOPTD_ZE_12044 # agree to go back with child

		trigger = { has_character_flag = child_willful_version_2_refused_to_come_with }

		prestige = -20
		set_character_flag = child_willful_version_2_go_back

		FROM = {
			character_event = { id = ZE.12046 }
		}

		ai_chance = { factor = 0 }
	}

	# Version 3
	option = {
		name = EVTOPTE_ZE_12044

		trigger = { has_character_flag = child_willful_version_3_huge_fish }

		prestige = 30
		character_event = { id = ZE.12047 } # Clear all flags
	}

	option = {
		name = EVTOPTF_ZE_12044

		trigger = { has_character_flag = child_willful_version_3_small_fish }

		prestige = -30
		character_event = { id = ZE.12047 } # Clear all flags
	}
}

# Courtier informed
character_event = {
	id = ZE.12046
	picture = GFX_evt_child_talking

	# Version 1
	desc = {
		text = EVTDESCA_ZE_12046
		picture = GFX_evt_guardian
		trigger = {
			FROM = { has_character_flag = child_willful_version_1_dislike }
		}
	}
	desc = {
		text = EVTDESCB_ZE_12046
		picture = GFX_evt_guardian
		trigger = {
			FROM = { has_character_flag = child_willful_version_1_someone_else }
		}
	}
	desc = {
		text = EVTDESCC_ZE_12046
		picture = GFX_evt_mysterious_forest
		trigger = {
			FROM = { has_character_flag = child_willful_version_2_blackmail }
		}
	}
	desc = {
		text = EVTDESCD_ZE_12046
		picture = GFX_evt_mysterious_forest
		trigger = {
			FROM = { has_character_flag = child_willful_version_2_go_back }
		}
	}

	is_triggered_only = yes

	# Version 1
	option = {
		name = EVTOPTA_ZE_12046

		trigger = {
			FROM = { has_character_flag = child_willful_version_1_dislike }
		}

		FROM = {
			character_event = { id = ZE.12047 } # Clear all flags
		}
	}

	option = {
		name = EVTOPTB_ZE_12046

		trigger = {
			FROM = { has_character_flag = child_willful_version_1_someone_else }
		}

		FROM = {
			show_scope_change = no

			tooltip = {
				add_trait = willful
			}

			character_event = { id = ZE.12047 } # Clear all flags
		}
	}

	# Version 2
	option = {
		name = EVTOPTC_ZE_12046

		trigger = {
			FROM = { has_character_flag = child_willful_version_2_blackmail }
		}

		FROM = {
			show_scope_change = no

			tooltip = {
				add_trait = willful
			}

			character_event = { id = ZE.12047 } # Clear all flags
		}
	}

	option = {
		name = EVTOPTD_ZE_12046

		trigger = {
			FROM = { has_character_flag = child_willful_version_2_go_back }
		}

		FROM = {
			character_event = { id = ZE.12047 } # Clear all flags
		}
	}
}

# Catch all event flag clear
character_event = {
	id = ZE.12047

	is_triggered_only = yes
	hide_window = yes

	immediate = {
		clr_character_flag = child_willful_version_1
		clr_character_flag = child_willful_version_2
		clr_character_flag = child_willful_version_3
		clr_character_flag = child_willful_version_1_asked_for_help
		clr_character_flag = child_willful_version_2_go_inside
		clr_character_flag = child_willful_version_2_turn_back
		clr_character_flag = child_willful_version_3_huge_fish
		clr_character_flag = child_willful_version_3_small_fish
		clr_character_flag = child_willful_version_1_slapped
		clr_character_flag = child_willful_version_2_refused_to_go
		clr_character_flag = child_willful_version_1_dislike
		clr_character_flag = child_willful_version_1_persistent
		clr_character_flag = child_willful_version_2_blackmail
		clr_character_flag = child_willful_version_2_go_back
	}
}

#############################################
# Brooding									#
#############################################

# Start
character_event = {
	id = ZE.12050
	picture = GFX_evt_child_talking

	# Version 1
	desc = {
		text = EVTDESCA_ZE_12050 # Drunkard courtier doesn't keep promises
		picture = GFX_evt_drunk
		trigger = { has_character_flag = child_brooding_version_1 }
	}
	# Version 2
	desc = {
		text = EVTDESCB_ZE_12050 # Learn whistling
		picture = GFX_evt_guardian
		trigger = { has_character_flag = child_brooding_version_2 }
	}
	# Version 3
	desc = {
		text = EVTDESCC_ZE_12050 # Commoner child needs help
		picture = GFX_evt_child_bully
		trigger = { has_character_flag = child_brooding_version_3 }
	}

	is_triggered_only = yes

	only_capable = yes

	trigger = {
		is_inaccessible_trigger = no

		NOR = {
			has_character_flag = ze_child_brooding_events
			has_character_modifier = the_oubliette
			has_character_modifier = the_dungeon
		}
	}

	immediate = {
		set_character_flag = ze_child_brooding_events

		# Find viable courtier or if none, only make third version available
		random_list = {
			33 = {
				trigger = {
					educator = {
						any_courtier = {
							trait = drunkard
							is_incapable = no

							NOR = {
								has_character_modifier = the_oubliette
								has_character_modifier = the_dungeon
							}
						}
					}
				}

				set_character_flag = child_brooding_version_1

				educator = {
					random_courtier = {
						limit = {
							trait = drunkard
							is_incapable = no

							NOR = {
								has_character_modifier = the_oubliette
								has_character_modifier = the_dungeon
							}
						}

						save_event_target_as = brooding_events_char_1

						if = { # If we don't involve a player, skip these events
							limit = {
								ROOT = { ai = yes }
								ai = yes
							}

							ROOT = {
								clr_character_flag = child_brooding_version_1
								add_trait = brooding
							}
						}
					}
				}
			}

			33 = {
				trigger = {
					educator = {
						any_courtier = {
							is_adult = yes
							is_incapable = no

							NOR = {
								has_character_modifier = the_oubliette
								has_character_modifier = the_dungeon
							}
						}
					}
				}

				set_character_flag = child_brooding_version_2

				educator = {
					random_courtier = {
						limit = {
							is_adult = yes
							is_incapable = no

							NOR = {
								has_character_modifier = the_oubliette
								has_character_modifier = the_dungeon
							}
						}

						save_event_target_as = brooding_events_char_2

						if = { # If we don't involve a player, skip these events
							limit = {
								ROOT = { ai = yes }
								ai = yes
							}

							ROOT = {
								clr_character_flag = child_brooding_version_2
								add_trait = brooding
							}
						}
					}
				}
			}

			33 = {
				set_character_flag = child_brooding_version_3

				if = { # If we don't involve a player, skip these events
					limit = { ai = yes }

					clr_character_flag = child_brooding_version_3
					add_trait = brooding
				}
			}
		}
	}

	# Version 1
	option = {
		name = EVTOPTA_ZE_12050 # Pour water on drunk courtier

		trigger = { has_character_flag = child_brooding_version_1 }

		custom_tooltip = { text = EVTOPTBRO }

		set_character_flag = child_brooding_version_1_poured_water

		event_target:brooding_events_char_1 = {
			character_event = { id = ZE.12052 }
		}
	}

	option = {
		name = EVTOPTB_ZE_12050 # Leave courtier alone

		trigger = { has_character_flag = child_brooding_version_1 }

		set_character_flag = child_brooding_version_1_left_alone

		event_target:brooding_events_char_1 = {
			character_event = { id = ZE.12052 }
		}

		ai_chance = { factor = 0 }
	}

	# Version 2
	option = {
		name = EVTOPTC_ZE_12050 # Ask how courtier can whistle so easily

		trigger = { has_character_flag = child_brooding_version_2 }

		custom_tooltip = { text = EVTOPTBRO }

		set_character_flag = child_brooding_version_2_asked

		event_target:brooding_events_char_2 = {
			character_event = { id = ZE.12052 }
		}
	}

	option = {
		name = EVTOPTD_ZE_12050 # Keep trying to whistle

		trigger = { has_character_flag = child_brooding_version_2 }

		prestige = 20
		set_character_flag = child_brooding_version_2_kept_trying

		event_target:brooding_events_char_2 = {
			character_event = { id = ZE.12052 }
		}

		ai_chance = { factor = 0 }
	}

	# Version 3
	option = {
		name = EVTOPTE_ZE_12050 # Go help the small child

		trigger = { has_character_flag = child_brooding_version_3 }

		custom_tooltip = { text = EVTOPTBRO }
		character_event = { id = ZE.12054 }
	}

	option = {
		name = EVTOPTF_ZE_12050 # Leave the children be

		trigger = { has_character_flag = child_brooding_version_3 }

		change_intrigue = 1
		character_event = { id = ZE.12057 } # Clear all flags

		ai_chance = { factor = 0 }
	}

	option = {
		name = OK # ai option, nothing to see here

		trigger = {
			NOR = {
				has_character_flag = child_brooding_version_1
				has_character_flag = child_brooding_version_2
				has_character_flag = child_brooding_version_3
			}
		}
	}
}

# Courtier reacts
character_event = {
	id = ZE.12052
	picture = GFX_evt_child_talking

	# Version 1
	desc = {
		text = EVTDESCA_ZE_12052 # Poured water on me
		picture = GFX_evt_drunk
		trigger = {
			FROM = { has_character_flag = child_brooding_version_1_poured_water }
		}
	}
	desc = {
		text = EVTDESCB_ZE_12052 # Left me, feeling guilty
		picture = GFX_evt_drunk
		trigger = {
			FROM = { has_character_flag = child_brooding_version_1_left_alone }
		}
	}
	# Version 2
	desc = {
		text = EVTDESCC_ZE_12052 # Wants to know secret to whistling
		picture = GFX_evt_guardian
		trigger = {
			FROM = { has_character_flag = child_brooding_version_2_asked }
		}
	}
	desc = {
		text = EVTDESCD_ZE_12052 # Keeps trying to whistle
		picture = GFX_evt_guardian
		trigger = {
			FROM = { has_character_flag = child_brooding_version_2_kept_trying }
		}
	}

	is_triggered_only = yes

	# Version 1
	option = {
		name = EVTOPTA_ZE_12052 # Show child who's boss

		trigger = {
			FROM = { has_character_flag = child_brooding_version_1_poured_water }
		}

		prestige = 30

		custom_tooltip = { text = EVTOPTBRO_FROM }

		FROM = {
			set_character_flag = child_brooding_version_1_got_angry
			character_event = { id = ZE.12054 }
		}
	}

	option = {
		name = EVTOPTB_ZE_12052 # Apologize to child

		trigger = {
			FROM = { has_character_flag = child_brooding_version_1_poured_water }
		}

		prestige = -30

		custom_tooltip = { text = EVTOPTBRO_FROM }

		FROM = {
			set_character_flag = child_brooding_version_1_apologized
			character_event = { id = ZE.12054 }
		}

		ai_chance = { factor = 0 }
	}

	option = {
		name = EVTOPTC_ZE_12052 # Saw child, remembered commitments

		trigger = {
			FROM = { has_character_flag = child_brooding_version_1_left_alone }
		}

		prestige = -30

		FROM = {
			character_event = { id = ZE.12057 } # Clear all flags
		}
	}

	# Version 2
	option = {
		name = EVTOPTD_ZE_12052 # Tell child to keep trying, it's easy

		trigger = {
			FROM = { has_character_flag = child_brooding_version_2_asked }
		}

		custom_tooltip = { text = EVTOPTBRO_FROM }

		FROM = {
			set_character_flag = child_brooding_version_2_condescending
			character_event = { id = ZE.12054 }
		}
	}

	option = {
		name = EVTOPTE_ZE_12052 # Some people never learn to do it

		trigger = {
			FROM = { has_character_flag = child_brooding_version_2_asked }
		}

		custom_tooltip = { text = EVTOPTBRO_FROM_B }

		FROM = {
			set_character_flag = child_brooding_version_2_not_everyone
			character_event = { id = ZE.12054 }
		}

		ai_chance = { factor = 0 }
	}

	option = {
		name = EVTOPTF_ZE_12052 # You're happy child is trying

		trigger = {
			FROM = { has_character_flag = child_brooding_version_2_kept_trying }
		}

		FROM = {
			character_event = { id = ZE.12057 } # Clear all flags
		}
	}
}

# Child reacts
character_event = {
	id = ZE.12054
	picture = GFX_evt_child_talking

	# Version 1
	desc = {
		text = EVTDESCA_ZE_12054
		picture = GFX_evt_drunk
		trigger = { has_character_flag = child_brooding_version_1_got_angry }
	}
	desc = {
		text = EVTDESCB_ZE_12054
		picture = GFX_evt_drunk
		trigger = { has_character_flag = child_brooding_version_1_apologized }
	}
	# Version 2
	desc = {
		text = EVTDESCC_ZE_12054
		picture = GFX_evt_guardian
		trigger = { has_character_flag = child_brooding_version_2_condescending }
	}
	desc = {
		text = EVTDESCD_ZE_12054
		picture = GFX_evt_guardian
		trigger = { has_character_flag = child_brooding_version_2_not_everyone }
	}
	# Version 3
	desc = {
		text = EVTDESCE_ZE_12054
		picture = GFX_evt_child_bully
		trigger = { has_character_flag = child_brooding_version_3 }
	}

	is_triggered_only = yes

	# Version 1
	option = {
		name = EVTOPTA_ZE_12054 # Courtier is pathetic

		trigger = { has_character_flag = child_brooding_version_1_got_angry }

		opinion = {
			name = opinion_hatred
			who = FROM
			years = 2
		}

		add_trait = brooding
		set_character_flag = child_brooding_version_1_resent

		FROM = {
			character_event = { id = ZE.12056 }
		}
	}

	option = {
		name = EVTOPTB_ZE_12054 # Steal money

		trigger = { has_character_flag = child_brooding_version_1_got_angry }

		change_intrigue = 1
		wealth = 25
		set_character_flag = child_brooding_version_1_stole_money

		FROM = {
			character_event = { id = ZE.12056 }
		}

		ai_chance = { factor = 0 }
	}

	option = {
		name = EVTOPTC_ZE_12054 # Courtier is not a grown up

		trigger = { has_character_flag = child_brooding_version_1_apologized }

		add_trait = brooding
		set_character_flag = child_brooding_version_1_pity

		FROM = {
			character_event = { id = ZE.12056 }
		}
	}

	option = {
		name = EVTOPTD_ZE_12054 # Help courtier

		trigger = { has_character_flag = child_brooding_version_1_apologized }

		set_character_flag = child_brooding_version_1_help

		FROM = {
			show_scope_change = no

			tooltip = {
				add_friend = ROOT
				remove_trait = drunkard
			}

			character_event = { id = ZE.12056 }
		}

		ai_chance = { factor = 0 }
	}

	# Version 2
	option = {
		name = EVTOPTE_ZE_12054

		trigger = { # For AI weights, check what flag is set
			OR = {
				has_character_flag = child_brooding_version_2_condescending
				has_character_flag = child_brooding_version_2_not_everyone
			}
		}

		add_trait = brooding
		set_character_flag = child_brooding_version_2_brooding

		FROM = {
			character_event = { id = ZE.12056 }
		}

		ai_chance = {
			factor = 100

			mult_modifier = {
				factor = 2
				has_character_flag = child_brooding_version_2_condescending
			}
		}
	}

	option = {
		name = EVTOPTF_ZE_12054

		trigger = { # For AI weights, check what flag is set
			OR = {
				has_character_flag = child_brooding_version_2_condescending
				has_character_flag = child_brooding_version_2_not_everyone
			}
		}

		add_trait = timid
		set_character_flag = child_brooding_version_2_positive

		FROM = {
			character_event = { id = ZE.12056 }
		}

		ai_chance = {
			factor = 100

			mult_modifier = {
				factor = 2
				has_character_flag = child_brooding_version_2_not_everyone
			}
		}
	}

	# Version 3
	option = {
		name = EVTOPTG_ZE_12054

		trigger = { has_character_flag = child_brooding_version_3 }

		add_trait = brooding
		wealth = -10
		character_event = { id = ZE.12057 } # Clear all flags
	}

	option = {
		name = EVTOPTH_ZE_12054

		trigger = { has_character_flag = child_brooding_version_3 }

		prestige = 40
		character_event = { id = ZE.12057 } # Clear all flags

		ai_chance = { factor = 0 }
	}
}

# Courtier informed
character_event = {
	id = ZE.12056
	picture = GFX_evt_child_talking

	# Version 1
	desc = {
		text = EVTDESCA_ZE_12056
		picture = GFX_evt_drunk
		trigger = {
			FROM = { has_character_flag = child_brooding_version_1_resent }
		}
	}
	desc = {
		text = EVTDESCB_ZE_12056
		picture = GFX_evt_bad_news
		trigger = {
			FROM = { has_character_flag = child_brooding_version_1_stole_money }
		}
	}
	desc = {
		text = EVTDESCC_ZE_12056
		picture = GFX_evt_bad_news
		trigger = {
			FROM = { has_character_flag = child_brooding_version_1_pity }
		}
	}
	desc = {
		text = EVTDESCD_ZE_12056
		picture = GFX_evt_child_reading
		trigger = {
			FROM = { has_character_flag = child_brooding_version_1_help }
		}
	}
	desc = {
		text = EVTDESCE_ZE_12056
		picture = GFX_evt_child_play
		trigger = {
			FROM = { has_character_flag = child_brooding_version_2_brooding }
		}
	}
	desc = {
		text = EVTDESCF_ZE_12056
		picture = GFX_evt_child_play
		trigger = {
			FROM = { has_character_flag = child_brooding_version_2_positive }
		}
	}

	is_triggered_only = yes

	# Version 1
	option = {
		name = EVTOPTA_ZE_12056

		trigger = {
			FROM = { has_character_flag = child_brooding_version_1_resent }
		}

		FROM = {
			show_scope_change = no

			tooltip = {
				add_trait = brooding
			}

			character_event = { id = ZE.12057 } # Clear all flags
		}
	}

	option = {
		name = EVTOPTB_ZE_12056

		trigger = {
			FROM = { has_character_flag = child_brooding_version_1_stole_money }
		}

		wealth = -25

		FROM = {
			character_event = { id = ZE.12057 } # Clear all flags
		}
	}

	option = {
		name = EVTOPTC_ZE_12056

		trigger = {
			FROM = { has_character_flag = child_brooding_version_1_pity }
		}

		FROM = {
			show_scope_change = no

			tooltip = {
				add_trait = brooding
			}

			character_event = { id = ZE.12057 } # Clear all flags
		}
	}

	option = {
		name = EVTOPTD_ZE_12056

		trigger = {
			FROM = { has_character_flag = child_brooding_version_1_help }
		}

		add_friend = FROM
		remove_trait = drunkard

		FROM = {
			character_event = { id = ZE.12057 } # Clear all flags
		}
	}

	# Version 2
	option = {
		name = EVTOPTE_ZE_12056

		trigger = {
			FROM = { has_character_flag = child_brooding_version_2_brooding }
		}

		FROM = {
			show_scope_change = no

			tooltip = {
				add_trait = brooding
			}

			character_event = { id = ZE.12057 } # Clear all flags
		}
	}

	option = {
		name = EVTOPTF_ZE_12056

		trigger = {
			FROM = { has_character_flag = child_brooding_version_2_positive }
		}

		FROM = {
			show_scope_change = no

			tooltip = {
				add_trait = timid
			}

			character_event = { id = ZE.12057 } # Clear all flags
		}
	}
}

# Catch all event flag clear
character_event = {
	id = ZE.12057

	is_triggered_only = yes
	hide_window = yes

	immediate = {
		clr_character_flag = child_brooding_version_1
		clr_character_flag = child_brooding_version_2
		clr_character_flag = child_brooding_version_3
		clr_character_flag = child_brooding_version_1_poured_water
		clr_character_flag = child_brooding_version_1_left_alone
		clr_character_flag = child_brooding_version_2_asked
		clr_character_flag = child_brooding_version_2_kept_trying
		clr_character_flag = child_brooding_version_1_got_angry
		clr_character_flag = child_brooding_version_1_apologized
		clr_character_flag = child_brooding_version_2_condescending
		clr_character_flag = child_brooding_version_2_not_everyone
		clr_character_flag = child_brooding_version_1_resent
		clr_character_flag = child_brooding_version_1_stole_money
		clr_character_flag = child_brooding_version_1_pity
		clr_character_flag = child_brooding_version_1_help
		clr_character_flag = child_brooding_version_2_brooding
		clr_character_flag = child_brooding_version_2_positive
	}
}

#############################################
# Indolent									#
#############################################

# Start
character_event = {
	id = ZE.12060

	# Version 1
	desc = {
		text = EVTDESCA_ZE_12060 # Courtier needs help cutting down trees
		picture = GFX_evt_bandits
		trigger = { has_character_flag = child_indolent_version_1 }
	}
	# Version 2
	desc = {
		text = EVTDESCB_ZE_12060 # Pay other child to do work while you take nap
		picture = GFX_evt_child_talking
		trigger = { has_character_flag = child_indolent_version_2 }
	}
	# Version 3
	desc = {
		text = EVTDESCC_ZE_12060 # Play with children or watch children play
		picture = GFX_evt_child_reading
		trigger = { has_character_flag = child_indolent_version_3 }
	}

	is_triggered_only = yes

	only_capable = yes

	trigger = {
		is_inaccessible_trigger = no

		NOR = {
			has_character_flag = ze_child_indolent_events
			has_character_modifier = the_oubliette
			has_character_modifier = the_dungeon
		}
	}

	immediate = {
		set_character_flag = ze_child_indolent_events

		# Find viable courtier or if none, only make third version available
		random_list = {
			33 = {
				trigger = { # Find mean adult
					educator = {
						any_courtier = {
							OR = {
								trait = wroth
								trait = cruel
							}

							is_adult = yes
							is_incapable = no
							is_inaccessible_trigger = no

							NOR = {
								has_character_modifier = the_oubliette
								has_character_modifier = the_dungeon
							}
						}
					}
				}

				set_character_flag = child_indolent_version_1

				educator = {
					random_courtier = {
						limit = {
							OR = {
								trait = wroth
								trait = cruel
							}

							is_adult = yes
							is_incapable = no
							is_inaccessible_trigger = no

							NOR = {
								has_character_modifier = the_oubliette
								has_character_modifier = the_dungeon
							}
						}

						save_event_target_as = indolent_events_char_1

						if = { # If we don't involve a player, skip these events
							limit = {
								ROOT = { ai = yes }
								ai = yes
							}

							ROOT = {
								clr_character_flag = child_indolent_version_1
								add_trait = indolent
							}
						}
					}
				}
			}

			33 = { # Find a child
				trigger = {
					educator = {
						any_courtier = {
							is_adult = no
							is_incapable = no
							is_inaccessible_trigger = no

							NOR = {
								is_friend = ROOT
								has_character_modifier = the_oubliette
								has_character_modifier = the_dungeon
							}
						}
					}
				}

				set_character_flag = child_indolent_version_2

				educator = {
					random_courtier = {
						limit = {
							is_adult = no
							is_incapable = no
							is_inaccessible_trigger = no

							NOR = {
								is_friend = ROOT
								has_character_modifier = the_oubliette
								has_character_modifier = the_dungeon
							}
						}

						ROOT = { wealth = 10 }

						save_event_target_as = indolent_events_char_2

						if = { # If we don't involve a player, skip these events
							limit = {
								ROOT = { ai = yes }
								ai = yes
							}

							ROOT = {
								clr_character_flag = child_indolent_version_2
								add_trait = indolent
							}
						}
					}
				}
			}

			33 = {
				set_character_flag = child_indolent_version_3

				if = { # If we don't involve a player, skip these events
					limit = { ai = yes }

					clr_character_flag = child_indolent_version_3
					add_trait = indolent
				}
			}
		}
	}

	# Version 1
	option = {
		name = EVTOPTA_ZE_12060 # Sudden stomach ache

		trigger = { has_character_flag = child_indolent_version_1 }

		custom_tooltip = { text = EVTOPTIND }

		set_character_flag = child_indolent_version_1_feeling_ill

		event_target:indolent_events_char_1 = {
			character_event = { id = ZE.12062 }
		}

		show_trait = indolent
	}

	option = {
		name = EVTOPTB_ZE_12060 # Help out with tree cutting

		trigger = { has_character_flag = child_indolent_version_1 }

		piety = 50
		set_character_flag = child_indolent_version_1_cut_trees

		event_target:indolent_events_char_1 = {
			character_event = { id = ZE.12062 }
		}

		ai_chance = { factor = 0 }
	}

	# Version 2
	option = {
		name = EVTOPTC_ZE_12060 # Pay friend to do boring chores

		trigger = { has_character_flag = child_indolent_version_2 }

		tooltip = {
			wealth = -5
		}

		set_character_flag = child_indolent_version_2_bribe

		event_target:indolent_events_char_2 = {
			show_scope_change = no

			character_event = {
				id = ZE.12062
				tooltip = EVTOPTC_ZE_12060_TOOLTIP
			}
		}

		custom_tooltip = { text = EVTOPTIND }

		show_trait = indolent
	}

	option = {
		name = EVTOPTD_ZE_12060 # Join other child on walk

		trigger = { has_character_flag = child_indolent_version_2 }

		set_character_flag = child_indolent_version_2_join

		event_target:indolent_events_char_2 = {
			show_scope_change = no

			tooltip = {
				add_friend = ROOT
			}

			character_event = { id = ZE.12062 }
		}

		ai_chance = { factor = 0 }
	}

	# Version 3
	option = {
		name = EVTOPTE_ZE_12060 # Go to other children

		trigger = { has_character_flag = child_indolent_version_3 }

		character_event = {
			id = ZE.12064
			tooltip = EVTOPTIND
		}

		show_trait = indolent
	}

	option = {
		name = EVTOPTF_ZE_12060 # Read book

		trigger = { has_character_flag = child_indolent_version_3 }

		prestige = 20
		add_trait = poet
		character_event = { id = ZE.12067 } # Clear all flags

		ai_chance = { factor = 0 }
	}

	option = {
		name = OK # ai option, nothing to see here

		trigger = {
			NOR = {
				has_character_flag = child_indolent_version_1
				has_character_flag = child_indolent_version_2
				has_character_flag = child_indolent_version_3
			}
		}
	}
}

# Courtier reacts
character_event = {
	id = ZE.12062
	picture = GFX_evt_child_talking

	# Version 1
	desc = {
		text = EVTDESCA_ZE_12062 # Child complaining about stomach ache
		picture = GFX_evt_noble_in_castle
		trigger = {
			FROM = { has_character_flag = child_indolent_version_1_feeling_ill }
		}
	}
	desc = {
		text = EVTDESCB_ZE_12062 # Child helping with cutting down trees
		picture = GFX_evt_bandits
		trigger = {
			FROM = { has_character_flag = child_indolent_version_1_cut_trees }
		}
	}
	# Version 2
	desc = {
		text = EVTDESCC_ZE_12062 # Other child wants me to run errand
		picture = GFX_evt_child_talking
		trigger = {
			FROM = { has_character_flag = child_indolent_version_2_bribe }
		}
	}
	desc = {
		text = EVTDESCD_ZE_12062 # Joined on travels by other child
		picture = GFX_evt_market
		trigger = {
			FROM = { has_character_flag = child_indolent_version_2_join }
		}
	}

	is_triggered_only = yes

	# Version 1
	option = {
		name = EVTOPTA_ZE_12062 # Show child what pain is all about

		trigger = {
			FROM = { has_character_flag = child_indolent_version_1_feeling_ill }
		}

		prestige = 20

		custom_tooltip = { text = EVTOPTIND_FROM }

		FROM = {
			set_character_flag = child_indolent_version_1_punished
			character_event = { id = ZE.12064 }
		}

		show_trait = indolent

		ai_chance = { factor = 0 }
	}

	option = {
		name = EVTOPTB_ZE_12062 # worry about child

		trigger = {
			FROM = { has_character_flag = child_indolent_version_1_feeling_ill }
		}

		prestige = -30

		custom_tooltip = { text = EVTOPTIND_FROM }

		FROM = {
			set_character_flag = child_indolent_version_1_worried
			character_event = { id = ZE.12064 }
		}

		show_trait = indolent
	}

	option = {
		name = EVTOPTC_ZE_12062 # Child helped, be grateful

		trigger = {
			FROM = { has_character_flag = child_indolent_version_1_cut_trees }
		}

		prestige = 20
	}

	# Version 2
	option = {
		name = EVTOPTD_ZE_12062 # Take money to go to market

		trigger = {
			FROM = { has_character_flag = child_indolent_version_2_bribe }
		}

		wealth = 5

		custom_tooltip = { text = EVTOPTIND_FROM }

		FROM = {
			set_character_flag = child_indolent_version_2_took_money
			character_event = { id = ZE.12064 }
		}

		show_trait = indolent
	}

	option = {
		name = EVTOPTE_ZE_12062 # Refuse to go

		trigger = {
			FROM = { has_character_flag = child_indolent_version_2_bribe }
		}

		opinion = {
			name = opinion_dislike
			who = FROM
			years = 3
		}

		prestige = 20

		FROM = {
			set_character_flag = child_indolent_version_2_refused
			character_event = { id = ZE.12064 }
		}

		ai_chance = { factor = 0 }
	}

	option = {
		name = EVTOPTF_ZE_12062 # Other child joined me to market

		trigger = {
			FROM = { has_character_flag = child_indolent_version_2_join }
		}

		add_friend = FROM

		FROM = {
			character_event = { id = ZE.12067 } # Clear all flags
		}
	}
}

# Child reacts
character_event = {
	id = ZE.12064

	# Version 1
	desc = {
		text = EVTDESCA_ZE_12064
		picture = GFX_evt_noble_in_castle
		trigger = { has_character_flag = child_indolent_version_1_punished }
	}
	desc = {
		text = EVTDESCB_ZE_12064
		picture = GFX_evt_noble_in_castle
		trigger = { has_character_flag = child_indolent_version_1_worried }
	}
	# Version 2
	desc = {
		text = EVTDESCC_ZE_12064
		picture = GFX_evt_child_reading
		trigger = { has_character_flag = child_indolent_version_2_took_money }
	}
	desc = {
		text = EVTDESCD_ZE_12064
		picture = GFX_evt_noble_in_castle
		trigger = { has_character_flag = child_indolent_version_2_refused }
	}
	# Version 3
	desc = {
		text = EVTDESCE_ZE_12064
		picture = GFX_evt_child_talking
		trigger = { has_character_flag = child_indolent_version_3 }
	}

	is_triggered_only = yes

	# Version 1
	option = {
		name = EVTOPTA_ZE_12064

		trigger = { has_character_flag = child_indolent_version_1_punished }

		opinion = {
			name = opinion_mad_at_guardian
			who = FROM
			years = 2
		}

		add_trait = indolent
		set_character_flag = child_indolent_version_1_persistent

		FROM = {
			character_event = { id = ZE.12066 }
		}
	}

	option = {
		name = EVTOPTB_ZE_12064

		trigger = { has_character_flag = child_indolent_version_1_punished }

		set_character_flag = child_indolent_version_1_regretful

		FROM = {
			show_scope_change = no

			tooltip = {
				opinion = {
					who = ROOT
					name = opinion_satisfied
					years = 2
				}
			}

			character_event = { id = ZE.12066 }
		}

		ai_chance = { factor = 0 }
	}

	option = {
		name = EVTOPTC_ZE_12064

		trigger = { has_character_flag = child_indolent_version_1_worried }

		add_trait = indolent
		set_character_flag = child_indolent_version_1_tea

		FROM = {
			character_event = { id = ZE.12066 }
		}
	}

	option = {
		name = EVTOPTD_ZE_12064

		trigger = { has_character_flag = child_indolent_version_1_worried }

		set_character_flag = child_indolent_version_1_regretful

		FROM = {
			show_scope_change = no

			tooltip = {
				opinion = {
					who = ROOT
					name = opinion_satisfied
					years = 2
				}
			}

			character_event = { id = ZE.12066 }
		}

		ai_chance = { factor = 0 }
	}

	# Version 2
	option = {
		name = EVTOPTE_ZE_12064

		trigger = { has_character_flag = child_indolent_version_2_took_money }

		add_trait = indolent
		character_event = { id = ZE.12067 } # Clear all flags
	}

	option = {
		name = EVTOPTF_ZE_12064

		trigger = { has_character_flag = child_indolent_version_2_took_money }

		prestige = 15
		change_stewardship = 1
		character_event = { id = ZE.12067 } # Clear all flags

		ai_chance = { factor = 0 }
	}

	option = {
		name = EVTOPTG_ZE_12064

		trigger = { has_character_flag = child_indolent_version_2_refused }

		prestige = -40
		character_event = { id = ZE.12067 } # Clear all flags
	}

	# Version 3
	option = {
		name = EVTOPTH_ZE_12064

		trigger = { has_character_flag = child_indolent_version_3 }

		add_trait = indolent
		character_event = { id = ZE.12067 } # Clear all flags
	}

	option = {
		name = EVTOPTI_ZE_12064

		trigger = { has_character_flag = child_indolent_version_3 }

		health = 1
		character_event = { id = ZE.12067 } # Clear all flags

		ai_chance = { factor = 0 }
	}
}

# Courtier informed
character_event = {
	id = ZE.12066

	# Version 1
	desc = {
		text = EVTDESCA_ZE_12066
		picture = GFX_evt_religious_exultation
		trigger = {
			FROM = { has_character_flag = child_indolent_version_1_persistent }
		}
	}
	desc = {
		text = EVTDESCB_ZE_12066
		picture = GFX_evt_powerful_ruler
		trigger = {
			FROM = { has_character_flag = child_indolent_version_1_tea }
		}
	}
	desc = {
		text = EVTDESCC_ZE_12066
		picture = GFX_evt_noble_in_castle
		trigger = {
			FROM = { has_character_flag = child_indolent_version_1_regretful }
		}
	}

	is_triggered_only = yes

	# Version 1
	option = {
		name = EVTOPTA_ZE_12066

		trigger = {
			FROM = { has_character_flag = child_indolent_version_1_persistent }
		}

		FROM = {
			show_scope_change = no

			tooltip = {
				add_trait = indolent
			}

			character_event = { id = ZE.12067 } # Clear all flags
		}
	}

	option = {
		name = EVTOPTB_ZE_12066

		trigger = {
			FROM = { has_character_flag = child_indolent_version_1_tea }
		}

		FROM = {
			show_scope_change = no

			tooltip = {
				add_trait = indolent
			}

			character_event = { id = ZE.12067 } # Clear all flags
		}
	}

	option = {
		name = EVTOPTC_ZE_12066

		trigger = {
			FROM = { has_character_flag = child_indolent_version_1_regretful }
		}

		opinion = {
			name = opinion_satisfied
			who = FROM
			years = 2
		}

		FROM = {
			character_event = { id = ZE.12067 } # Clear all flags
		}
	}
}

# Catch all event flag clear
character_event = {
	id = ZE.12067

	is_triggered_only = yes
	hide_window = yes

	immediate = {
		clr_character_flag = child_indolent_version_1
		clr_character_flag = child_indolent_version_2
		clr_character_flag = child_indolent_version_3
		clr_character_flag = child_indolent_version_1_feeling_ill
		clr_character_flag = child_indolent_version_1_cut_trees
		clr_character_flag = child_indolent_version_2_bribe
		clr_character_flag = child_indolent_version_2_join
		clr_character_flag = child_indolent_version_1_punished
		clr_character_flag = child_indolent_version_1_worried
		clr_character_flag = child_indolent_version_2_took_money
		clr_character_flag = child_indolent_version_2_refused
		clr_character_flag = child_indolent_version_1_persistent
		clr_character_flag = child_indolent_version_1_tea
		clr_character_flag = child_indolent_version_1_regretful
	}
}

#############################################
# Playful									#
#############################################

# Start
character_event = {
	id = ZE.12070
	picture = GFX_evt_child_talking

	# Version 1
	desc = {
		text = EVTDESCA_ZE_12070 # Race courtier
		picture = GFX_evt_leaning_tower
		trigger = { has_character_flag = child_playful_version_1 }
	}
	# Version 2
	desc = {
		text = EVTDESCB_ZE_12070 # hide and seek with burglar
		picture = GFX_evt_shadow
		trigger = { has_character_flag = child_playful_version_2 }
	}
	# Version 3
	desc = {
		text = EVTDESCC_ZE_12070 # Gardening, tickle gardener?
		picture = GFX_evt_garden
		trigger = { has_character_flag = child_playful_version_3 }
	}

	is_triggered_only = yes

	only_capable = yes

	trigger = {
		is_inaccessible_trigger = no

		NOR = {
			has_character_flag = ze_child_playful_events
			has_character_modifier = the_oubliette
			has_character_modifier = the_dungeon
		}
	}

	immediate = {
		set_character_flag = ze_child_playful_events

		# Find viable courtier or if none, only make third version available
		random_list = {
			33 = {
				trigger = {
					educator = {
						any_courtier = {
							is_adult = yes
							is_incapable = no
							is_inaccessible_trigger = no

							NOR = {
								trait = wroth
								trait = cynical
								trait = cruel
								has_character_modifier = the_oubliette
								has_character_modifier = the_dungeon
							}
						}
					}
				}

				set_character_flag = child_playful_version_1

				educator = {
					random_courtier = {
						limit = {
							is_adult = yes
							is_incapable = no
							is_inaccessible_trigger = no

							NOR = {
								trait = wroth
								trait = cynical
								trait = cruel
								has_character_modifier = the_oubliette
								has_character_modifier = the_dungeon
							}
						}

						save_event_target_as = playful_events_char_1

						if = { # If we don't involve a player, skip these events
							limit = {
								ROOT = { ai = yes }
								ai = yes
							}

							ROOT = {
								clr_character_flag = child_playful_version_1
								add_trait = playful
							}
						}
					}
				}
			}

			33 = {
				trigger = {
					educator = {
						any_courtier = {
							is_adult = yes
							is_incapable = no
							is_inaccessible_trigger = no

							NOR = {
								trait = imbecile
								has_character_modifier = the_oubliette
								has_character_modifier = the_dungeon
							}
						}
					}
				}

				set_character_flag = child_playful_version_2

				educator = {
					random_courtier = {
						limit = {
							is_adult = yes
							is_incapable = no
							is_inaccessible_trigger = no

							NOR = {
								trait = imbecile
								has_character_modifier = the_oubliette
								has_character_modifier = the_dungeon
							}
						}

						save_event_target_as = playful_events_char_2

						if = { # If we don't involve a player, skip these events
							limit = {
								ROOT = { ai = yes }
								ai = yes
							}

							ROOT = {
								clr_character_flag = child_playful_version_2
								add_trait = playful
							}
						}
					}
				}
			}

			33 = {
				set_character_flag = child_playful_version_3

				if = { # If we don't involve a player, skip these events
					limit = { ai = yes }

					clr_character_flag = child_playful_version_3
					add_trait = playful
				}
			}
		}
	}

	# Version 1
	option = {
		name = EVTOPTA_ZE_12070 # Race courtier carrying bags

		trigger = { has_character_flag = child_playful_version_1 }

		custom_tooltip = { text = EVTOPTPLA }

		set_character_flag = child_playful_version_1_race

		event_target:playful_events_char_1 = {
			character_event = { id = ZE.12072 }
		}
	}

	option = {
		name = EVTOPTB_ZE_12070 # Help carrying the bags

		trigger = { has_character_flag = child_playful_version_1 }

		set_character_flag = child_playful_version_1_help

		event_target:playful_events_char_1 = {
			show_scope_change = no

			tooltip = {
				opinion = {
					name = well_mannered
					who = ROOT
					years = 3
				}
			}

			character_event = { id = ZE.12072 }
		}

		ai_chance = { factor = 0 }
	}

	# Version 2
	option = {
		name = EVTOPTC_ZE_12070 # Hide with mysterious man

		trigger = { has_character_flag = child_playful_version_2 }

		custom_tooltip = { text = EVTOPTPLA }

		set_character_flag = child_playful_version_2_hide
		character_event = { id = ZE.12072 }
	}

	option = {
		name = EVTOPTD_ZE_12070 # Call for help

		trigger = { has_character_flag = child_playful_version_2 }

		set_character_flag = child_playful_version_2_call

		event_target:playful_events_char_2 = {
			show_scope_change = no

			tooltip = {
				opinion = {
					name = opinion_relieved
					who = ROOT
					years = 2
				}
			}

			character_event = { id = ZE.12072 }
		}

		ai_chance = { factor = 0 }
	}

	# Version 3
	option = {
		name = EVTOPTE_ZE_12070 # Tickle gardener

		trigger = { has_character_flag = child_playful_version_3 }

		random_list = {
			50 = {
				custom_tooltip = { text = EVTOPTE_ZE_12070_TOOLTIP1 }
				set_character_flag = child_playful_version_3_ticklish
			}

			50 = {
				custom_tooltip = { text = EVTOPTE_ZE_12070_TOOLTIP2 }
				set_character_flag = child_playful_version_3_slander
			}
		}

		custom_tooltip = { text = EVTOPTPLA }

		character_event = { id = ZE.12074 }
	}

	option = {
		name = EVTOPTF_ZE_12070 # Work hard

		trigger = { has_character_flag = child_playful_version_3 }

		piety = 20
		prestige = 30
		character_event = { id = ZE.12077 } # Clear all flags

		ai_chance = { factor = 0 }
	}
}

# Courtier/Child reacts (special case for version 2)
character_event = {
	id = ZE.12072

	# Version 1
	desc = {
		text = EVTDESCA_ZE_12072 # Child wanted to race
		picture = GFX_evt_leaning_tower
		trigger = {
			FROM = { has_character_flag = child_playful_version_1_race }
		}
	}
	desc = {
		text = EVTDESCB_ZE_12072 # Child helped out
		picture = GFX_evt_leaning_tower
		trigger = {
			FROM = { has_character_flag = child_playful_version_1_help }
		}
	}
	# Version 2
	desc = {
		text = EVTDESCC_ZE_12072 # Hides with strange man (for child)
		picture = GFX_evt_shadow
		trigger = {
			FROM = { has_character_flag = child_playful_version_2_hide }
		}
	}
	desc = {
		text = EVTDESCD_ZE_12072 # Child answered when I was looking for him/her
		picture = GFX_evt_shadow
		trigger = {
			FROM = { has_character_flag = child_playful_version_2_call }
		}
	}

	is_triggered_only = yes

	# Version 1
	option = {
		name = EVTOPTA_ZE_12072 # Race with the child

		trigger = {
			FROM = { has_character_flag = child_playful_version_1_race }
		}

		custom_tooltip = { text = EVTOPTPLA_FROM }

		FROM = {
			set_character_flag = child_playful_version_1_accept
			character_event = { id = ZE.12074 }
		}
	}

	option = {
		name = EVTOPTB_ZE_12072 # lecture child

		trigger = {
			FROM = { has_character_flag = child_playful_version_1_race }
		}

		FROM = {
			set_character_flag = child_playful_version_1_lecture
			character_event = { id = ZE.12074 }
		}

		ai_chance = { factor = 0 }
	}

	option = {
		name = EVTOPTC_ZE_12072 # Grateful for child helping out

		trigger = {
			FROM = { has_character_flag = child_playful_version_1_help }
		}

		opinion = {
			name = well_mannered
			who = FROM
			years = 3
		}

		FROM = {
			character_event = { id = ZE.12077 } # Clear all flags
		}
	}

	# Version 2 Child
	option = {
		name = EVTOPTD_ZE_12072 # Play game with strange man

		trigger = { has_character_flag = child_playful_version_2_hide }

		prestige = 10
		wealth = 5

		custom_tooltip = { text = EVTOPTPLA }

		set_character_flag = child_playful_version_2_played
		character_event = { id = ZE.12074 }
	}

	option = {
		name = EVTOPTE_ZE_12072 # Call for help

		trigger = { has_character_flag = child_playful_version_2_hide }

		clr_character_flag = child_playful_version_2_hide
		set_character_flag = child_playful_version_2_call

		event_target:playful_events_char_2 = {
			show_scope_change = no

			tooltip = {
				opinion = {
					name = opinion_relieved
					who = ROOT
					years = 2
				}
			}

			character_event = { id = ZE.12072 }
		}

		ai_chance = { factor = 0 }
	}

	# Version 2 Courtier
	option = {
		name = EVTOPTF_ZE_12072 # Child answered my call

		trigger = {
			FROM = { has_character_flag = child_playful_version_2_call }
		}

		opinion = {
			name = opinion_relieved
			who = FROM
			years = 2
		}

		FROM = {
			set_character_flag = child_playful_version_2_worried
			character_event = { id = ZE.12074 }
		}
	}
}

# Child reacts
character_event = {
	id = ZE.12074

	# Version 1
	desc = {
		text = EVTDESCA_ZE_12074 # Racing challenge accepted
		picture = GFX_evt_leaning_tower
		trigger = { has_character_flag = child_playful_version_1_accept }
	}
	desc = {
		text = EVTDESCB_ZE_12074 # Lectured on responsibilities
		picture = GFX_evt_leaning_tower
		trigger = { has_character_flag = child_playful_version_1_lecture }
	}
	# Version 2
	desc = {
		text = EVTDESCC_ZE_12074 # Child playing with burglar
		picture = GFX_evt_whispers
		trigger = { has_character_flag = child_playful_version_2_played }
	}
	# Version 2
	desc = {
		text = EVTDESCD_ZE_12074 # courtier worried about me
		picture = GFX_evt_scandal
		trigger = { has_character_flag = child_playful_version_2_worried }
	}
	# Version 3
	desc = {
		text = EVTDESCE_ZE_12074 # Gardener was ticklish
		picture = GFX_evt_garden
		trigger = { has_character_flag = child_playful_version_3_ticklish }
	}
	desc = {
		text = EVTDESCF_ZE_12074 # Gardener slanders me
		picture = GFX_evt_courtiers_talking
		trigger = { has_character_flag = child_playful_version_3_slander }
	}

	is_triggered_only = yes

	# Version 1
	option = {
		name = EVTOPTA_ZE_12074 # Good sport

		trigger = { has_character_flag = child_playful_version_1_accept }

		add_trait = playful
		set_character_flag = child_playful_version_1_good_sport

		event_target:playful_events_char_1 = {
			character_event = { id = ZE.12076 }
		}
	}

	option = {
		name = EVTOPTB_ZE_12074 # Courtier is a cheater!

		trigger = { has_character_flag = child_playful_version_1_accept }

		set_character_flag = child_playful_version_1_sore_loser

		event_target:playful_events_char_1 = {
			character_event = { id = ZE.12076 }
		}

		ai_chance = { factor = 0 }
	}

	option = {
		name = EVTOPTC_ZE_12074 # Lectured on responsibilities

		trigger = { has_character_flag = child_playful_version_1_lecture }

		character_event = { id = ZE.12077 } # Clear all flags
	}

	# Version 2
	option = {
		name = EVTOPTD_ZE_12074

		trigger = { has_character_flag = child_playful_version_2_played }

		add_trait = playful
		character_event = { id = ZE.12077 } # Clear all flags
	}

	option = {
		name = EVTOPTE_ZE_12074

		trigger = { has_character_flag = child_playful_version_2_worried }

		event_target:playful_events_char_2 = {
			character_event = { id = ZE.12076 }
		}
	}

	# Version 3
	option = {
		name = EVTOPTF_ZE_12074

		trigger = { has_character_flag = child_playful_version_3_ticklish }

		add_trait = playful
		character_event = { id = ZE.12077 } # Clear all flags
	}

	option = {
		name = EVTOPTG_ZE_12074

		trigger = { has_character_flag = child_playful_version_3_slander }

		educator = {
			show_scope_change = no

			any_courtier = {
				show_scope_change = no

				opinion = {
					name = opinion_irritated
					who = ROOT
					years = 2
				}
			}
		}

		character_event = { id = ZE.12077 } # Clear all flags
	}
}

# Courtier informed
character_event = {
	id = ZE.12076

	# Version 1
	desc = {
		text = EVTDESCA_ZE_12076
		picture = GFX_evt_leaning_tower
		trigger = {
			FROM = { has_character_flag = child_playful_version_1_good_sport }
		}
	}
	desc = {
		text = EVTDESCB_ZE_12076
		picture = GFX_evt_leaning_tower
		trigger = {
			FROM = { has_character_flag = child_playful_version_1_sore_loser }
		}
	}
	desc = {
		text = EVTDESCC_ZE_12076
		picture = GFX_evt_scandal
		trigger = {
			FROM = { has_character_flag = child_playful_version_2_worried }
		}
	}

	is_triggered_only = yes

	option = {
		# Version 1
		name = {
			text = EVTOPTA_ZE_12076
			trigger = {
				FROM = { has_character_flag = child_playful_version_1_good_sport }
			}
		}
		name = {
			text = EVTOPTB_ZE_12076
			trigger = {
				FROM = { has_character_flag = child_playful_version_1_sore_loser }
			}
		}
		# Version 2
		name = {
			text = EVTOPTC_ZE_12076
			trigger = {
				FROM = { has_character_flag = child_playful_version_2_worried }
			}
		}

		FROM = {
			character_event = { id = ZE.12077 } # Clear all flags
		}
	}
}

# Catch all event flag clear
character_event = {
	id = ZE.12077

	is_triggered_only = yes
	hide_window = yes

	immediate = {
		clr_character_flag = child_playful_version_1
		clr_character_flag = child_playful_version_2
		clr_character_flag = child_playful_version_3
		clr_character_flag = child_playful_version_1_race
		clr_character_flag = child_playful_version_1_help
		clr_character_flag = child_playful_version_2_hide
		clr_character_flag = child_playful_version_2_call
		clr_character_flag = child_playful_version_1_accept
		clr_character_flag = child_playful_version_1_lecture
		clr_character_flag = child_playful_version_2_played
		clr_character_flag = child_playful_version_2_worried
		clr_character_flag = child_playful_version_3_ticklish
		clr_character_flag = child_playful_version_3_slander
		clr_character_flag = child_playful_version_1_good_sport
		clr_character_flag = child_playful_version_1_sore_loser
	}
}

#############################################
# Conscientious								#
#############################################

# Start
character_event = {
	id = ZE.12080

	# Version 1
	desc = {
		text = EVTDESCA_ZE_12080 # Messy room, sort the books or go play?
		picture = GFX_evt_ritual_scroll
		trigger = { has_character_flag = child_conscientious_version_1 }
	}
	# Version 2
	desc = {
		text = EVTDESCB_ZE_12080 # child misbehaves, tell an adult or keep secret?
		picture = GFX_evt_council
		trigger = { has_character_flag = child_conscientious_version_2 }
	}
	# Version 3
	desc = {
		text = EVTDESCC_ZE_12080 # lost clothing outside, go look for it or go home?
		picture = GFX_evt_child_play
		trigger = { has_character_flag = child_conscientious_version_3 }
	}

	is_triggered_only = yes

	only_capable = yes

	trigger = {
		is_inaccessible_trigger = no

		NOR = {
			has_character_flag = ze_child_conscientious_events
			has_character_modifier = the_oubliette
			has_character_modifier = the_dungeon
		}
	}

	immediate = {
		set_character_flag = ze_child_conscientious_events

		# Find viable courtier or if none, only make third version available
		random_list = {
			33 = {
				trigger = {
					educator = {
						any_courtier = {
							is_adult = yes
							is_incapable = no
							is_inaccessible_trigger = no

							NOR = {
								has_character_modifier = the_oubliette
								has_character_modifier = the_dungeon
							}
						}
					}
				}

				set_character_flag = child_conscientious_version_1

				educator = {
					random_courtier = {
						limit = {
							is_adult = yes
							is_incapable = no
							is_inaccessible_trigger = no

							NOR = {
								has_character_modifier = the_oubliette
								has_character_modifier = the_dungeon
							}
						}

						save_event_target_as = conscientious_events_char_1

						if = { # If we don't involve a player, skip these events
							limit = {
								ROOT = { ai = yes }
								ai = yes
							}

							ROOT = {
								clr_character_flag = child_conscientious_version_1
								add_trait = conscientious
							}
						}
					}
				}
			}

			33 = {
				trigger = {
					educator = {
						any_courtier = {
							is_adult = no
							is_incapable = no
							is_inaccessible_trigger = no

							NOR = {
								trait = conscientious
								trait = imbecile
								is_rival = ROOT
								is_friend = ROOT
								has_character_modifier = the_oubliette
								has_character_modifier = the_dungeon
							}
						}
					}
				}

				set_character_flag = child_conscientious_version_2

				educator = {
					random_courtier = {
						limit = {
							is_adult = no
							is_incapable = no
							is_inaccessible_trigger = no

							NOR = {
								trait = conscientious
								trait = imbecile
								is_rival = ROOT
								is_friend = ROOT
								has_character_modifier = the_oubliette
								has_character_modifier = the_dungeon
							}
						}

						save_event_target_as = conscientious_events_char_2

						if = { # If we don't involve a player, skip these events
							limit = {
								ROOT = { ai = yes }
								ai = yes
							}

							ROOT = {
								clr_character_flag = child_conscientious_version_2
								add_trait = conscientious
							}
						}
					}
				}
			}

			33 = {
				set_character_flag = child_conscientious_version_3

				if = { # If we don't involve a player, skip these events
					limit = { ai = yes }

					clr_character_flag = child_conscientious_version_3
					add_trait = conscientious
				}
			}
		}
	}

	# Version 1
	option = {
		name = EVTOPTA_ZE_12080 # Sort the books

		trigger = { has_character_flag = child_conscientious_version_1 }

		prestige = 10

		custom_tooltip = { text = EVTOPTCON }

		set_character_flag = child_conscientious_version_1_sorted_books

		event_target:conscientious_events_char_1 = {
			character_event = { id = ZE.12082 }
		}
	}

	option = {
		name = EVTOPTB_ZE_12080 # Go out and play

		trigger = { has_character_flag = child_conscientious_version_1 }

		health = 1
		set_character_flag = child_conscientious_version_1_go_play

		event_target:conscientious_events_char_1 = {
			character_event = { id = ZE.12082 }
		}

		ai_chance = { factor = 0 }
	}

	# Version 2
	option = {
		name = EVTOPTC_ZE_12080 # Child misbehaving, you tell on him/her

		trigger = { has_character_flag = child_conscientious_version_2 }

		set_character_flag = child_conscientious_version_2_told_on

		event_target:conscientious_events_char_2 = {
			show_scope_change = no

			add_rival = ROOT
			character_event = { id = ZE.12082 }
		}

		custom_tooltip = { text = EVTOPTCON }
	}

	option = {
		name = EVTOPTD_ZE_12080 # Keep the secret

		trigger = { has_character_flag = child_conscientious_version_2 }

		set_character_flag = child_conscientious_version_2_kept_quiet

		event_target:conscientious_events_char_2 = {
			show_scope_change = no

			add_friend = ROOT
			character_event = { id = ZE.12082 }
		}

		ai_chance = { factor = 0 }
	}

	# Version 3
	option = {
		name = EVTOPTE_ZE_12080 # Go look for missing clothing

		trigger = { has_character_flag = child_conscientious_version_3 }

		add_trait = conscientious

		random_list = {
			50 = {
				custom_tooltip = { text = EVTOPTE_ZE_12080_TOOLTIP1 }
				set_character_flag = child_conscientious_version_3_pneumonia
			}

			50 = {
				custom_tooltip = { text = EVTOPTE_ZE_12080_TOOLTIP2 }
				set_character_flag = child_conscientious_version_3_found_clothes
			}
		}

		character_event = { id = ZE.12084 }
	}

	option = {
		name = EVTOPTF_ZE_12080 # Go back home

		trigger = { has_character_flag = child_conscientious_version_3 }

		change_diplomacy = 1
		prestige = 20
		character_event = { id = ZE.12087 } # Clear all flags

		ai_chance = { factor = 0 }
	}

	option = {
		name = OK # ai option, nothing to see here

		trigger = {
			NOR = {
				has_character_flag = child_conscientious_version_1
				has_character_flag = child_conscientious_version_2
				has_character_flag = child_conscientious_version_3
			}
		}
	}
}

# Courtier reacts
character_event = {
	id = ZE.12082

	# Version 1
	desc = {
		text = EVTDESCA_ZE_12082 # Child ruined my research
		picture = GFX_evt_ritual_scroll
		trigger = {
			FROM = { has_character_flag = child_conscientious_version_1_sorted_books }
		}
	}
	# Version 2
	desc = {
		text = EVTDESCB_ZE_12082 # Other child told on me
		picture = GFX_evt_leaving_table_angrily
		trigger = {
			FROM = { has_character_flag = child_conscientious_version_2_told_on }
		}
	}
	desc = {
		text = EVTDESCB_ZE_12082 # Other child played with me
		picture = GFX_evt_child_play
		trigger = {
			FROM = { has_character_flag = child_conscientious_version_2_kept_quiet }
		}
	}

	is_triggered_only = yes

	# Version 1
	option = {
		name = EVTOPTA_ZE_12082 # Research ruined I'm furious

		trigger = {
			FROM = { has_character_flag = child_conscientious_version_1_sorted_books }
		}

		custom_tooltip = { text = EVTOPTCON_FROM }

		FROM = {
			set_character_flag = child_conscientious_version_1_scolded
			character_event = { id = ZE.12084 }
		}
	}

	option = {
		name = EVTOPTB_ZE_12082 # I should keep my chamber cleaner in the future

		trigger = {
			FROM = { has_character_flag = child_conscientious_version_1_sorted_books }
		}

		prestige = -50

		FROM = {
			character_event = { id = ZE.12087 } # Clear all flags
		}

		ai_chance = { factor = 0 }
	}

	# Version 2
	option = {
		name = EVTOPTC_ZE_12082 # other child told on me, run away

		trigger = {
			FROM = { has_character_flag = child_conscientious_version_2_told_on }
		}

		tooltip = {
			add_rival = FROM
		}

		prestige = 30

		custom_tooltip = { text = EVTOPTCON_FROM }

		FROM = {
			set_character_flag = child_conscientious_version_2_ran_away
			character_event = { id = ZE.12084 }
		}
	}

	option = {
		name = EVTOPTD_ZE_12082 # other child told on me, finish dishes

		trigger = {
			FROM = { has_character_flag = child_conscientious_version_2_told_on }
		}

		tooltip = {
			add_rival = FROM
		}

		piety = 15

		FROM = {
			set_character_flag = child_conscientious_version_2_finish_dishes
			character_event = { id = ZE.12084 }
		}

		ai_chance = { factor = 0 }
	}

	option = {
		name = EVTOPTE_ZE_12082 # other child played with me

		trigger = {
			FROM = { has_character_flag = child_conscientious_version_2_kept_quiet }
		}

		tooltip = {
			add_friend = FROM
		}

		FROM = {
			character_event = { id = ZE.12087 } # Clear all flags
		}
	}
}

# Child reacts
character_event = {
	id = ZE.12084

	# Version 1
	desc = {
		text = EVTDESCA_ZE_12084
		picture = GFX_evt_scientist
		trigger = { has_character_flag = child_conscientious_version_1_scolded }
	}
	desc = {
		text = EVTDESCB_ZE_12084
		picture = GFX_evt_council
		trigger = { has_character_flag = child_conscientious_version_2_ran_away }
	}
	# Version 2
	desc = {
		text = EVTDESCC_ZE_12084
		picture = GFX_evt_council
		trigger = { has_character_flag = child_conscientious_version_2_finished_dishes }
	}
	# Version 3
	desc = {
		text = EVTDESCD_ZE_12084
		picture = GFX_evt_mysterious_forest
		trigger = { has_character_flag = child_conscientious_version_3_pneumonia }
	}
	desc = {
		text = EVTDESCE_ZE_12084
		picture = GFX_evt_mysterious_forest
		trigger = { has_character_flag = child_conscientious_version_3_found_clothes }
	}

	is_triggered_only = yes

	# Version 1
	option = {
		name = EVTOPTA_ZE_12084

		trigger = { has_character_flag = child_conscientious_version_1_scolded }

		add_trait = conscientious

		opinion = {
			name = opinion_hate
			who = FROM
			years = 5
		}

		set_character_flag = child_conscientious_version_1_clean_again

		event_target:conscientious_events_char_1 = {
			character_event = { id = ZE.12086 }
		}
	}

	option = {
		name = EVTOPTB_ZE_12084

		trigger = { has_character_flag = child_conscientious_version_1_scolded }

		any_courtier = {
			show_scope_change = no

			opinion = {
				name = opinion_disapprove
				who = FROM
				years = 3
			}
		}

		set_character_flag = child_conscientious_version_1_told_everyone

		event_target:conscientious_events_char_1 = {
			character_event = { id = ZE.12086 }
		}

		ai_chance = { factor = 0 }
	}

	# Version 2
	option = {
		name = EVTOPTC_ZE_12084

		trigger = { has_character_flag = child_conscientious_version_2_ran_away }

		add_trait = conscientious
		character_event = { id = ZE.12087 } # Clear all flags
	}

	option = {
		name = EVTOPTD_ZE_12084

		trigger = { has_character_flag = child_conscientious_version_2_ran_away }

		change_learning = 1
		character_event = { id = ZE.12087 } # Clear all flags

		ai_chance = { factor = 0 }
	}

	option = {
		name = EVTOPTE_ZE_12084

		trigger = { has_character_flag = child_conscientious_version_2_finished_dishes }

		tooltip = {
			reverse_opinion = {
				name = opinion_hate
				who = FROM
				years = 4
			}
		}

		character_event = { id = ZE.12087 } # Clear all flags
	}

	# Version 3
	option = {
		name = EVTOPTF_ZE_12084

		trigger = { has_character_flag = child_conscientious_version_3_pneumonia }

		if = {
			limit = { has_dlc = "Reapers" }

			add_trait = infection

			character_event = {
				id = RIP.11001
				years = 1
				random = 1095 # 3 years
			}
		}
		else = {
			add_trait = pneumonic
		}

		character_event = { id = ZE.12087 } # Clear all flags
	}

	option = {
		name = EVTOPTG_ZE_12084

		trigger = { has_character_flag = child_conscientious_version_3_found_clothes }

		prestige = 50
		character_event = { id = ZE.12087 } # Clear all flags
	}
}

# Courtier informed
character_event = {
	id = ZE.12086

	# Version 1
	desc = {
		text = EVTDESCA_ZE_12086
		picture = GFX_evt_mysterious_forest
		trigger = {
			FROM = { has_character_flag = child_conscientious_version_1_clean_again }
		}
	}
	desc = {
		text = EVTDESCB_ZE_12086
		picture = GFX_evt_child_talking
		trigger = {
			FROM = { has_character_flag = child_conscientious_version_1_told_everyone }
		}
	}

	is_triggered_only = yes

	# Version 1
	option = {
		name = EVTOPTA_ZE_12086

		trigger = {
			FROM = { has_character_flag = child_conscientious_version_1_clean_again }
		}

		FROM = {
			show_scope_change = no

			tooltip = {
				add_trait = conscientious

				opinion = {
					name = opinion_hate
					who = ROOT
					years = 5
				}
			}

			character_event = { id = ZE.12087 } # Clear all flags
		}
	}

	option = {
		name = EVTOPTB_ZE_12086

		trigger = {
			FROM = { has_character_flag = child_conscientious_version_1_told_everyone }
		}

		tooltip = {
			any_courtier = {
				show_scope_change = no

				opinion = {
					name = opinion_disapprove
					who = ROOT
					years = 3
				}
			}
		}

		FROM = {
			character_event = { id = ZE.12087 } # Clear all flags
		}
	}
}

# Catch all event flag clear
character_event = {
	id = ZE.12087

	is_triggered_only = yes
	hide_window = yes

	immediate = {
		clear_flags_with_prefix = child_affectionate_version_
	}
}


#############################################
# Fussy										#
#############################################

# Start
character_event = {
	id = ZE.12090
	picture = GFX_evt_child_talking

	# Version 1
	desc = {
		text = EVTDESCA_ZE_12090 # About to go to bed, but missing toy
		picture = GFX_evt_cathedral
		trigger = { has_character_flag = child_fussy_version_1 }
	}
	# Version 2
	desc = {
		text = EVTDESCB_ZE_12090 # Food is served, but is very hot
		picture = GFX_evt_feast
		trigger = { has_character_flag = child_fussy_version_2 }
	}
	# Version 3
	desc = {
		text = EVTDESCC_ZE_12090 # Invited to eat cake but it's raining outside
		picture = GFX_evt_quarrel
		trigger = { has_character_flag = child_fussy_version_3 }
	}

	is_triggered_only = yes

	only_capable = yes

	trigger = {
		is_inaccessible_trigger = no

		NOR = {
			has_character_flag = ze_child_fussy_events
			has_character_modifier = the_oubliette
			has_character_modifier = the_dungeon
		}
	}

	immediate = {
		set_character_flag = ze_child_fussy_events

		# Find viable courtier or if none, only make third version available
		random_list = {
			33 = {
				trigger = {
					educator = {
						is_incapable = no

						NOR = {
							trait = blinded
							trait = imbecile
							has_character_modifier = the_oubliette
							has_character_modifier = the_dungeon
						}
					}
				}

				set_character_flag = child_fussy_version_1

				educator = {
					save_event_target_as = fussy_events_char_1

					if = { # If we don't involve a player, skip these events
						limit = {
							ROOT = { ai = yes }
							ai = yes
						}

						ROOT = {
							clr_character_flag = child_fussy_version_1
							add_trait = fussy
						}
					}
				}
			}

			33 = {
				trigger = {
					educator = {
						any_courtier = {
							is_incapable = no
							is_inaccessible_trigger = no

							NOR = {
								trait = blinded
								trait = imbecile
								has_character_modifier = the_oubliette
								has_character_modifier = the_dungeon
							}
						}
					}
				}

				set_character_flag = child_fussy_version_2

				educator = {
					random_courtier = {
						limit = {
							is_incapable = no
							is_inaccessible_trigger = no

							NOR = {
								trait = blinded
								trait = imbecile
								has_character_modifier = the_oubliette
								has_character_modifier = the_dungeon
							}
						}

						save_event_target_as = fussy_events_char_2

						if = { # If we don't involve a player, skip these events
							limit = {
								ROOT = { ai = yes }
								ai = yes
							}

							ROOT = {
								clr_character_flag = child_fussy_version_2
								add_trait = fussy
							}
						}
					}
				}
			}

			33 = {
				set_character_flag = child_fussy_version_3

				if = { # If we don't involve a player, skip these events
					limit = { ai = yes }

					clr_character_flag = child_fussy_version_3
					add_trait = fussy
				}
			}
		}
	}

	# Version 1
	option = {
		name = EVTOPTA_ZE_12090 # Won't go to bed without toy

		trigger = { has_character_flag = child_fussy_version_1 }

		custom_tooltip = { text = EVTOPTFUS }

		set_character_flag = child_fussy_version_1_refused

		event_target:fussy_events_char_1 = {
			character_event = { id = ZE.12092 }
		}
	}

	option = {
		name = EVTOPTB_ZE_12090 # Toy is not that important

		trigger = { has_character_flag = child_fussy_version_1 }

		prestige = 40
		set_character_flag = child_fussy_version_1_compliant

		event_target:fussy_events_char_1 = {
			show_scope_change = no

			tooltip = {
				opinion = {
					name = opinion_proud
					who = ROOT
					years = 2
				}
			}

			character_event = { id = ZE.12092 }
		}

		ai_chance = { factor = 0 }
	}

	# Version 2
	option = {
		name = EVTOPTC_ZE_12090 # Food is too hot

		trigger = { has_character_flag = child_fussy_version_2 }

		custom_tooltip = { text = EVTOPTFUS }

		set_character_flag = child_fussy_version_2_too_hot

		event_target:fussy_events_char_2 = {
			character_event = { id = ZE.12092 }
		}
	}

	option = {
		name = EVTOPTD_ZE_12090 # Eat food and complement cooking

		trigger = { has_character_flag = child_fussy_version_2 }

		tooltip = {
			opinion = {
				who = ROOT
				name = opinion_happy
				years = 2
			}
		}

		set_character_flag = child_fussy_version_2_complemented_food

		event_target:fussy_events_char_2 = {
			character_event = { id = ZE.12092 }
		}

		ai_chance = { factor = 0 }
	}

	# Version 3
	option = {
		name = EVTOPTE_ZE_12090 # Go out in the rain

		trigger = { has_character_flag = child_fussy_version_3 }

		prestige = 20

		random_list = {
			50 = {
				custom_tooltip = { text = EVTOPTE_ZE_12090_TOOLTIP1 }
				set_character_flag = child_fussy_version_3_made_it
			}

			50 = {
				custom_tooltip = { text = EVTOPTE_ZE_12090_TOOLTIP2 }
				set_character_flag = child_fussy_version_3_became_ill
			}
		}

		character_event = { id = ZE.12094 }

		ai_chance = { factor = 0 }
	}

	option = {
		name = EVTOPTF_ZE_12090 # Skip cake to not get wet

		trigger = { has_character_flag = child_fussy_version_3 }

		set_character_flag = child_fussy_version_3_waited
		add_trait = fussy
		character_event = { id = ZE.12097 } # Clear all flags
	}

	option = {
		name = OK # AI option, nothing to see here

		trigger = {
			NOR = {
				has_character_flag = child_fussy_version_1
				has_character_flag = child_fussy_version_2
				has_character_flag = child_fussy_version_3
			}
		}
	}
}

# Courtier reacts
character_event = {
	id = ZE.12092

	# Version 1
	desc = {
		text = EVTDESCA_ZE_12092 # Won't sleep without toy
		picture = GFX_evt_cathedral
		trigger = {
			FROM = { has_character_flag = child_fussy_version_1_refused }
		}
	}
	desc = {
		text = EVTDESCB_ZE_12092 # Ttoy not important
		picture = GFX_evt_cathedral
		trigger = {
			FROM = { has_character_flag = child_fussy_version_1_compliant }
		}
	}
	# Version 2
	desc = {
		text = EVTDESCC_ZE_12092 # Child thinks food is too hot
		picture = GFX_evt_feast
		trigger = {
			FROM = { has_character_flag = child_fussy_version_2_too_hot }
		}
	}
	desc = {
		text = EVTDESCD_ZE_12092 # Child complemented my cooking
		picture = GFX_evt_feast
		trigger = {
			FROM = { has_character_flag = child_fussy_version_2_complemented_food }
		}
	}

	is_triggered_only = yes

	# Version 1
	option = {
		name = EVTOPTA_ZE_12092 # Offer money for new toy
		trigger = {
			FROM = { has_character_flag = child_fussy_version_1_refused }
		}

		custom_tooltip = { text = EVTOPTFUS_FROM }

		FROM = {
			set_character_flag = child_fussy_version_1_offered_money
			character_event = { id = ZE.12094 }
		}

		ai_chance = { factor = 60 }
	}

	option = {
		name = EVTOPTB_ZE_12092 # Go find toy

		trigger = {
			FROM = { has_character_flag = child_fussy_version_1_refused }
		}

		prestige = -30

		FROM = {
			show_scope_change = no

			set_character_flag = child_fussy_version_1_fetched_toy

			character_event = {
				id = ZE.12094
				tooltip = EVTOPTFUS_FROM_TRUTH_BOMB_TT # They might be pleased with you
			}
		}

		custom_tooltip = { text = EVTOPTFUS_FROM }

		ai_chance = { factor = 40 }
	}

	option = {
		name = EVTOPTC_ZE_12092 # Child went to sleep

		trigger = {
			FROM = { has_character_flag = child_fussy_version_1_compliant }
		}

		prestige = 30

		opinion = {
			name = opinion_proud
			who = FROM
			years = 2
		}

		FROM = {
			character_event = { id = ZE.12097 } # Clear all flags
		}
	}

	# Version 2
	option = {
		name = EVTOPTD_ZE_12092 # Touch food to see if it's really too hot

		trigger = {
			FROM = { has_character_flag = child_fussy_version_2_too_hot }
		}

		custom_tooltip = { text = EVTOPTFUS_FROM }

		FROM = {
			set_character_flag = child_fussy_version_2_touched_food
			character_event = { id = ZE.12094 }
		}
	}

	option = {
		name = EVTOPTE_ZE_12092 # Let child wait

		trigger = {
			FROM = { has_character_flag = child_fussy_version_2_too_hot }
		}

		custom_tooltip = { text = EVTOPTFUS_FROM }

		FROM = {
			set_character_flag = child_fussy_version_2_do_nothing
			character_event = { id = ZE.12094 }
		}
	}

	option = {
		name = EVTOPTF_ZE_12092 # Child complemented your food, you are glad

		trigger = {
			FROM = { has_character_flag = child_fussy_version_2_complemented_food }
		}

		prestige = 30

		opinion = {
			name = opinion_happy
			who = FROM
			years = 2
		}

		FROM = {
			character_event = { id = ZE.12097 } # Clear all flags
		}
	}
}

# Child reacts
character_event = {
	id = ZE.12094

	# Version 1
	desc = {
		text = EVTDESCA_ZE_12094
		picture = GFX_evt_bribe_accepted
		trigger = { has_character_flag = child_fussy_version_1_offered_money }
	}
	desc = {
		text = EVTDESCB_ZE_12094
		picture = GFX_evt_noble_in_castle
		trigger = { has_character_flag = child_fussy_version_1_fetched_toy }
	}
	# Version 2
	desc = {
		text = EVTDESCC_ZE_12094
		picture = GFX_evt_feast
		trigger = { has_character_flag = child_fussy_version_2_touched_food }
	}
	desc = {
		text = EVTDESCD_ZE_12094
		picture = GFX_evt_feast
		trigger = { has_character_flag = child_fussy_version_2_do_nothing }
	}
	# Version 3
	desc = {
		text = EVTDESCE_ZE_12094
		picture = GFX_evt_feast
		trigger = { has_character_flag = child_fussy_version_3_made_it }
	}
	desc = {
		text = EVTDESCF_ZE_12094
		picture = GFX_evt_illness
		trigger = { has_character_flag = child_fussy_version_3_became_ill }
	}

	is_triggered_only = yes

	# Version 1
	option = {
		name = EVTOPTA_ZE_12094 # It's not the same as my old toy

		trigger = { has_character_flag = child_fussy_version_1_offered_money }

		add_trait = fussy
		set_character_flag = child_fussy_version_1_persistent

		FROM = {
			show_scope_change = no

			tooltip = {
				opinion = {
					name = opinion_dislike
					who = ROOT
					years = 1
				}
			}

			character_event = { id = ZE.12096 }
		}
	}

	option = {
		name = EVTOPTB_ZE_12094 # Agree to offer of buying new toy

		trigger = { has_character_flag = child_fussy_version_1_offered_money }

		opinion = {
			name = opinion_satisfied
			who = FROM
			years = 1
		}

		set_character_flag = child_fussy_version_1_took_offer

		FROM = {
			show_scope_change = no

			tooltip = {
				wealth = -10
			}

			character_event = { id = ZE.12096 }
		}

		ai_chance = { factor = 0 }
	}

	option = {
		name = EVTOPTC_ZE_12094 # Toy smells!

		trigger = { has_character_flag = child_fussy_version_1_fetched_toy }

		add_trait = fussy
		set_character_flag = child_fussy_version_1_smelly_toy

		FROM = {
			character_event = { id = ZE.12096 }
		}
	}

	option = {
		name = EVTOPTD_ZE_12094 # Accept smelly toy

		trigger = { has_character_flag = child_fussy_version_1_fetched_toy }

		opinion = {
			name = opinion_happy_with_guardian
			who = FROM
			years = 2
		}

		set_character_flag = child_fussy_version_1_fell_asleep

		FROM = {
			character_event = { id = ZE.12096 }
		}

		ai_chance = { factor = 0 }
	}

	# Version 2
	option = {
		name = EVTOPTE_ZE_12094 # They touched the food!

		trigger = { has_character_flag = child_fussy_version_2_touched_food }

		set_character_flag = child_fussy_version_2_persistent
		add_trait = fussy

		tooltip = {
			opinion = {
				name = opinion_mad_at_guardian
				who = FROM
				years = 1
			}
		}

		prestige = 30

		FROM = {
			character_event = { id = ZE.12096 }
		}
	}

	option = {
		name = EVTOPTF_ZE_12094 # I guess it's fine to eat

		trigger = { has_character_flag = child_fussy_version_2_touched_food }

		set_character_flag = child_fussy_version_2_ate_food
		prestige = -20

		FROM = {
			show_scope_change = no

			tooltip = {
				opinion = {
					name = opinion_satisfied
					who = ROOT
					years = 1
				}
			}

			character_event = { id = ZE.12096 }
		}

		ai_chance = { factor = 0 }
	}

	option = {
		name = EVTOPTG_ZE_12094 # Now it's too cold!

		trigger = { has_character_flag = child_fussy_version_2_do_nothing }

		set_character_flag = child_fussy_version_2_persistent
		add_trait = fussy

		tooltip = {
			opinion = {
				name = opinion_mad_at_guardian
				who = FROM
				years = 1
			}
		}

		prestige = 30

		FROM = {
			character_event = { id = ZE.12096 }
		}
	}

	option = {
		name = EVTOPTH_ZE_12094 # Eat food

		trigger = { has_character_flag = child_fussy_version_2_do_nothing }

		set_character_flag = child_fussy_version_2_ate_food
		prestige = -10

		FROM = {
			show_scope_change = no

			tooltip = {
				opinion = {
					name = opinion_satisfied
					who = ROOT
					years = 1
				}
			}

			character_event = { id = ZE.12096 }
		}

		ai_chance = { factor = 0 }
	}

	# Version 3
	option = {
		name = EVTOPTI_ZE_12094 # Made it to servants quarter

		trigger = { has_character_flag = child_fussy_version_3_made_it }

		change_diplomacy = 1
		change_martial = 1
		character_event = { id = ZE.12097 } # Clear all flags
	}

	option = {
		name = EVTOPTJ_ZE_12094 # Took too long, became ill

		trigger = { has_character_flag = child_fussy_version_3_became_ill }

		change_diplomacy = 2

		if = {
			limit = { has_dlc = "Reapers" }
			add_symptom_effect = yes
		}
		else = {
			add_trait_silently_ill_effect = yes
		}

		character_event = { id = ZE.12097 } # Clear all flags
	}
}

# Courtier informed
character_event = {
	id = ZE.12096

	# Version 1
	desc = {
		text = EVTDESCA_ZE_12096 # Child refuses to replace toy
		picture = GFX_evt_bribe_declined
		trigger = {
			FROM = { has_character_flag = child_fussy_version_1_persistent }
		}
	}
	desc = {
		text = EVTDESCB_ZE_12096 # Child agreed to buy new toy
		picture = GFX_evt_bribe_accepted
		trigger = {
			FROM = { has_character_flag = child_fussy_version_1_took_offer }
		}
	}
	desc = {
		text = EVTDESCC_ZE_12096 # Child complains that now, the toy smells
		picture = GFX_evt_noble_in_castle
		trigger = {
			FROM = { has_character_flag = child_fussy_version_1_smelly_toy }
		}
	}
	desc = {
		text = EVTDESCD_ZE_12096 # Child fell asleep after getting toy back
		picture = GFX_evt_cathedral
		trigger = {
			FROM = { has_character_flag = child_fussy_version_1_fell_asleep }
		}
	}
	# Version 2
	desc = {
		text = EVTDESCE_ZE_12096 # Child still won't eat food
		picture = GFX_evt_feast
		trigger = {
			FROM = { has_character_flag = child_fussy_version_2_persistent }
		}
	}
	desc = {
		text = EVTDESCF_ZE_12096 # Child ate food, finally
		picture = GFX_evt_feast
		trigger = {
			FROM = { has_character_flag = child_fussy_version_2_ate_food }
		}
	}

	is_triggered_only = yes

	# Version 1
	option = {
		name = EVTOPTA_ZE_12096

		trigger = {
			FROM = { has_character_flag = child_fussy_version_1_persistent }
		}

		custom_tooltip = { text = from_has_gained_fussy_tt }
		show_trait = fussy

		FROM = {
			show_scope_change = no

			tooltip = {
				opinion = {
					name = opinion_mad_at_guardian
					who = ROOT
					years = 1
				}
			}

			character_event = { id = ZE.12097 } # Clear all flags
		}
	}

	option = {
		name = EVTOPTB_ZE_12096

		trigger = {
			FROM = { has_character_flag = child_fussy_version_1_took_offer }
		}

		wealth = -10

		FROM = {
			show_scope_change = no

			tooltip = {
				opinion = {
					name = opinion_satisfied
					who = FROM
					years = 1
				}
			}

			character_event = { id = ZE.12097 } # Clear all flags
		}
	}

	option = {
		name = EVTOPTC_ZE_12096

		trigger = {
			FROM = { has_character_flag = child_fussy_version_1_smelly_toy }
		}

		custom_tooltip = { text = from_has_gained_fussy_tt }
		show_trait = fussy

		FROM = {
			show_scope_change = no

			tooltip = {
				opinion = {
					name = opinion_mad_at_guardian
					who = ROOT
					years = 1
				}
			}

			character_event = { id = ZE.12097 } # Clear all flags
		}
	}

	option = {
		name = EVTOPTD_ZE_12096

		trigger = {
			FROM = { has_character_flag = child_fussy_version_1_fell_asleep }
		}

		opinion = {
			name = opinion_satisfied
			who = FROM
			years = 1
		}

		FROM = {
			character_event = { id = ZE.12097 } # Clear all flags
		}
	}

	# Version 2
	option = {
		name = EVTOPTE_ZE_12096

		trigger = {
			FROM = { has_character_flag = child_fussy_version_2_persistent }
		}

		custom_tooltip = { text = from_has_gained_fussy_tt }
		show_trait = fussy

		FROM = {
			show_scope_change = no

			tooltip = {
				opinion = {
					name = opinion_mad_at_guardian
					who = ROOT
					years = 1
				}

				prestige = 50
			}

			character_event = { id = ZE.12097 } # Clear all flags
		}

		prestige = -50
	}

	option = {
		name = EVTOPTF_ZE_12096

		trigger = {
			FROM = { has_character_flag = child_fussy_version_2_ate_food }
		}

		prestige = 30

		FROM = {
			character_event = { id = ZE.12097 } # Clear all flags
		}
	}
}

# Catch all event flag clear
character_event = {
	id = ZE.12097

	is_triggered_only = yes
	hide_window = yes

	immediate = {
		clear_flags_with_prefix = child_fussy_version_
	}
}

#############################################
# Curious									#
#############################################

# Start
character_event = {
	id = ZE.12100

	# Version 1
	desc = {
		text = EVTDESCA_ZE_12100 # Follow adult when told to stay at home?
		picture = GFX_evt_guardian
		trigger = { has_character_flag = child_curious_version_1 }
	}
	# Version 2
	desc = {
		text = EVTDESCB_ZE_12100 # Open sealed letter meant for adult?
		picture = GFX_evt_recieve_letter
		trigger = { has_character_flag = child_curious_version_2 }
	}
	# Version 3
	desc = {
		text = EVTDESCC_ZE_12100 # Sounds coming from the bushes, investigate?
		picture = GFX_evt_child_play
		trigger = { has_character_flag = child_curious_version_3 }
	}

	is_triggered_only = yes

	only_capable = yes

	trigger = {
		is_inaccessible_trigger = no

		NOR = {
			has_character_flag = ze_child_curious_events
			has_character_modifier = the_oubliette
			has_character_modifier = the_dungeon
		}
	}

	immediate = {
		set_character_flag = ze_child_curious_events

		# Find viable courtier or if none, only make third version available
		random_list = {
			33 = {
				trigger = {
					educator = {
						trait = charitable
						is_incapable = no
						is_inaccessible_trigger = no

						NOR = {
							has_character_modifier = the_oubliette
							has_character_modifier = the_dungeon
						}
					}
				}

				set_character_flag = child_curious_version_1

				educator = {
					save_event_target_as = curious_events_char_1

					if = { # If we don't involve a player, skip these events
						limit = {
							ROOT = { ai = yes }
							ai = yes
						}

						ROOT = {
							clr_character_flag = child_curious_version_1
							add_trait = curious
						}
					}
				}
			}

			33 = {
				trigger = {
					educator = {
						is_incapable = no
						is_inaccessible_trigger = no

						NOR = {
							trait = imbecile
							has_character_modifier = the_oubliette
							has_character_modifier = the_dungeon
						}
					}
				}

				set_character_flag = child_curious_version_2

				educator = {
					save_event_target_as = curious_events_char_2

					if = { # If we don't involve a player, skip these events
						limit = {
							ROOT = { ai = yes }
							ai = yes
						}

						ROOT = {
							clr_character_flag = child_curious_version_2
							add_trait = curious
						}
					}
				}
			}

			33 = {
				set_character_flag = child_curious_version_3

				if = { # If we don't involve a player, skip these events
					limit = { ai = yes }

					clr_character_flag = child_curious_version_3
					add_trait = curious
				}
			}
		}
	}

	# Version 1
	option = {
		name = EVTOPTA_ZE_12100 # Follow our educator

		trigger = { has_character_flag = child_curious_version_1 }

		add_trait = curious
		set_character_flag = child_curious_version_1_followed

		event_target:curious_events_char_1 = {
			character_event = { id = ZE.12102 }
		}
	}

	option = {
		name = EVTOPTB_ZE_12100 # Stay at home like a good boy/girl

		trigger = { has_character_flag = child_curious_version_1 }

		piety = 50
		set_character_flag = child_curious_version_1_stayed_home

		event_target:curious_events_char_1 = {
			show_scope_change = no

			tooltip = {
				opinion = {
					name = opinion_satisfied
					who = ROOT
					years = 2
				}
			}

			character_event = { id = ZE.12102 }
		}

		ai_chance = { factor = 0 }
	}

	# Version 2
	option = {
		name = EVTOPTC_ZE_12100 # Put the letter on a table for our educator

		trigger = { has_character_flag = child_curious_version_2 }

		piety = 50

		tooltip = {
			reverse_opinion = {
				name = opinion_glad
				who = FROM
				years = 2
			}
		}

		set_character_flag = child_curious_version_2_left_letter

		event_target:curious_events_char_2 = {
			character_event = { id = ZE.12102 }
		}

		ai_chance = { factor = 0 }
	}

	option = {
		name = EVTOPTD_ZE_12100 # Open the letter

		trigger = { has_character_flag = child_curious_version_2 }

		add_trait = curious
		set_character_flag = child_curious_version_2_read_letter

		event_target:curious_events_char_2 = {
			character_event = { id = ZE.12102 }
		}
	}

	# Version 3
	option = {
		name = EVTOPTE_ZE_12100 # Investigate strange noise in bushes

		trigger = { has_character_flag = child_curious_version_3 }

		add_trait = curious

		random_list = {
			50 = {
				custom_tooltip = { text = EVTOPTE_ZE_12100_TOOLTIP1 }
				set_character_flag = child_curious_version_3_bit
			}

			50 = {
				custom_tooltip = { text = EVTOPTE_ZE_12100_TOOLTIP2 }
				set_character_flag = child_curious_version_3_found_pet
			}
		}

		character_event = { id = ZE.12104 }
	}

	option = {
		name = EVTOPTF_ZE_12100 # Go tell someone

		trigger = { has_character_flag = child_curious_version_3 }

		character_event = { id = ZE.12107 } # Clear all flags

		ai_chance = { factor = 0 }
	}

	option = {
		name = OK # AI option, nothing to see here

		trigger = {
			NOR = {
				has_character_flag = child_curious_version_1
				has_character_flag = child_curious_version_2
				has_character_flag = child_curious_version_3
			}
		}
	}
}

# Courtier reacts
character_event = {
	id = ZE.12102

	# Version 1
	desc = {
		text = EVTDESCA_ZE_12102 # Child followed me to market
		picture = GFX_evt_guardian
		trigger = {
			FROM = { has_character_flag = child_curious_version_1_followed }
		}
	}
	desc = {
		text = EVTDESCB_ZE_12102 # Child waited patiently at home
		picture = GFX_evt_child_reading
		trigger = {
			FROM = { has_character_flag = child_curious_version_1_stayed_home }
		}
	}
	# Version 2
	desc = {
		text = EVTDESCC_ZE_12102 # Child opened my private letter
		picture = GFX_evt_recieve_letter
		trigger = {
			FROM = { has_character_flag = child_curious_version_2_read_letter }
		}
	}
	desc = {
		text = EVTDESCD_ZE_12102 # Child left my letter untouched
		picture = GFX_evt_recieve_letter
		trigger = {
			FROM = { has_character_flag = child_curious_version_2_left_letter }
		}
	}

	is_triggered_only = yes

	# Version 1
	option = {
		name = EVTOPTA_ZE_12102 # Grab child by ear and correct them

		trigger = {
			FROM = { has_character_flag = child_curious_version_1_followed }
		}

		if = {
			limit = { religion = jain }
			piety = -15
		}

		prestige = 30

		FROM = {
			set_character_flag = child_curious_version_1_scolded
			character_event = { id = ZE.12104 }
		}

		ai_chance = { factor = 70 }
	}

	option = {
		name = EVTOPTB_ZE_12102 # Laugh it off

		trigger = {
			FROM = { has_character_flag = child_curious_version_1_followed }
		}

		prestige = -40

		FROM = {
			show_scope_change = no

			tooltip = {
				opinion = {
					name = opinion_happy_with_guardian
					who = ROOT
					years = 2
				}
			}

			set_character_flag = child_curious_version_1_forgiven
			character_event = { id = ZE.12104 }
		}

		ai_chance = { factor = 30 }
	}

	option = {
		name = EVTOPTC_ZE_12102 # Child stayed at home, you are glad

		trigger = {
			FROM = { has_character_flag = child_curious_version_1_stayed_home }
		}

		opinion = {
			name = opinion_satisfied
			who = FROM
			years = 2
		}

		FROM = {
			character_event = { id = ZE.12107 } # Clear all flags
		}
	}

	# Version 2
	option = {
		name = EVTOPTD_ZE_12102 # Punish child for opening your letter

		trigger = {
			FROM = { has_character_flag = child_curious_version_2_read_letter }
		}

		if = {
			limit = { religion = jain }
			piety = -15
		}

		FROM = {
			set_character_flag = child_curious_version_2_punished
			character_event = { id = ZE.12104 }
		}

		add_trait_fully_silently_cruel_effect = yes

		ai_chance = { factor = 40 }
	}

	option = {
		name = EVTOPTE_ZE_12102 # Tell child about privacy

		trigger = {
			FROM = { has_character_flag = child_curious_version_2_read_letter }
		}

		FROM = {
			show_scope_change = no

			tooltip = {
				prestige = -30
			}

			set_character_flag = child_curious_version_2_warned
			character_event = { id = ZE.12104 }
		}

		ai_chance = { factor = 60 }
	}

	option = {
		name = EVTOPTF_ZE_12102 # You're glad child didn't open the letter

		trigger = {
			FROM = { has_character_flag = child_curious_version_2_left_letter }
		}

		opinion = {
			name = opinion_glad
			who = FROM
			years = 2
		}

		FROM = {
			character_event = { id = ZE.12107 } # Clear all flags
		}
	}
}

# Child reacts
character_event = {
	id = ZE.12104

	# Version 1
	desc = {
		text = EVTDESCA_ZE_12104
		picture = GFX_evt_guardian
		trigger = { has_character_flag = child_curious_version_1_scolded }
	}
	desc = {
		text = EVTDESCB_ZE_12104
		picture = GFX_evt_guardian
		trigger = { has_character_flag = child_curious_version_1_forgiven }
	}
	# Version 2
	desc = {
		text = EVTDESCC_ZE_12104
		picture = GFX_evt_recieve_letter
		trigger = { has_character_flag = child_curious_version_2_punished }
	}
	desc = {
		text = EVTDESCD_ZE_12104
		picture = GFX_evt_recieve_letter
		trigger = { has_character_flag = child_curious_version_2_warned }
	}
	# Version 3
	desc = {
		text = EVTDESCE_ZE_12104
		picture = GFX_evt_child_play
		trigger = { has_character_flag = child_curious_version_3_bit }
	}
	desc = {
		text = EVTDESCF_ZE_12104
		picture = GFX_evt_child_play
		trigger = { has_character_flag = child_curious_version_3_found_pet }
	}

	is_triggered_only = yes

	# Version 1
	option = {
		name = EVTOPTA_ZE_12104

		trigger = { has_character_flag = child_curious_version_1_scolded }

		change_intrigue = 1
		set_character_flag = child_curious_version_1_persistent

		opinion = {
			name = opinion_dislike
			who = FROM
			years = 1
		}

		FROM = {
			character_event = { id = ZE.12106 }
		}

		ai_chance = { factor = 70 }
	}

	option = {
		name = EVTOPTB_ZE_12104

		trigger = { has_character_flag = child_curious_version_1_scolded }

		set_character_flag = child_curious_version_1_regretful

		FROM = {
			show_scope_change = no

			tooltip = {
				opinion = {
					who = ROOT
					name = opinion_satisfied
					years = 1
				}
			}

			character_event = { id = ZE.12106 }
		}

		ai_chance = { factor = 30 }
	}

	option = {
		name = EVTOPTC_ZE_12104

		trigger = { has_character_flag = child_curious_version_1_forgiven }

		opinion = {
			name = opinion_happy_with_guardian
			who = FROM
			years = 2
		}

		character_event = { id = ZE.12107 } # Clear all flags
	}

	# Version 2
	option = {
		name = EVTOPTD_ZE_12104

		trigger = { has_character_flag = child_curious_version_2_punished }

		set_character_flag = child_curious_version_1_persistent

		opinion = {
			name = opinion_mad_at_guardian
			who = FROM
			years = 1
		}

		prestige = 30

		FROM = {
			character_event = { id = ZE.12106 }
		}

		ai_chance = { factor = 40 }
	}

	option = {
		name = EVTOPTE_ZE_12104

		trigger = { has_character_flag = child_curious_version_2_punished }

		set_character_flag = child_curious_version_2_regretful
		prestige = -10

		FROM = {
			show_scope_change = no

			tooltip = {
				opinion = {
					name = opinion_satisfied
					who = ROOT
					years = 1
				}
			}

			character_event = { id = ZE.12106 }
		}

		ai_chance = { factor = 60 }
	}

	option = {
		name = EVTOPTF_ZE_12104

		trigger = { has_character_flag = child_curious_version_2_warned }

		prestige = -30
		character_event = { id = ZE.12107 } # Clear all flags
	}

	# Version 3
	option = {
		name = EVTOPTG_ZE_12104

		trigger = { has_character_flag = child_curious_version_3_bit }

		add_trait = curious
		character_event = { id = ZE.12107 } # Clear all flags

		ai_chance = { factor = 30 }
	}

	option = {
		name = EVTOPTH_ZE_12104

		trigger = { has_character_flag = child_curious_version_3_bit }

		change_learning = 1
		character_event = { id = ZE.12107 } # Clear all flags

		ai_chance = { factor = 70 }
	}

	option = {
		name = EVTOPTI_ZE_12104

		trigger = { has_character_flag = child_curious_version_3_found_pet }

		add_trait = curious
		piety = 15
		character_event = { id = ZE.12107 } # Clear all flags
	}
}

# Courtier informed
character_event = {
	id = ZE.12106
	picture = GFX_evt_child_talking

	# Version 1
	desc = {
		text = EVTDESCA_ZE_12106
		trigger = {
			FROM = { has_character_flag = child_curious_version_1_persistent }
		}
	}
	desc = {
		text = EVTDESCB_ZE_12106
		trigger = {
			FROM = { has_character_flag = child_curious_version_1_regretful }
		}
	}
	# Version 2
	desc = {
		text = EVTDESCC_ZE_12106
		trigger = {
			FROM = { has_character_flag = child_curious_version_2_persistent }
		}
	}
	desc = {
		text = EVTDESCD_ZE_12106
		trigger = {
			FROM = { has_character_flag = child_curious_version_2_regretful }
		}
	}

	is_triggered_only = yes

	# Version 1
	option = {
		name = EVTOPTA_ZE_12106

		trigger = {
			FROM = { has_character_flag = child_curious_version_1_persistent }
		}

		FROM = {
			show_scope_change = no

			tooltip = {
				opinion = {
					name = opinion_mad_at_guardian
					who = ROOT
					years = 1
				}
			}

			character_event = { id = ZE.12107 } # Clear all flags
		}
	}

	option = {
		name = EVTOPTB_ZE_12106

		trigger = {
			FROM = { has_character_flag = child_curious_version_1_regretful }
		}

		opinion = {
			name = opinion_satisfied
			who = FROM
			years = 1
		}

		FROM = {
			character_event = { id = ZE.12107 } # Clear all flags
		}
	}

	# Version 2
	option = {
		name = EVTOPTC_ZE_12106

		trigger = {
			FROM = { has_character_flag = child_curious_version_2_persistent }
		}

		prestige = -50

		FROM = {
			show_scope_change = no

			tooltip = {
				opinion = {
					name = opinion_mad_at_guardian
					who = ROOT
					years = 1
				}

				prestige = 50
			}

			character_event = { id = ZE.12107 } # Clear all flags
		}
	}

	option = {
		name = EVTOPTD_ZE_12106

		trigger = {
			FROM = { has_character_flag = child_curious_version_2_regretful }
		}

		prestige = 30

		FROM = {
			character_event = { id = ZE.12107 } # Clear all flags
		}
	}
}

# Catch all flag clearing event
character_event = {
	id = ZE.12107

	is_triggered_only = yes
	hide_window = yes

	immediate = {
		clear_flags_with_prefix = child_curious_version_
	}
}

#############################################
# Idolizer									#
#############################################

# Start
character_event = {
	id = ZE.12110

	# Version 1
	desc = {
		text = EVTDESCA_ZE_12110 # Amazed by courtier
		picture = GFX_evt_son_asking_father
		trigger = { has_character_flag = child_idolizer_version_1 }
	}
	# Version 2
	desc = {
		text = EVTDESCB_ZE_12110 # Adore other child, love?
		picture = GFX_evt_child_talking
		trigger = { has_character_flag = child_idolizer_version_2 }
	}
	# Version 3
	desc = {
		text = EVTDESCC_ZE_12110 # All consuming devotion to god
		picture = GFX_evt_bishop
		trigger = { has_character_flag = child_idolizer_version_3 }
	}

	is_triggered_only = yes

	only_capable = yes

	trigger = {
		is_inaccessible_trigger = no

		NOR = {
			has_character_flag = ze_child_idolizer_events
			has_character_modifier = the_oubliette
			has_character_modifier = the_dungeon
		}
	}

	immediate = {
		set_character_flag = ze_child_idolizer_events

		# Find viable courtier or if none, only make third version available
		random_list = {
			33 = {
				trigger = {
					educator = {
						any_courtier = {
							is_adult = yes
							is_incapable = yes
							is_inaccessible_trigger = no

							NOR = {
								trait = wroth
								trait = cruel
								trait = cynical
								has_character_modifier = the_oubliette
								has_character_modifier = the_dungeon
							}
						}
					}
				}

				set_character_flag = child_idolizer_version_1

				educator = {
					random_courtier = {
						limit = {
							is_adult = yes
							is_incapable = yes
							is_inaccessible_trigger = no

							NOR = {
								trait = wroth
								trait = cruel
								trait = cynical
								has_character_modifier = the_oubliette
								has_character_modifier = the_dungeon
							}
						}

						save_event_target_as = idolizer_events_char_1

						if = { # If we don't involve a player, skip these events
							limit = {
								ROOT = { ai = yes }
								ai = yes
							}

							ROOT = {
								clr_character_flag = child_idolizer_version_1
								add_trait = idolizer
							}
						}
					}
				}
			}

			33 = {
				trigger = {
					educator = {
						any_courtier = {
							is_adult = no
							is_incapable = no
							is_inaccessible_trigger = no

							NOR = {
								trait = imbecile
								has_character_modifier = the_oubliette
								has_character_modifier = the_dungeon
							}
						}
					}
				}

				set_character_flag = child_idolizer_version_2

				educator = {
					random_courtier = {
						limit = {
							is_adult = no
							is_incapable = no
							is_inaccessible_trigger = no

							NOR = {
								trait = imbecile
								has_character_modifier = the_oubliette
								has_character_modifier = the_dungeon
							}
						}

						save_event_target_as = idolizer_events_char_2

						if = { # If we don't involve a player, skip these events
							limit = {
								ROOT = { ai = yes }
								ai = yes
							}

							ROOT = { clr_character_flag = child_idolizer_version_2
								add_trait = idolizer
							}
						}
					}
				}
			}

			33 = {
				set_character_flag = child_idolizer_version_3

				if = { # If we don't involve a player, skip these events
					limit = { ai = yes }

					clr_character_flag = child_idolizer_version_3
					add_trait = idolizer
				}
			}
		}
	}

	# Version 1
	option = {
		name = EVTOPTA_ZE_12110 # Write a song to specific courtier

		trigger = { has_character_flag = child_idolizer_version_1 }

		custom_tooltip = { text = EVTOPTIDO }

		set_character_flag = child_idolizer_version_1_wrote_song

		event_target:idolizer_events_char_1 = {
			character_event = { id = ZE.12112 }
		}
	}

	option = {
		name = EVTOPTB_ZE_12110 # Tell all courtiers how nice it is here

		trigger = { has_character_flag = child_idolizer_version_1 }

		set_character_flag = child_idolizer_version_1_grateful

		event_target:idolizer_events_char_1 = {
			show_scope_change = no

			any_courtier = {
				show_scope_change = no

				opinion = {
					name = opinion_happy
					who = ROOT
					years = 3
				}
			}

			character_event = { id = ZE.12112 }
		}

		ai_chance = { factor = 0 }
	}

	# Version 2
	option = {
		name = EVTOPTC_ZE_12110 # Everything event_target does is great

		trigger = { has_character_flag = child_idolizer_version_2 }

		custom_tooltip = { text = EVTOPTIDO }

		set_character_flag = child_idolizer_version_2_adore

		event_target:idolizer_events_char_2 = {
			character_event = { id = ZE.12112 }
		}
	}

	option = {
		name = EVTOPTD_ZE_12110 # We should stay friends forever

		trigger = { has_character_flag = child_idolizer_version_2 }

		set_character_flag = child_idolizer_version_2_friends

		event_target:idolizer_events_char_2 = {
			show_scope_change = no

			add_friend = ROOT
			character_event = { id = ZE.12112 }
		}

		ai_chance = { factor = 0 }
	}

	# Version 3
	option = {
		name = EVTOPTE_ZE_12110 # Dedicate myself to the faith

		trigger = { has_character_flag = child_idolizer_version_3 }

		piety = 30

		character_event = {
			id = ZE.12114
			tooltip = EVTOPTIDO
		}
	}

	option = {
		name = EVTOPTF_ZE_12110 # Steal money from church

		trigger = { has_character_flag = child_idolizer_version_3 }

		change_intrigue = 1
		wealth = 40
		character_event = { id = ZE.12117 } # Clear all flags

		ai_chance = { factor = 0 }
	}

	option = {
		name = OK # ai option, nothing to see here

		trigger = {
			NOR = {
				has_character_flag = child_idolizer_version_1
				has_character_flag = child_idolizer_version_2
				has_character_flag = child_idolizer_version_3
			}
		}
	}
}

# Courtier reacts
character_event = {
	id = ZE.12112

	# Version 1
	desc = {
		text = EVTDESCA_ZE_12112 # Child wrote me a song
		picture = GFX_evt_son_asking_father
		trigger = {
			FROM = { has_character_flag = child_idolizer_version_1_wrote_song }
		}
	}
	desc = {
		text = EVTDESCB_ZE_12112 # Child is grateful to everyone
		picture = GFX_evt_son_asking_father
		trigger = {
			FROM = { has_character_flag = child_idolizer_version_1_grateful }
		}
	}
	# Version 2
	desc = {
		text = EVTDESCC_ZE_12112 # Other child adores me
		picture = GFX_evt_child_talking
		trigger = {
			FROM = { has_character_flag = child_idolizer_version_2_adore }
		}
	}
	desc = {
		text = EVTDESCD_ZE_12112 # Other child wants to stay friends
		picture = GFX_evt_child_talking
		trigger = {
			FROM = { has_character_flag = child_idolizer_version_2_friends }
		}
	}

	is_triggered_only = yes

	# Version 1
	option = {
		name = EVTOPTA_ZE_12112 # Tell child they are sweet

		trigger = {
			FROM = { has_character_flag = child_idolizer_version_1_wrote_song }
		}

		prestige = 30

		opinion = {
			name = opinion_happy
			who = FROM
			years = 5
		}

		custom_tooltip = { text = EVTOPTIDO_FROM }

		FROM = {
			set_character_flag = child_idolizer_version_1_brag
			character_event = { id = ZE.12114 }
		}

		ai_chance = { factor = 50 }
	}

	option = {
		name = EVTOPTB_ZE_12112 # I'm just doing my duties

		trigger = {
			FROM = { has_character_flag = child_idolizer_version_1_wrote_song }
		}

		prestige = 20
		add_trait_fully_silently_humble_effect = yes

		custom_tooltip = { text = EVTOPTIDO_FROM }

		FROM = {
			set_character_flag = child_idolizer_version_1_humble
			character_event = { id = ZE.12114 }
		}

		ai_chance = { factor = 50 }
	}

	option = {
		name = EVTOPTC_ZE_12112 # Child shows gratitude to everyone

		trigger = {
			FROM = { has_character_flag = child_idolizer_version_1_grateful }
		}

		tooltip = {
			any_courtier = {
				show_scope_change = no

				opinion = {
					name = opinion_happy
					who = FROM
					years = 2
				}
			}
		}

		FROM = {
			character_event = { id = ZE.12117 } # Clear all flags
		}
	}

	# Version 2
	option = {
		name = EVTOPTD_ZE_12112 # I like being around you too

		trigger = {
			FROM = { has_character_flag = child_idolizer_version_2_adore }
		}

		custom_tooltip = { text = EVTOPTIDO_FROM }

		FROM = {
			set_character_flag = child_idolizer_version_2_agree
			character_event = { id = ZE.12114 }
		}
	}

	option = {
		name = EVTOPTE_ZE_12112 # I don't feel the same way

		trigger = {
			FROM = { has_character_flag = child_idolizer_version_2_adore }
		}

		change_diplomacy = 1

		FROM = {
			show_scope_change = no

			tooltip = {
				prestige = -30
			}

			set_character_flag = child_idolizer_version_2_disagree
			character_event = { id = ZE.12114 }
		}

		ai_chance = { factor = 0 }
	}

	option = {
		name = EVTOPTF_ZE_12112 # What a good friend

		trigger = {
			FROM = { has_character_flag = child_idolizer_version_2_friend }
		}

		tooltip = {
			add_friend = FROM
		}

		FROM = {
			character_event = { id = ZE.12117 } # Clear all flags
		}
	}
}

# Child reacts
character_event = {
	id = ZE.12114

	# Version 1
	desc = {
		text = EVTDESCA_ZE_12114
		picture = GFX_evt_son_asking_father
		trigger = { has_character_flag = child_idolizer_version_1_brag }
	}
	desc = {
		text = EVTDESCB_ZE_12114
		picture = GFX_evt_son_asking_father
		trigger = { has_character_flag = child_idolizer_version_1_humble }
	}
	# Version 2
	desc = {
		text = EVTDESCC_ZE_12114
		picture = GFX_evt_child_talking
		trigger = { has_character_flag = child_idolizer_version_2_agree }
	}
	desc = {
		text = EVTDESCD_ZE_12114
		picture = GFX_evt_child_talking
		trigger = { has_character_flag = child_idolizer_version_2_disagree }
	}
	# Version 3
	desc = {
		text = EVTDESCE_ZE_12114
		picture = GFX_evt_bishop
		trigger = { has_character_flag = child_idolizer_version_3 }
	}

	is_triggered_only = yes

	# Version 1
	option = {
		name = EVTOPTA_ZE_12114

		trigger = { has_character_flag = child_idolizer_version_1_brag }

		add_trait = idolizer

		opinion = {
			name = opinion_impressed
			who = FROM
			years = 2
		}

		set_character_flag = child_idolizer_version_1_impressed

		FROM = {
			show_scope_change = no

			tooltip = {
				prestige = 20
			}

			character_event = { id = ZE.12116 }
		}
	}

	option = {
		name = EVTOPTB_ZE_12114

		trigger = { has_character_flag = child_idolizer_version_1_brag }

		set_character_flag = child_idolizer_version_1_unimpressed

		FROM = {
			show_scope_change = no

			tooltip = {
				prestige = -20
			}

			character_event = { id = ZE.12116 }
		}

		ai_chance = { factor = 0 }
	}

	option = {
		name = EVTOPTC_ZE_12114

		trigger = { has_character_flag = child_idolizer_version_1_humble }

		add_trait = idolizer

		opinion = {
			name = opinion_impressed
			who = FROM
			years = 2
		}

		set_character_flag = child_idolizer_version_1_impressed

		FROM = {
			show_scope_change = no

			tooltip = {
				prestige = 20
			}

			character_event = { id = ZE.12116 }
		}
	}

	option = {
		name = EVTOPTD_ZE_12114

		trigger = { has_character_flag = child_idolizer_version_1_humble }

		set_character_flag = child_idolizer_version_1_unimpressed

		FROM = {
			show_scope_change = no

			tooltip = {
				prestige = -20
			}

			character_event = { id = ZE.12116 }
		}

		ai_chance = { factor = 0 }
	}

	# Version 2
	option = {
		name = EVTOPTE_ZE_12114

		trigger = { has_character_flag = child_idolizer_version_2_agree }

		set_character_flag = child_idolizer_version_2_mutual
		add_trait = idolizer

		opinion = {
			name = childhood_sweetheart
			who = FROM
			years = 3
		}

		FROM = {
			character_event = { id = ZE.12116 }
		}
	}

	option = {
		name = EVTOPTF_ZE_12114

		trigger = { has_character_flag = child_idolizer_version_2_agree }

		set_character_flag = child_idolizer_version_2_unanswered
		prestige = 30

		FROM = {
			show_scope_change = no

			tooltip = {
				prestige = -30

				opinion = {
					name = love_scorned
					who = ROOT
					years = 3
				}
			}

			character_event = { id = ZE.12116 }
		}

		ai_chance = { factor = 0 }
	}

	option = {
		name = EVTOPTG_ZE_12114

		trigger = { has_character_flag = child_idolizer_version_2_disagree }

		prestige = -30
		character_event = { id = ZE.12117 } # Clear all flags
	}

	# Version 3
	option = {
		name = EVTOPTH_ZE_12114

		trigger = { has_character_flag = child_idolizer_version_3 }

		add_trait = idolizer
		piety = 15
		character_event = { id = ZE.12117 } # Clear all flags
	}

	option = {
		name = EVTOPTI_ZE_12114

		trigger = { has_character_flag = child_idolizer_version_3 }

		change_martial = 1
		prestige = 20
		character_event = { id = ZE.12117 } # Clear all flags

		ai_chance = { factor = 0 }
	}
}

# Courtier informed
character_event = {
	id = ZE.12116

	# Version 1
	desc = {
		text = EVTDESCA_ZE_12116
		picture = GFX_evt_son_asking_father
		trigger = {
			FROM = { has_character_flag = child_idolizer_version_1_impressed }
		}
	}
	desc = {
		text = EVTDESCB_ZE_12116
		picture = GFX_evt_son_asking_father
		trigger = {
			FROM = { has_character_flag = child_idolizer_version_1_unimpressed }
		}
	}
	desc = {
		text = EVTDESCC_ZE_12116
		picture = GFX_evt_child_talking
		trigger = {
			FROM = { has_character_flag = child_idolizer_version_2_mutual }
		}
	}
	# Version 2
	desc = {
		text = EVTDESCD_ZE_12116
		picture = GFX_evt_child_talking
		trigger = {
			FROM = { has_character_flag = child_idolizer_version_2_unanswered }
		}
	}

	is_triggered_only = yes

	# Version 1
	option = {
		name = EVTOPTA_ZE_12116

		trigger = {
			FROM = { has_character_flag = child_idolizer_version_1_impressed }
		}

		FROM = {
			show_scope_change = no

			tooltip = {
				add_trait = idolizer

				opinion = {
					name = opinion_impressed
					who = ROOT
					years = 2
				}
			}

			character_event = { id = ZE.12117 } # Clear all flags
		}
	}

	option = {
		name = EVTOPTB_ZE_12116

		trigger = {
			FROM = { has_character_flag = child_idolizer_version_1_unimpressed }
		}

		prestige = -20

		FROM = {
			character_event = { id = ZE.12117 } # Clear all flags
		}
	}

	# Version 2
	option = {
		name = EVTOPTC_ZE_12116

		trigger = {
			FROM = { has_character_flag = child_idolizer_version_2_mutual }
		}

		prestige = -50

		FROM = {
			show_scope_change = no

			opinion = {
				name = opinion_childhood_sweetheart
				who = ROOT
				years = 2
			}

			prestige = 50
			character_event = { id = ZE.12117 } # Clear all flags
		}
	}

	option = {
		name = EVTOPTD_ZE_12116

		trigger = {
			FROM = { has_character_flag = child_idolizer_version_2_unanswered }
		}

		prestige = -30

		opinion = {
			name = love_scorned
			who = FROM
			years = 3
		}

		FROM = {
			character_event = { id = ZE.12117 } # Clear all flags
		}
	}
}

# Catch all flag clearing event
character_event = {
	id = ZE.12117

	is_triggered_only = yes
	hide_window = yes

	immediate = {
		clear_flags_with_prefix = child_idolizer_version_
	}
}

#############################################
# Clear childhood trait event chain flags #
#############################################

# Clear childhood trait event chain flags on adolescence
character_event = {
	id = ZE.12998

	is_triggered_only = yes # on_adolescence
	hide_window = yes

	immediate = {
		clr_character_flag = ze_child_haughty_events
		clr_character_flag = ze_child_affectionate_events
		clr_character_flag = ze_child_timid_events
		clr_character_flag = ze_child_rowdy_events
		clr_character_flag = ze_child_willful_events
		clr_character_flag = ze_child_brooding_events
		clr_character_flag = ze_child_indolent_events
		clr_character_flag = ze_child_playful_events
		clr_character_flag = ze_child_conscientious_events
		clr_character_flag = ze_child_fussy_events
		clr_character_flag = ze_child_curious_events
		clr_character_flag = ze_child_idolizer_events
	}
}

#############################################
# Special events for children who are		#
# prisoners (not if only in house arrest)	#
#############################################

# Trait outcomes: timid, brooding, indolent

# Randomly select event
character_event = {
	id = ZE.12200

	is_triggered_only = yes # on_childhood_pulse
	hide_window = yes

	prisoner = yes
	only_capable = yes
	has_dlc = "Conclave"

	trigger = {
		OR = {
			has_character_modifier = the_oubliette
			has_character_modifier = the_dungeon
		}
	}

	immediate = {
		random_list = {
			# Befriends rat
			10 = {
				trigger = {
					NOT = { has_character_modifier = pet_rat_dungeon }
				}

				character_event = {
					id = ZE.12210
					days = 10
					random = 30
				}
			}

			# Create imaginary world, going a little strange
			10 = {
				character_event = {
					id = ZE.12220
					days = 10
					random = 30
				}
			}

			# Befriends other prisoner
			10 = {
				character_event = {
					id = ZE.12230
					days = 10
					random = 30
				}

				trigger = {
					age >= 6

					any_host_courtier = {
						prisoner = yes
						is_incapable = no

						OR = {
							has_character_modifier = the_oubliette
							has_character_modifier = the_dungeon
						}

						NOR = {
							character = ROOT
							is_friend = ROOT
						}
					}
				}
			}

			40 = { } # Nothing happens
		}
	}
}


### Befriends rat
character_event = {
	id = ZE.12210
	desc = EVTDESC_ZE_12210
	picture = GFX_evt_into_the_dungeon

	is_triggered_only = yes

	prisoner = yes
	only_capable = yes

	trigger = {
		OR = {
			has_character_modifier = the_oubliette
			has_character_modifier = the_dungeon
		}
	}

	option = {
		name = EVTOPTA_ZE_12210 # Name it Flipper

		set_character_flag = rat_name_1

		add_character_modifier = {
			name = pet_rat_dungeon
			duration = -1
		}

		random = {
			chance = 50

			character_event = {
				id = ZE.12211
				days = 100
			}
		}
	}

	option = {
		name = EVTOPTB_ZE_12210 # Name it Cuddles

		set_character_flag = rat_name_2

		add_character_modifier = {
			name = pet_rat_dungeon
			duration = -1
		}

		random = {
			chance = 50

			character_event = {
				id = ZE.12211
				days = 100
			}
		}
	}

	option = {
		name = EVTOPTC_ZE_12210 # Name it Smelly

		set_character_flag = rat_name_3

		add_character_modifier = {
			name = pet_rat_dungeon
			duration = -1
		}

		random = {
			chance = 50

			character_event = {
				id = ZE.12211 # Rat gets sick
				days = 100
			}
		}
	}

	option = {
		name = EVTOPTD_ZE_12210 # Eat it

		if = {
			limit = {
				NOT = { trait = indolent }
			}

			add_trait = indolent
		}

		if = {
			limit = { is_ill = no }

			random = {
				chance = 20

				if = {
					limit = { has_dlc = "Reapers" }
					add_symptom_effect = yes
				}
				else = {
					add_trait = ill
				}
			}
		}
	}
}

# Rat is sick - help her?
character_event = {
	id = ZE.12211
	picture = GFX_evt_into_the_dungeon

	desc = {
		text = EVTDESCA_ZE_12211 # Flipper
		trigger = { has_character_flag = rat_name_1 }
	}
	desc = {
		text = EVTDESCB_ZE_12211 # Cuddles
		trigger = { has_character_flag = rat_name_2 }
	}
	desc = {
		text = EVTDESCC_ZE_12211 # Smelly
		trigger = { has_character_flag = rat_name_3 }
	}

	is_triggered_only = yes

	prisoner = yes
	has_dlc = "Conclave"
	only_capable = yes

	trigger = {
		has_character_modifier = pet_rat_dungeon

		OR = {
			has_character_modifier = the_oubliette
			has_character_modifier = the_dungeon
		}
	}

	immediate = {
		if = {
			limit = { NOT = { trait = indolent } }
			set_character_flag = ZE_12211_add_indolent
		}
		else_if = {
			limit = { NOT = { trait = brooding } }
			set_character_flag = ZE_12211_add_brooding
		}
	}

	option = {
		name = EVTOPTA_ZE_12211 # Give it some of my food

		if = {
			limit = {
				NOT = { trait = affectionate }
			}

			add_trait = affectionate
		}

		if = {
			limit = {
				NOT = { trait = infirm }
				trait = pneumonic
			}

			random = {
				chance = 30
				add_trait_infirm_effect = yes
			}
		}

		random = {
			chance = 30

			if = {
				limit = { is_ill = yes }

				if = {
					limit = { has_dlc = "Reapers" }

					add_trait = infection

					character_event = {
						id = RIP.11001
						years = 1
						random = 1095 # 3 years
					}
				}
				else_if = {
					limit = {
						NOT = { trait = pneumonic }
					}

					add_trait = pneumonic
				}
			}
			else = {
				if = {
					limit = { has_dlc = "Reapers" }
					add_symptom_effect = yes
				}
				else = {
					add_trait_ill_effect = yes
				}
			}
		}
	}

	option = {
		name = EVTOPTB_ZE_12211 # No I need my food

		if = {
			limit = { has_character_flag = ZE_12211_add_brooding }

			clr_character_flag = ZE_12211_add_brooding
			add_trait = brooding
		}
		else = {
			clr_character_flag = ZE_12211_add_indolent
			add_trait = indolent
		}

		random = {
			chance = 30

			trigger_switch = {
				on_trigger = has_character_flag

				rat_name_1 = {
					custom_tooltip = {
						text = rat_dies_tooltip_1
						remove_character_modifier = pet_rat_dungeon
					}
				}

				rat_name_2 = {
					custom_tooltip = {
						text = rat_dies_tooltip_2
						remove_character_modifier = pet_rat_dungeon
					}
				}

				rat_name_3 = {
					custom_tooltip = {
						text = rat_dies_tooltip_3
						remove_character_modifier = pet_rat_dungeon
					}
				}
			}
		}
	}
}

# Released from dungeon and must leave rat behind
character_event = {
	id = ZE.12219
	picture = GFX_evt_into_the_dungeon

	desc = {
		text = EVTDESCA_ZE_12219
		trigger = { has_character_flag = rat_name_1 }
	}
	desc = {
		text = EVTDESCB_ZE_12219
		trigger = { has_character_flag = rat_name_2 }
	}
	desc = {
		text = EVTDESCC_ZE_12219
		trigger = { has_character_flag = rat_name_3 }
	}

	is_triggered_only = yes # on_released_from_prison, many other events

	prisoner = yes
	has_dlc = "Conclave"
	only_capable = yes

	trigger = {
		has_character_modifier = pet_rat_dungeon
	}

	option = {
		name = {
			text = EVTOPTA_ZE_12219 # I will never forget you, rat!
			trigger = { has_character_flag = rat_name_1 }
		}
		name = {
			text = EVTOPTB_ZE_12219 # I will never forget you, rat!
			trigger = { has_character_flag = rat_name_2 }
		}
		name = {
			text = EVTOPTC_ZE_12219 # I will never forget you, rat!
			trigger = { has_character_flag = rat_name_3 }
		}

		remove_character_modifier = pet_rat_dungeon

		if = {
			limit = {
				NOT = { trait = brooding }
				age < 12
			}

			add_trait = brooding
		}
	}
}


### Create imaginary world, going a little strange
character_event = {
	id = ZE.12220
	desc = EVTDESC_ZE_12220
	picture = GFX_evt_into_the_dungeon

	is_triggered_only = yes

	prisoner = yes
	has_dlc = "Conclave"
	only_capable = yes

	trigger = {
		OR = {
			has_character_modifier = the_oubliette
			has_character_modifier = the_dungeon
		}
	}

	option = {
		name = EVTOPTA_ZE_12220 # Serve Dread King of Darkness

		character_event = {
			id = ZE.12221
			months = 1
			random = 50
			tooltip = 12220_submit_to_king
		}
	}

	option = {
		name = EVTOPTB_ZE_12220 # Fight Dread King of Darkness

		character_event = {
			id = ZE.12225
			months = 1
			random = 50
			tooltip = 12220_fight_king
		}
	}
}

# Serve - Dread King of Darkness gives you quest
character_event = {
	id = ZE.12221
	desc = EVTDESC_ZE_12221
	picture = GFX_evt_into_the_dungeon

	is_triggered_only = yes

	prisoner = yes
	has_dlc = "Conclave"
	only_capable = yes

	trigger = {
		OR = {
			has_character_modifier = the_oubliette
			has_character_modifier = the_dungeon
		}
	}

	option = {
		name = EVTOPTA_ZE_12221 # Use force

		custom_tooltip = {
			text = dread_king_martial_tooltip

			random_list = {
				50 = {
					mult_modifier = {
						factor = 3
						martial >= 4
					}

					mult_modifier = {
						factor = 0.3
						martial < 1
					}

					character_event = {
						id = ZE.12222
						days = 50
						random = 50
					}
				}

				50 = {
					character_event = {
						id = ZE.12223
						days = 50
						random = 50
					}
				}
			}
		}
	}

	option = {
		name = EVTOPTB_ZE_12221 # Use cunning

		custom_tooltip = {
			text = dread_king_intrigue_tooltip

			random_list = {
				50 = {
					mult_modifier = {
						factor = 3
						intrigue >= 4
					}

					mult_modifier = {
						factor = 0.3
						intrigue < 1
					}

					character_event = {
						id = ZE.12222
						days = 50
						random = 50
					}
				}

				50 = {
					character_event = {
						id = ZE.12223
						days = 50
						random = 50
					}
				}
			}
		}
	}
}

# Serve - Dread King of Darkness quest success
character_event = {
	id = ZE.12222
	desc = EVTDESC_ZE_12222
	picture = GFX_evt_into_the_dungeon

	is_triggered_only = yes

	prisoner = yes
	has_dlc = "Conclave"
	only_capable = yes

	trigger = {
		OR = {
			has_character_modifier = the_oubliette
			has_character_modifier = the_dungeon
		}
	}

	option = {
		name = EVTOPTA_ZE_12222

		if = {
			limit = {
				NOT = { trait = timid }
			}

			add_trait = timid
		}

		add_character_modifier = {
			name = found_dark_stones
			years = 2
		}
	}
}

# Serve - Dread King of Darkness quest failure, punishment
character_event = {
	id = ZE.12223
	desc = EVTDESC_ZE_12223
	picture = GFX_evt_into_the_dungeon

	is_triggered_only = yes

	prisoner = yes
	has_dlc = "Conclave"
	only_capable = yes

	trigger = {
		OR = {
			has_character_modifier = the_oubliette
			has_character_modifier = the_dungeon
		}
	}

	option = {
		name = EVTOPTA_ZE_12223

		if = {
			limit = {
				NOT = { trait = brooding }
			}
			add_trait = brooding
		}
	}
}

# Fighting the Dread King of Darkness
character_event = {
	id = ZE.12225
	desc = EVTDESC_ZE_12225
	picture = GFX_evt_into_the_dungeon

	is_triggered_only = yes

	prisoner = yes
	has_dlc = "Conclave"
	only_capable = yes

	trigger = {
		OR = {
			has_character_modifier = the_oubliette
			has_character_modifier = the_dungeon
		}
	}

	option = {
		name = EVTOPTA_ZE_12225 # Use force

		custom_tooltip = {
			text = dread_king_martial_tooltip

			random_list = {
				50 = {
					mult_modifier = {
						factor = 3
						martial >= 4
					}

					mult_modifier = {
						factor = 0.3
						martial < 1
					}

					character_event = {
						id = ZE.12226
						days = 50
						random = 50
					}
				}

				50 = {
					character_event = {
						id = ZE.12227
						days = 50
						random = 50
					}
				}
			}
		}
	}

	option = {
		name = EVTOPTB_ZE_12225 # Use cunning

		custom_tooltip = {
			text = dread_king_intrigue_tooltip

			random_list = {
				50 = {
					mult_modifier = {
						factor = 3
						intrigue >= 4
					}

					mult_modifier = {
						factor = 0.3
						intrigue > 1
					}

					character_event = {
						id = ZE.12226
						days = 50
						random = 50
					}
				}

				50 = {
					character_event = {
						id = ZE.12227
						days = 50
						random = 50
					}
				}
			}
		}
	}
}

# Victory against the Dread King of Darkness
character_event = {
	id = ZE.12226
	desc = EVTDESC_ZE_12226
	picture = GFX_evt_into_the_dungeon

	is_triggered_only = yes

	prisoner = yes
	has_dlc = "Conclave"
	only_capable = yes

	trigger = {
		OR = {
			has_character_modifier = the_oubliette
			has_character_modifier = the_dungeon
		}
	}

	option = {
		name = EVTOPTA_ZE_12226

		if = {
			limit = {
				NOT = { trait = willful }
			}

			add_trait = willful
		}

		add_character_modifier = {
			name = defeated_dread_king
			years = 2
		}
	}
}

# Fighting the Dread King of Darkness - defeat
character_event = {
	id = ZE.12227
	desc = EVTDESC_ZE_12227
	picture = GFX_evt_into_the_dungeon

	is_triggered_only = yes

	prisoner = yes
	has_dlc = "Conclave"
	only_capable = yes

	trigger = {
		OR = {
			has_character_modifier = the_oubliette
			has_character_modifier = the_dungeon
		}
	}

	option = {
		name = EVTOPTA_ZE_12227

		if = {
			limit = {
				NOT = { trait = indolent }
			}

			add_trait = indolent
		}
	}
}


### Befriends other prisoner
character_event = {
	id = ZE.12230
	desc = EVTDESC_ZE_12230
	picture = GFX_evt_into_the_dungeon

	is_triggered_only = yes

	prisoner = yes
	has_dlc = "Conclave"
	only_capable = yes

	trigger = {
		OR = {
			has_character_modifier = the_oubliette
			has_character_modifier = the_dungeon
		}

		any_host_courtier = {
			prisoner = yes
			is_incapable = no

			NOR = {
				character = ROOT
				is_friend = ROOT
			}
		}
	}

	immediate = {
		random_host_courtier = {
			limit = {
				prisoner = yes
				is_incapable = no

				NOR = {
					character = ROOT
					is_friend = ROOT
				}
			}

			save_event_target_as = event_ze_12230_prisoner
		}

		if = {
			limit = { NOT = { trait = timid } }
			set_character_flag = ZE_12230_add_timid
		}
		else_if = {
			limit = { NOT = { trait = indolent } }
			set_character_flag = ZE_12230_add_indolent
		}
		else_if = {
			limit = { NOT = { trait = brooding } }
			set_character_flag = ZE_12230_add_brooding
		}
	}

	option = {
		name = EVTOPTA_ZE_12230 # Talk to them

		event_target:event_ze_12230_prisoner = {
			character_event = { id = ZE.12232 }
		}
	}

	option = {
		name = EVTOPTB_ZE_12230 # Ignore them

		trigger_switch = {
			on_trigger = has_character_flag

			ZE_12230_add_timid = {
				clr_character_flag = ZE_12230_add_timid
				add_trait = timid
			}

			ZE_12230_add_indolent = {
				clr_character_flag = ZE_12230_add_indolent
				add_trait = indolent
			}

			ZE_12230_add_brooding = {
				clr_character_flag = ZE_12230_add_brooding
				add_trait = brooding
			}
		}
	}
}

# Other prisoner response
character_event = {
	id = ZE.12232
	picture = GFX_evt_into_the_dungeon

	desc = {
		text = EVTDESCA_ZE_12232 # Adult
		trigger = { age >= 13 }
	}
	desc = {
		text = EVTDESCB_ZE_12232 # Child
		trigger = { age < 13 }
	}

	is_triggered_only = yes

	option = {
		name = EVTOPTA_ZE_12232 # Answer

		add_friend = FROM

		FROM = {
			clr_character_flag = ZE_12236_add_brooding
			clr_character_flag = ZE_12236_add_timid
			clr_character_flag = ZE_12236_add_indolent
			character_event = { id = ZE.12234 }
		}
	}

	option = {
		name = EVTOPTB_ZE_12232 # Ignore

		if = {
			limit = {
				NOT = { trait = paranoid }
			}

			add_trait_fully_silently_paranoid_effect = yes
		}
		else = {
			add_trait_fully_silently_shy_effect = yes
		}

		FROM = {
			show_scope_change = no

			opinion = {
				name = opinion_disappointed
				who = ROOT
				years = 3
			}

			character_event = { id = ZE.12236 }
		}
	}
}

# Gets good response
character_event = {
	id = ZE.12234
	desc = EVTDESC_ZE_12234
	picture = GFX_evt_into_the_dungeon

	is_triggered_only = yes

	ai = no

	option = {
		name = EVTOPTA_ZE_12234 # Great

		tooltip = {
			add_friend = FROM
		}
	}
}

# Gets bad response
character_event = {
	id = ZE.12236
	desc = EVTDESC_ZE_12236
	picture = GFX_evt_into_the_dungeon

	is_triggered_only = yes

	immediate = {
		if = {
			limit = { NOT = { trait = brooding } }
			set_character_flag = ZE_12236_add_brooding
		}
		else_if = {
			limit = { NOT = { trait = timid } }
			set_character_flag = ZE_12236_add_timid
		}
		else_if = {
			limit = { NOT = { trait = indolent } }
			set_character_flag = ZE_12236_add_indolent
		}
	}

	option = {
		name = EVTOPTA_ZE_12236 # Sad

		tooltip = {
			opinion = {
				name = opinion_disappointed
				who = FROM
				years = 3
			}
		}

		trigger_switch = {
			on_trigger = has_character_flag

			ZE_12236_add_brooding = {
				clr_character_flag = ZE_12236_add_brooding
				add_trait = brooding
			}

			ZE_12236_add_timid = {
				clr_character_flag = ZE_12236_add_timid
				add_trait = timid
			}

			ZE_12236_add_indolent = {
				clr_character_flag = ZE_12236_add_indolent
				add_trait = indolent
			}
		}
	}
}

#############################################
#                                         	#
# Culture/religion shift events				#
# ID ZE.2100-ZE.2199                    	#
#                                         	#
#############################################

# Faith focus - Child adopts Educator's religion
character_event = {
	id = ZE.2100
	desc = EVTDESC_ZE_2100
	picture = GFX_evt_guardian
	border = GFX_event_normal_frame_diplomacy

	is_triggered_only = yes

	trigger = {
		FROM = {
			educator = {
				character = ROOT
				NOT = { religion = PREV }
			}
		}
	}

	option = {
		name = EVTOPTA_ZE_2100

		FROM = {
			show_scope_change = no

			tooltip = {
				religion = ROOT
			}

			character_event = { id = ZE.2101 }
		}
	}

	option = {
		name = EVTOPTB_ZE_2100

		ai_chance = { factor = 0 }
	}
}

character_event = {
	id = ZE.2101
	desc = EVTDESC_ZE_2101
	picture = GFX_evt_guardian
	border = GFX_event_normal_frame_diplomacy

	is_triggered_only = yes

	option = {
		name = EVTOPTA_ZE_2101

		religion = FROM

		liege = {
			if = {
				limit = {
					ai = no

					NOR = {
						character = FROM
						character = ROOT
					}
				}

				character_event = { id = ZE.2102 }
			}
		}
	}

	option = {
		name = EVTOPTB_ZE_2101

		prestige = -5

		ai_chance = { factor = 0 }
	}
}

character_event = {
	id = ZE.2102
	desc = EVTDESC_ZE_2102
	picture = GFX_evt_library
	border = GFX_event_normal_frame_diplomacy

	is_triggered_only = yes

	option = {
		name = INTERESTING

		tooltip = {
			FROM = {
				show_scope_change = no

				religion = ROOT_FROMFROM
			}
		}
	}
}

# Heritage focus - Child adopts Educator's religion
character_event = {
	id = ZE.2110
	desc = EVTDESC_ZE_2100
	picture = GFX_evt_guardian
	border = GFX_event_normal_frame_diplomacy

	is_triggered_only = yes

	trigger = {
		FROM = {
			educator = {
				character = ROOT
				NOT = { religion = PREV }
			}
		}
	}

	option = {
		name = EVTOPTA_ZE_2100

		FROM = {
			show_scope_change = no

			tooltip = {
				religion = ROOT
			}

			character_event = { id = ZE.2111 }
		}
	}

	option = {
		name = EVTOPTB_ZE_2100

		ai_chance = { factor = 0 }
	}
}

character_event = {
	id = ZE.2111
	desc = EVTDESC_ZE_2101
	picture = GFX_evt_guardian
	border = GFX_event_normal_frame_diplomacy

	is_triggered_only = yes

	option = {
		name = EVTOPTA_ZE_2101

		religion = FROM

		liege = {
			if = {
				limit = {
					ai = no

					NOR = {
						character = FROM
						character = ROOT
					}
				}

				character_event = { id = ZE.2112 }
			}
		}
	}

	option = {
		name = EVTOPTB_ZE_2101

		prestige = -5

		ai_chance = { factor = 0 }
	}
}

character_event = {
	id = ZE.2112
	desc = EVTDESC_ZE_2102
	picture = GFX_evt_library
	border = GFX_event_normal_frame_diplomacy

	is_triggered_only = yes

	option = {
		name = INTERESTING

		tooltip = {
			FROM = {
				religion = ROOT_FROMFROM
			}
		}
	}
}

# Heritage focus - Child adopts Educator's Culture
character_event = {
	id = ZE.2120
	desc = EVTDESC_ZE_2120
	picture = GFX_evt_guardian
	border = GFX_event_normal_frame_diplomacy

	is_triggered_only = yes

	trigger = {
		FROM = {
			educator = {
				character = ROOT
				NOT = { culture = PREV }
			}
		}
	}

	option = {
		name = EVTOPTA_ZE_2120

		# custom_tooltip = { text = EVTOPTA_ZE_2120_TT }

		FROM = {
			show_scope_change = no

			tooltip = {
				culture = ROOT
			}

			character_event = { id = ZE.2121 }
		}
	}

	option = {
		name = EVTOPTB_ZE_2120

		ai_chance = { factor = 0 }
	}
}

character_event = {
	id = ZE.2121
	desc = EVTDESC_ZE_2121
	picture = GFX_evt_guardian
	border = GFX_event_normal_frame_diplomacy

	is_triggered_only = yes

	trigger = {
		NOT = { culture = FROM }
	}

	option = {
		name = EVTOPTA_ZE_2121

		culture = FROM

		liege = {
			if = {
				limit = {
					ai = no

					NOR = {
						character = FROM
						character = ROOT
					}
				}
			}

			character_event = { id = ZE.2122 }
		}
	}

	option = {
		name = EVTOPTB_ZE_2121

		prestige = -5

		ai_chance = { factor = 0 }
	}
}

character_event = {
	id = ZE.2122
	desc = EVTDESC_ZE_2122
	picture = GFX_evt_noble_in_castle
	border = GFX_event_normal_frame_diplomacy

	is_triggered_only = yes

	option = {
		name = EVTOPTA_ZE_2122

		tooltip = {
			FROM = {
				culture = ROOT_FROMFROM
			}
		}
	}
}

# Fired from targeted decision to ask allowance to swap wards culture/religion
letter_event = {
	id = ZE.2130
	desc = EVTDESC_ZE_2130
	border = GFX_event_letter_frame_diplomacy
	portrait = event_target:target_guardian

	is_triggered_only = yes

	immediate = {
		save_event_target_as = target_liege
		FROM = { save_event_target_as = target_ward }
		FROMFROM = { save_event_target_as = target_guardian }
	}

	option = {
		name = EVTOPTA_ZE_2130

		event_target:target_ward = {
			show_scope_change = no

			set_focus = focus_ch_heritage
		}

		event_target:target_guardian = {
			letter_event = { id = ZE.2131 }
		}
	}

	option = {
		name = EVTOPTB_ZE_2130

		event_target:target_guardian = {
			show_scope_change = no

			if = {
				limit = {
					reverse_opinion = {
						who = ROOT
						value < 25
					}
				}

				opinion = {
					name = opinion_insulted
					who = ROOT
					years = 2
				}
			}

			letter_event = { id = ZE.2132 }
		}

		ai_chance = { factor = 0 }
	}
}

letter_event = {
	id = ZE.2131
	desc = EVTDESC_ZE_2131
	border = GFX_event_letter_frame_diplomacy

	is_triggered_only = yes

	ai = no

	option = {
		name = EVTOPTA_ZE_2131

		tooltip = {
			event_target:target_ward = {
				show_scope_change = no

				set_focus = focus_ch_heritage
			}
		}
	}
}

letter_event = {
	id = ZE.2132
	border = GFX_event_letter_frame_diplomacy

	desc = {
		text = EVTDESCA_ZE_2132
		trigger = {
			reverse_opinion = {
				who = event_target:target_liege
				value >= 25
			}
		}
	}
	desc = {
		text = EVTDESCB_ZE_2132
		trigger = {
			reverse_opinion = {
				who = event_target:target_liege
				value < 25
			}
		}
	}

	is_triggered_only = yes

	ai = no

	option = {
		name = EVTOPTA_ZE_2132

		trigger = {
			reverse_opinion = {
				who = event_target:target_liege
				value >= 25
			}
		}
	}

	option = {
		name = EVTOPTB_ZE_2132

		trigger = {
			reverse_opinion = {
				who = event_target:target_liege
				value < 25
			}
		}

		tooltip = {
			opinion = {
				name = opinion_insulted
				who = event_target:target_liege
				years = 2
			}
		}
	}
}

# Fired from targeted decision to ask allowance to change ward's focus to faith
letter_event = {
	id = ZE.2140
	desc = EVTDESC_ZE_2140
	border = GFX_event_letter_frame_diplomacy
	portrait = event_target:target_guardian

	is_triggered_only = yes

	immediate = {
		save_event_target_as = target_liege
		FROM = { save_event_target_as = target_ward }
		FROMFROM = { save_event_target_as = target_guardian }
	}

	option = {
		name = EVTOPTA_ZE_2130

		if = {
			limit = { FROMFROM = { holds_favor_on = ROOT } }
			reverse_remove_favor = FROMFROM
		}

		event_target:target_ward = {
			show_scope_change = no

			set_focus = focus_ch_faith
		}

		event_target:target_guardian = {
			letter_event = { id = ZE.2141 }
		}

		ai_chance = {
			factor = 50

			trigger = {
				opinion = {
					who = event_target:target_guardian
					value >= -50
				}
			}

			mult_modifier = {
				factor = 0.1

				event_target:target_ward = {
					culture = ROOT
					religion = ROOT
					any_heir_title = { holder = ROOT }
				}
			}

			mult_modifier = {
				factor = 0.5

				event_target:target_ward = {
					is_child_of = ROOT
					culture = ROOT
					religion = ROOT
					NOT = { any_heir_title = { holder = ROOT } }
				}
			}

			mult_modifier = {
				factor = 0.1

				event_target:target_guardian = {
					OR = {
						is_heresy_of = ROOT
						is_parent_religion = ROOT
					}
				}
			}

			mult_modifier = {
				factor = 0.5

				event_target:target_guardian = {
					NOT = { religion_group = ROOT }
				}
			}

			mult_modifier = {
				factor = 0.5

				event_target:target_guardian = {
					NOT = { culture_group = ROOT }
				}
			}

			mult_modifier = {
				factor = 1.25

				opinion = {
					who = event_target:target_guardian
					value >= 25
				}
			}

			mult_modifier = {
				factor = 1.25

				opinion = {
					who = event_target:target_guardian
					value >= 50
				}
			}

			mult_modifier = {
				factor = 1.5

				opinion = {
					who = event_target:target_guardian
					value >= 75
				}
			}

			mult_modifier = {
				factor = 1.5

				opinion = {
					who = event_target:target_guardian
					value >= 90
				}
			}
		}
	}

	option = {
		name = EVTOPTB_ZE_2130

		trigger = {
			NOT = { owes_favor_to = event_target:target_guardian }
		}

		event_target:target_guardian = {
			show_scope_change = no

			if = {
				limit = {
					reverse_opinion = {
						who = ROOT
						value < 25
					}
				}

				opinion = {
					name = opinion_insulted
					who = ROOT
					years = 2
				}
			}

			letter_event = { id = ZE.2142 }
		}

		ai_chance = {
			factor = 50

			mult_modifier = {
				factor = 1.5

				opinion = {
					who = event_target:target_guardian
					value < 0
				}
			}

			mult_modifier = {
				factor = 1.5

				opinion = {
					who = event_target:target_guardian
					value < -25
				}
			}

			mult_modifier = {
				factor = 0.5

				event_target:target_ward = {
					NOR = {
						is_child_of = ROOT
						dynasty = ROOT
					}
				}
			}

			mult_modifier = {
				factor = 10

				event_target:target_guardian = {
					culture = ROOT
					religion = ROOT
				}
			}
		}
	}
}

letter_event = {
	id = ZE.2141
	desc = EVTDESC_ZE_2141
	border = GFX_event_letter_frame_diplomacy

	is_triggered_only = yes

	ai = no

	option = {
		name = EVTOPTA_ZE_2131

		tooltip = {
			event_target:target_ward = {
				show_scope_change = no

				set_focus = focus_ch_faith
			}
		}
	}
}

letter_event = {
	id = ZE.2142
	border = GFX_event_letter_frame_diplomacy

	desc = {
		text = EVTDESCA_ZE_2132
		trigger = {
			reverse_opinion = {
				who = event_target:target_liege
				value >= 25
			}
		}
	}
	desc = {
		text = EVTDESCB_ZE_2142
		trigger = {
			reverse_opinion = {
				who = event_target:target_liege
				value < 25
			}
		}
	}

	is_triggered_only = yes

	option = {
		name = EVTOPTA_ZE_2132

		trigger = {
			reverse_opinion = {
				who = event_target:target_liege
				value >= 25
			}
		}
	}

	option = {
		name = EVTOPTB_ZE_2132

		trigger = {
			reverse_opinion = {
				who = event_target:target_liege
				value < 25
			}
		}

		tooltip = {
			opinion = {
				name = opinion_insulted
				who = event_target:target_liege
				years = 2
			}
		}
	}
}