namespace = Plus

#reserved: Plus.500 to Plus.599

#######################################
# CK2Plus Specific Realm Events
#######################################

### ENGLAND

# If William the Conqueror wins, change k_england to k_englandnorman
character_event = {
	id = Plus.500
	desc = "EVTDESC_Plus_500"
	picture = GFX_evt_throne_room

	is_triggered_only = yes

	option = {
		name = "EVTOPTA_Plus_500"
		k_england = {
			any_direct_de_jure_vassal_title = {
				de_jure_liege = k_englandnorman
			}
		}     
        hidden_tooltip = {
			k_englandnorman = {
				grant_title = PREV
				copy_title_laws = k_england
				copy_title_history = k_england
			}		  
			any_realm_character = {
				limit = {
					has_claim = k_england
				}
				k_englandnorman = { add_pressed_claim = PREV }
				remove_claim = k_england
			}		
			any_playable_ruler = {
			  any_realm_character = {
					limit = {
						has_claim = k_england
					}
					k_englandnorman = { add_pressed_claim = PREV }
					remove_claim = k_england
				}
			}
			k_england = {
				destroy_landed_title = yes
			}
		}
	}
}

# If Harald Hardrada wins, change k_england to k_englandnorwegian
character_event = {
	id = Plus.501
	desc = "EVTDESC_Plus_501"
	picture = GFX_evt_throne_room

	is_triggered_only = yes

	option = {
		name = "EVTOPTA_Plus_500"
		k_england = {
			any_direct_de_jure_vassal_title = {
				de_jure_liege = k_englandnorwegian
			}
		} 
        hidden_tooltip = {
			k_englandnorwegian = {
				grant_title = PREV
				copy_title_laws = k_england
				copy_title_history = k_england
			}		  
			any_realm_character = {
				limit = {
					has_claim = k_england
				}
				k_englandnorwegian = { add_pressed_claim = PREV }
				remove_claim = k_england
			}			
			any_playable_ruler = {
			  any_realm_character = {
					limit = {
						has_claim = k_england
					}
					k_englandnorwegian = { add_pressed_claim = PREV }
					remove_claim = k_england
				}
			}
			k_england = {
				destroy_landed_title = yes
			}
		}
	}
}

# English anarchy setup (for Norman victory)
character_event = {
	id = Plus.540
	
	hide_window = yes #hidden event
	
	only_rulers = yes
	only_men = yes
	min_age = 46

	trigger = {
		has_landed_title = k_englandnorman
		NOT = { has_global_flag = anarchy_setup }
	}
		
	mean_time_to_happen = {
		days = 1
	}
		
	immediate = {
		set_global_flag = anarchy_setup
		any_realm_character = {
			if = {
				limit = { father= { character = 202992 } }
				remove_claim = k_englandnorman
				any_sibling = {
					if = {
						limit = { NOT = { character = 202991 } }
						remove_claim = k_englandnorman
					}
				}
			}
		}
		any_realm_character = {
			if = {
				limit = { character = 202991 }
				add_claim = k_englandnorman
			}
			any_sibling = {
				if = {
					limit = { character = 205891 }
					add_weak_claim = k_englandnorman
				}
			}
		}
	}
}

# Danish invasion of England
character_event = {
	id = Plus.543
	desc = "EVTDESC_Plus_543"
	picture = "GFX_evt_crusaders"
	border = GFX_event_normal_frame_war
	
	only_rulers = yes
	min_age = 16
	capable_only = yes
	prisoner = no

	trigger = {
		has_landed_title = k_denmark
		k_england = { has_holder = yes }
		independent = yes
		war = no
		NOT = {
			has_landed_title = k_england
			religion_group = muslim
			religion_group = pagan_group
			has_character_flag = millenium_england_invasion_done
		}
		has_character_flag = millenium_england_invasion
	}

	mean_time_to_happen = {
		months = 12
	}

	immediate = {
		set_character_flag = millenium_england_invasion_done
		add_claim = k_england
		add_claim = d_bedford
		add_claim = d_norfolk
		add_claim = c_middlesex
		add_claim = c_essex
		add_claim = c_bedford
		add_claim = c_norfolk
		add_claim = c_suffolk
	}

	option = {
		name = "EVTOPTA_Plus_543" #To the longships!
		ai_chance = {
			factor = 1
		}
		wealth = 300
		prestige = 100
		create_random_soldier = {
			random_traits = yes
			dynasty = none
			religion = ROOT
			culture = ROOT
			female = no
			age = 30
		}
		create_random_soldier = {
			random_traits = yes
			dynasty = none
			religion = ROOT
			culture = ROOT
			female = no
			age = 25
		}
		create_random_soldier = {
			random_traits = yes
			dynasty = none
			religion = ROOT
			culture = ROOT
			female = no
			age = 33
		}
		create_random_soldier = {
			random_traits = yes
			dynasty = none
			religion = ROOT
			culture = ROOT
			female = no
			age = 29
		}
		spawn_fleet = {
			province = closest # closest sea zone
			owner = ROOT
			disband_on_peace = yes
			troops = {
				galleys = { 150 150 }
			}
		}
		k_england = {
			holder_scope = {
				reverse_war = {
					target = ROOT
					casus_belli = claim_all
					thirdparty_title = PREV
				}
				ROOT = {
					spawn_unit = {
						province = 266
						home = 266
						owner = THIS
						leader = THIS
						match_character = PREV
						match_mult = 0.2
						match_min = 300
						match_max = 5000
						attrition = 0.25
						disband_on_peace = yes
					}
					spawn_unit = {
						province = 266
						home = 266
						owner = THIS
						leader = THIS
						match_character = PREV
						match_mult = 0.2
						match_min = 300
						match_max = 5000
						attrition = 0.25
						disband_on_peace = yes
					}
					spawn_unit = {
						province = 266
						home = 266
						owner = THIS
						leader = THIS
						match_character = PREV
						match_mult = 0.2
						match_min = 300
						match_max = 5000
						attrition = 0.25
						disband_on_peace = yes
					}
					spawn_unit = {
						province = 266
						home = 266
						owner = THIS
						match_character = PREV
						match_mult = 0.2
						match_min = 300
						match_max = 5000
						attrition = 0.25
						disband_on_peace = yes
					}
				}
			}
		}
	}
	option = {
		name = "EVTOPTB_Plus_543" #I've changed my mind
		ai_chance = {
			factor = 0
		}
		remove_claim = k_england
		remove_claim = d_bedford
		remove_claim = d_norfolk
		remove_claim = c_middlesex
		remove_claim = c_essex
		remove_claim = c_bedford
		remove_claim = c_norfolk
		remove_claim = c_suffolk
		prestige = -500
		remove_trait = brave
		add_trait = craven
	}
}

# England informed of coming Danish invasion
character_event = {
	id = Plus.544 #formerly 90009021
	desc = "EVTDESC_Plus_544"
	picture = GFX_evt_crusaders
	border = GFX_event_normal_frame_war

	is_triggered_only = yes

	option = {
		name = CURSES
	}
}

### CAROLINGIAN EMPIRE

# Special event for Carolingian Empire to be renamed to HRE
character_event = {
	id = Plus.502
	title = EVTNAME_Plus_502
	desc = EVTDESC_Plus_502

	picture = GFX_evt_council
	border = GFX_event_normal_frame_diplomacy

	only_playable = yes

	trigger = {
		has_landed_title = e_hre
		NOT = { dynasty = 25061 } # Karling dynasty
		NOT = { has_global_flag = hre_renamed }
	}

	mean_time_to_happen = {
		days = 1
	}

	option = {
		name = EVTOPTA_Plus_502
		set_global_flag = hre_renamed
		e_hre = {
			set_name=""
			adjective=""
		}
	}
}

### NORMANDY

# Special event for Neustria to be renamed to Normandy
character_event = {
	id = Plus.503
	title = EVTNAME_Plus_503
	desc = EVTDESC_Plus_503

	picture = GFX_evt_council
	border = GFX_event_normal_frame_diplomacy

	only_playable = yes

	trigger = {
		has_landed_title = d_normandy
		OR = {
			culture = norse
			culture = norman
		}
		NOT = { has_global_flag = neustria_renamed }
	}

	mean_time_to_happen = {
		days = 1
	}

	option = {
		name = EVTOPTA_Plus_502
		set_global_flag = neustria_renamed
		d_normandy = {
			set_name=""
			adjective=""
		}
	}
}

### ITALY / SICILY

# Christians lament the fall of Sicily and pleads for assistance in the peninsula
narrative_event = {
	id = Plus.504 #formerly 1000182648
	title = EVTNAME_Plus_504
	desc = EVTDESC_Plus_504
	picture = GFX_evt_heretic
	border = GFX_event_narrative_frame_religion
	
	is_triggered_only = yes
	
	option = {
		trigger = {
			religion_group = christian
		}
		name = EVTOPTA_Plus_504
	}
	option = {
		trigger = {
			NOT = { religion_group = christian }
		}
		name = EVTOPTA_Plus_504
	}	
}

# The pope has found his champions
character_event = {
	id = Plus.505 #formerly 1000182649
	
	hide_window = yes
	
	is_triggered_only = yes
	
	immediate = {
		if = {
			limit = {
				NOT = { has_global_flag = neustria_renamed }
			}
			random_list = {
				50 = {
					create_character = {	
						random_traits = no
						religion = ROOT
						culture = italian
						dynasty = culture
						female = no
						age = 24
						trait = brilliant_strategist
						trait = holy_warrior
						trait = strong
						trait = zealous
						trait = gregarious
						attributes = {
							martial = 8
							diplomacy = 5
							stewardship = 5
							learning = 5
							intrigue = 5
						}
					}
				}
				40 = {
					create_character = {	
						random_traits = no
						religion = ROOT
						culture = norse
						dynasty = culture
						female = no
						age = 24
						trait = brilliant_strategist
						trait = holy_warrior
						trait = strong
						trait = zealous
						trait = gregarious
						attributes = {
							martial = 8
							diplomacy = 5
							stewardship = 5
							learning = 5
							intrigue = 5
						}
					}
				}
				3 = {
					create_character = {	
						random_traits = no
						religion = ROOT
						culture = croatian
						dynasty = culture
						female = no
						age = 24
						trait = brilliant_strategist
						trait = holy_warrior
						trait = strong
						trait = zealous
						trait = gregarious
						attributes = {
							martial = 8
							diplomacy = 5
							stewardship = 5
							learning = 5
							intrigue = 5
						}
					}
				}
				2 = {
					create_character = {	
						random_traits = no
						religion = ROOT
						culture = serbian
						dynasty = culture
						female = no
						age = 24
						trait = brilliant_strategist
						trait = holy_warrior
						trait = strong
						trait = zealous
						trait = gregarious
						attributes = {
							martial = 8
							diplomacy = 5
							stewardship = 5
							learning = 5
							intrigue = 5
						}
					}
				}
				5 = {
					create_character = {	
						random_traits = no
						religion = ROOT
						culture = greek
						dynasty = culture
						female = no
						age = 24
						trait = brilliant_strategist
						trait = holy_warrior
						trait = strong
						trait = zealous
						trait = gregarious
						attributes = {
							martial = 8
							diplomacy = 5
							stewardship = 5
							learning = 5
							intrigue = 5
						}
					}
				}
			}
		}
		if = {
			limit = {
				has_global_flag = neustria_renamed
			}
			random_list = {
				50 = {
					create_character = {	
						random_traits = no
						religion = ROOT
						culture = italian
						dynasty = culture
						female = no
						age = 24
						trait = brilliant_strategist
						trait = holy_warrior
						trait = strong
						trait = zealous
						trait = gregarious
						attributes = {
							martial = 8
							diplomacy = 5
							stewardship = 5
							learning = 5
							intrigue = 5
						}
					}
				}
				40 = {
					create_character = {	
						random_traits = no
						religion = ROOT
						culture = norman
						dynasty = culture
						female = no
						age = 24
						trait = brilliant_strategist
						trait = holy_warrior
						trait = strong
						trait = zealous
						trait = gregarious
						attributes = {
							martial = 8
							diplomacy = 5
							stewardship = 5
							learning = 5
							intrigue = 5
						}
					}
				}
				3 = {
					create_character = {	
						random_traits = no
						religion = ROOT
						culture = croatian
						dynasty = culture
						female = no
						age = 24
						trait = brilliant_strategist
						trait = holy_warrior
						trait = strong
						trait = zealous
						trait = gregarious
						attributes = {
							martial = 8
							diplomacy = 5
							stewardship = 5
							learning = 5
							intrigue = 5
						}
					}
				}
				2 = {
					create_character = {	
						random_traits = no
						religion = ROOT
						culture = serbian
						dynasty = culture
						female = no
						age = 24
						trait = brilliant_strategist
						trait = holy_warrior
						trait = strong
						trait = zealous
						trait = gregarious
						attributes = {
							martial = 8
							diplomacy = 5
							stewardship = 5
							learning = 5
							intrigue = 5
						}
					}
				}
				5 = {
					create_character = {	
						random_traits = no
						religion = ROOT
						culture = greek
						dynasty = culture
						female = no
						age = 24
						trait = brilliant_strategist
						trait = holy_warrior
						trait = strong
						trait = zealous
						trait = gregarious
						attributes = {
							martial = 8
							diplomacy = 5
							stewardship = 5
							learning = 5
							intrigue = 5
						}
					}
				}
			}			
		}
		new_character = {
			opinion = {
				who = FROM
				modifier = papal_champion
				months = 360
			}
			religion_head = {
				opinion = {
					who = PREV
					modifier = my_champion
					months = 360
				}			
			}
			if = {
				limit = {
					d_benevento = {
						OR = {
							owner = {
								NOT = { religion_group = christian }
							}
							has_holder = no
						}
					}
				}
				add_pressed_claim = "d_benevento"				
			}
			if = {
				limit = {
					d_apulia = {
						OR = {
							owner = {
								NOT = { religion_group = christian }
							}
							has_holder = no
						}
					}
				}
				add_pressed_claim = "d_apulia"				
			}
			if = {
				limit = {
					d_capua = {
						OR = {
							owner = {
								NOT = { religion_group = christian }
							}
							has_holder = no
						}
					}
				}
				add_pressed_claim = "d_capua"				
			}
			b_tivoli = {
				gain_title = PREV # Temporarily give them a castle so they won't go republic or theocracy if they win against one of those
			}
			set_character_flag = duchy_adventurer
			add_character_modifier = {
				name = italian_reconquest
				hidden = yes
				duration = -1
				inherit = yes
			}
			set_defacto_liege = THIS
			create_title = {
				tier = DUKE
				landless = yes
				temporary = yes
				culture = THIS
				name = "CLAIMANT_ADVENTURE"
				holder = THIS
			}
			spawn_unit = {
				province = 333
				home = 333
				owner = THIS
				leader = THIS
				match_character = ROOT
				match_mult = 0.2
				match_min = 4000
				match_max = 5000
				attrition = 0.25
				earmark = claimant_adventure
			}
			character_event = { id = Plus.506 } 
		}
	}
}

# The champions head out
character_event = {
	id = Plus.506 #formerly 1000182650
	
	hide_window = yes
	
	is_triggered_only = yes
	
	immediate = {
		ROOT = {
			# Create some decent commander characters
			create_random_soldier = {
				random_traits = yes
				dynasty = culture
				religion = ROOT
				culture = THIS
				female = no
				age = 30
			}
			create_random_soldier = {
				random_traits = yes
				dynasty = culture
				religion = ROOT
				culture = THIS
				female = no
				age = 25
			}
			create_random_soldier = {
				random_traits = yes
				dynasty = culture	
				religion = ROOT
				culture = THIS
				female = no
				age = 33
			}
			create_random_soldier = {
				random_traits = yes
				dynasty = culture
				religion = ROOT
				culture = THIS
				female = no
				age = 29
			}			
			random_claim = {
				holder_scope = {
					reverse_war = {
						target = ROOT
						casus_belli = italian_reconquest
						thirdparty_title = PREV
					}
					if = {
						limit = {
							ai = no # Give the Invaders a boost if targetting players, as players are better at handling the invasion
						}
						ROOT = {
							spawn_unit = {
								province = 333
								home = 333
								owner = THIS
								leader = THIS
								match_character = ROOT
								match_mult = 0.2
								match_min = 2000
								match_max = 3000
								attrition = 0.25
								earmark = claimant_adventure
							}						
						}
					}
				}
			}
		}
		any_playable_ruler = {
			if = {
				limit = { religion_group = christian }
				if = {
					limit = { ROOT = { culture = italian } }
					narrative_event = { id = Plus.509 } 
				}
				if = {
					limit = { ROOT = { culture = norse } }
					narrative_event = { id = Plus.511 } 
				}	
				if = {
					limit = { ROOT = { culture = norman } }
					narrative_event = { id = Plus.512 } 
				}
				if = {
					limit = { ROOT = { culture = croatian } }
					narrative_event = { id = Plus.513 } 
				}
				if = {
					limit = { ROOT = { culture = serbian } }
					narrative_event = { id = Plus.514 } 
				}	
				if = {
					limit = { ROOT = { culture = greek } }
					narrative_event = { id = Plus.515 } 
				}
			}
		}
	}
}

# The pope helps on the offensive!
character_event = { 
	id = Plus.507 #formerly 1000182687
	
	is_triggered_only = yes
	hide_window = yes
 
	immediate = {
		religion_head = {
			join_attacker_wars = FROM
		}
	}
}

# The pope helps on the defensive!
character_event = { 
	id = Plus.508 #formerly 1000182688
	
	hide_window = yes
	
	only_rulers = yes
	min_age = 16
	only_men = yes
	
	trigger = {
		has_global_flag = italian_reconquest_started
		NOT = { 
			has_global_flag = italian_rec_success
			has_global_flag = italian_rec_failure
		}
		war = yes
		is_playable = yes		
		is_feudal = yes	
		has_character_modifier = italian_reconquest

	}
	
	mean_time_to_happen = {
		days = 1
	}
 
	immediate = {
		religion_head = {
			join_defender_wars = ROOT
		}
	}
}

# The Champions head out, Italian (Narrative event)
narrative_event = { 
	id = Plus.509 #formerly 1000182689
	title = EVTNAME_Plus_509
	desc = EVTDESC_Plus_509
	picture = GFX_evt_pope
	border = GFX_event_narrative_frame_diplomacy	
	
	is_triggered_only = yes
	
	option = {
		name = EVTOPTA_Plus_509
	}
}

# The King of Sicily is Crowned
narrative_event = { 
	id = Plus.510 #formerly 1000182690
	title = EVTNAME_Plus_510
	desc = EVTDESC_Plus_510
	picture = GFX_evt_pope
	border = GFX_event_narrative_frame_diplomacy	
	
	is_triggered_only = yes
	
	option = {
		name = EVTOPTA_Plus_509
	}
}

# The Champions head out, Norse (Narrative event)
narrative_event = { 
	id = Plus.511 #formerly 1000182691
	title = EVTNAME_Plus_509
	desc = EVTDESC_Plus_511
	picture = GFX_evt_pope
	border = GFX_event_narrative_frame_diplomacy	
	
	is_triggered_only = yes
	
	option = {
		name = EVTOPTA_Plus_509
	}
}

# The Champions head out, Norman (Narrative event)
narrative_event = { 
	id = Plus.512 #formerly 1000182692
	title = EVTNAME_Plus_509
	desc = EVTDESC_Plus_512
	picture = GFX_evt_pope
	border = GFX_event_narrative_frame_diplomacy	
	
	is_triggered_only = yes
	
	option = {
		name = EVTOPTA_Plus_509
	}
}

# The Champions head out, Croatian (Narrative event)
narrative_event = { 
	id = Plus.513 #formerly 1000182693
	title = EVTNAME_Plus_509
	desc = EVTDESC_Plus_513
	picture = GFX_evt_pope
	border = GFX_event_narrative_frame_diplomacy
	
	is_triggered_only = yes
	
	option = {
		name = EVTOPTA_Plus_509
	}
}

# The Champions head out, Serbian (Narrative event)
narrative_event = { 
	id = Plus.514 #formerly 1000182694
	title = EVTNAME_Plus_509
	desc = EVTDESC_Plus_514
	picture = GFX_evt_pope
	border = GFX_event_narrative_frame_diplomacy	
	
	is_triggered_only = yes
	
	option = {
		name = EVTOPTA_Plus_509
	}
}

# The Champions head out, Greek (Narrative event)
narrative_event = { 
	id = Plus.515 #formerly 1000182695
	title = EVTNAME_Plus_509
	desc = EVTDESC_Plus_515
	picture = GFX_evt_pope
	border = GFX_event_narrative_frame_diplomacy
	
	is_triggered_only = yes
	
	option = {
		name = EVTOPTA_Plus_509
	}
}

# The King of Sicily is Crowned (Recipient)
narrative_event = { 
	id = Plus.516 #formerly 1000182696
	title = EVTNAME_Plus_516
	desc = EVTDESC_Plus_516
	picture = GFX_evt_pope
	border = GFX_event_narrative_frame_diplomacy
	sound = church_bells	
	
	is_triggered_only = yes
	
	option = {
		name = EVTOPTA_Plus_516
		hidden_tooltip = {
			disband_event_forces = yes
		}
	}
}

# The Invasion Fails
narrative_event = { 
	id = Plus.517 #formerly 1000182697
	title = EVTNAME_Plus_517
	desc = EVTDESC_Plus_517
	picture = GFX_evt_rome_falls
	border = GFX_event_narrative_frame_diplomacy
	
	is_triggered_only = yes
	hide_from = yes
	
	option = {
		trigger = {
			religion_group = christian
		}
		name = EVTOPTA_Plus_517
	}
	option = {
		trigger = {
			NOT = { religion_group = christian }
		}
		name = EVTOPTB_Plus_517
	}
}

# Maintenance Check for Failed Invasion (landless or vassal invaders)
character_event = { 
	id = Plus.518 #formerly 1000182698
	
	hide_window = yes
	
	min_age = 16
	only_men = yes
	
	trigger = {
		has_global_flag = italian_reconquest_started
		has_global_flag = first_war_success
		NOT = { 
			has_global_flag = italian_rec_success
			has_global_flag = italian_rec_failure
		}
		war = no	
		OR = {
			independent = no
			is_ruler = no
		}		
		has_character_modifier = italian_reconquest
	}
	
	mean_time_to_happen = {
		days = 1	
	}
	
	immediate = {
		remove_character_modifier = italian_reconquest
		religion_head = {
			remove_opinion = {
				who = ROOT
				modifier = my_champion
			}
		}
		set_global_flag = italian_rec_failure
		any_playable_ruler = { narrative_event = { id = Plus.517 } }
	}
}

# Maintenance Check, Start the invasion
character_event = { 
	id = Plus.519 #formerly 1000182699
	
	hide_window = yes
	
	min_age = 16
	only_rulers = yes
	only_men = yes
	
	trigger = {
		has_global_flag = italian_reconquest_planning
		NOT = { has_global_flag = italian_reconquest_started }
		has_landed_title = k_papal_state
		has_character_modifier = italian_reconquest_pope
		NOT = {
			c_benevento = {
				holder_scope = {
					top_liege = {
						has_character_modifier = holy_truce_timer
					}
				}
			}
			c_foggia = {
				holder_scope = {
					top_liege = {
						has_character_modifier = holy_truce_timer
					}
				}
			}
			c_capua = {
				holder_scope = {
					top_liege = {
						has_character_modifier = holy_truce_timer
					}
				}
			}
			c_napoli = {
				holder_scope = {
					top_liege = {
						has_character_modifier = holy_truce_timer
					}
				}
			}
			c_apulia = {
				holder_scope = {
					top_liege = {
						has_character_modifier = holy_truce_timer
					}
				}
			}
			c_bari = {
				holder_scope = {
					top_liege = {
						has_character_modifier = holy_truce_timer
					}
				}
			}
			c_lecce = {
				holder_scope = {
					top_liege = {
						has_character_modifier = holy_truce_timer
					}
				}
			}
			c_salerno = {
				holder_scope = {
					top_liege = {
						has_character_modifier = holy_truce_timer
					}
				}
			}
			c_taranto = {
				holder_scope = {
					top_liege = {
						has_character_modifier = holy_truce_timer
					}
				}
			}
			c_amalfi = {
				holder_scope = {
					top_liege = {
						has_character_modifier = holy_truce_timer
					}
				}
			}
			c_consenza = {
				holder_scope = {
					top_liege = {
						has_character_modifier = holy_truce_timer
					}
				}
			}
			c_reggio = {
				holder_scope = {
					top_liege = {
						has_character_modifier = holy_truce_timer
					}
				}
			}
			c_palermo = {
				holder_scope = {
					top_liege = {
						has_character_modifier = holy_truce_timer
					}
				}
			}
			c_messina = {
				holder_scope = {
					top_liege = {
						has_character_modifier = holy_truce_timer
					}
				}
			}
			c_siracusa = {
				holder_scope = {
					top_liege = {
						has_character_modifier = holy_truce_timer
					}
				}
			}
			c_agrigento = {
				holder_scope = {
					top_liege = {
						has_character_modifier = holy_truce_timer
					}
				}
			}
			c_trapani = {
				holder_scope = {
					top_liege = {
						has_character_modifier = holy_truce_timer
					}
				}
			}
			c_malta = {
				holder_scope = {
					top_liege = {
						has_character_modifier = holy_truce_timer
					}
				}
			}			
		}
	}
	
	mean_time_to_happen = {
		months = 24
	}
	
	immediate = {
		remove_character_modifier = italian_reconquest_pope
		set_global_flag = italian_reconquest_started
		character_event = { id = Plus.505 }
	}
}

### ALBANIA

# Albanian culture arises
province_event = {
	id = Plus.520 #formerly 1000183181
	title = "EVTNAME_Plus_520"
	desc = "EVTDESC_Plus_520"
	picture = GFX_evt_council
	
	hide_window = yes
	
	trigger = {
		470 = {
			NOT = { culture = arberian }
		}
		province_id = 470
		year = 1000
	}
	
	mean_time_to_happen = {
		months = 550
	}
	
	immediate = {
		culture = arberian
		c_dyrrachion = {
			holder_scope = { character_event = { id = Plus.521 } }
		}
	}
	
	option = {
		name = "EVTOPTA55000"
	}
}

# Owner informed of Albanian culture
character_event = {
	id = Plus.521 #formerly 1000183182
	title = EVTNAME_Plus_521
	desc = EVTDESC_Plus_521
	picture = GFX_evt_stone_church
	border = GFX_event_normal_frame_diplomacy
	
	is_triggered_only = yes
	
	option = {
		name = "EVTOPTA_Plus_521"
		prestige = 50
	}
	
	option = {
		name = "EVTOPTB_Plus_521"
		culture = arberian
		prestige = -200
	}
}

# Special event to create Albania -- triggered by decision: create_kingdomofalbania
narrative_event = {
	id = Plus.522 #formerly 1000183183
	title = "EVTNAME_Plus_522"
	desc = "EVTDESC_Plus_522"	
	picture = GFX_evt_albania
	border = GFX_event_narrative_frame_diplomacy
	
	is_triggered_only = yes
	
	option = {
		name = "EVTOPTA_Plus_522"
		k_albania = { grant_title = ROOT }
		d_albania = { de_jure_liege = k_albania }
		c_dyrrachion = { de_jure_liege = d_albania }
		d_dyrrachion = { holder_scope = { add_claim = c_dyrrachion } }
		hidden_tooltip = {
			any_playable_ruler = {
				limit = {
					NOT = { has_landed_title = k_albania }
					ai = no
				}
				narrative_event = { id = Plus.523 }
			}
		}
	}
}

# Informed about the Creation of Albania
narrative_event = {
	id = Plus.523
	title = "EVTNAME_Plus_523"
	desc = "EVTDESC_Plus_523"	
	picture = GFX_evt_albania
	border = GFX_event_narrative_frame_diplomacy
	
	is_triggered_only = yes
	
	option = {
		name = "EVTOPTA_Plus_523"
	}
}

### BOHEMIA

# Duke of Bohemia responds to Boleslaw conquering Moravia
character_event = {
	id = Plus.524 #formerly 90009009
	desc = "EVTDESC_Plus_524"
	picture = GFX_evt_throne_room

	is_triggered_only = yes

	option = {
		name = "EVTOPTA_Plus_524"
		set_defacto_liege = e_hre
		prestige = -100
		k_bohemia = {
			de_jure_liege = e_hre
		}
		ai_chance = {
			factor = 70
		}
	}

	option = {
		name = "EVTOPTB_Plus_524"
		prestige = 10
		ai_chance = {
			factor = 30
		}
	}
}

### HRE -- Coronation events witten by Van Diemen

# Coronation inform Emperor -- triggered by decision: coronation
character_event = {
	id = Plus.525 #formerly 1000182427
	desc = "EVTDESC_Plus_525"
	picture = "GFX_evt_pope"

	is_triggered_only = yes

	option = {
		name = "EVTOPTA_Plus_525" # I will ask the pope
		hidden_tooltip = {
			rightful_religious_head_scope = {
				letter_event = { id = Plus.526 }
			}
		}
	}
}

# Asking the pope for coronation
letter_event = {
	id = Plus.526 #formerly 1000182428
	desc = "EVTDESC_Plus_526"

	is_triggered_only = yes

	option = {
		name = "EVTOPTA_Plus_526"	# Accept
		ai_chance = {
			factor = 50
			modifier = {
				factor = 1.2
				ROOT = {
					opinion = {
						who = FROM
						value = 20
					}
				}
			}
			modifier = {
				factor = 1.2
				ROOT = {
					opinion = {
						who = FROM
						value = 40
					}
				}
			}
			modifier = {
				factor = 1.2
				ROOT = {
					opinion = {
						who = FROM
						value = 60
					}
				}
			}
			modifier = {
				factor = 1.2
				ROOT = {
					opinion = {
						who = FROM
						value = 80
					}
				}
			}
			modifier = {
				factor = 1.2
				ROOT = {
					opinion = {
						who = FROM
						value = 100
					}
				}
			}
			modifier = {
				factor = 2.0
				FROM = { trait = zealous }
			}
			modifier = {
				factor = 2.0
				FROM = { trait = crusader }
			}
			modifier = {
				factor = 1.2
				FROM = { piety = 400 }
			}
			modifier = {
				factor = 1.2
				FROM = { piety = 600 }
			}
			modifier = {
				factor = 1.2
				FROM = { piety = 800 }
			}
			modifier = {
				factor = 1.2
				FROM = { piety = 1000 }
			}
		}
		wealth = 100
		FROM = {
			letter_event = { id = Plus.527 }
		}
	}
	option = {
		name = "EVTOPTB_Plus_526"	# Reject
		ai_chance = {
			factor = 50
			modifier = {
				factor = 1.2
				ROOT = {
					NOT = {
						opinion = {
							who = FROM
							value = -100
						}
					}
				}
			}
			modifier = {
				factor = 1.2
				ROOT = {
					NOT = {
						opinion = {
							who = FROM
							value = -80
						}
					}
				}
			}
			modifier = {
				factor = 1.2
				ROOT = {
					NOT = {
						opinion = {
							who = FROM
							value = -60
						}
					}
				}
			}
			modifier = {
				factor = 1.2
				ROOT = {
					NOT = {
						opinion = {
							who = FROM
							value = -40
						}
					}
				}
			}
			modifier = {
				factor = 1.2
				ROOT = {
					NOT = {
						opinion = {
							who = FROM
							value = -20
						}
					}
				}
			}
			modifier = {
				factor = 1.2
				ROOT = {
					NOT = {
						opinion = {
							who = FROM
							value = 0
						}
					}
				}
			}
			modifier = {
				factor = 2.0
				FROM = { trait = lunatic }
			}
			modifier = {
				factor = 2.0
				FROM = { trait = kinslayer }
			}
			modifier = {
				factor = 2.0
				FROM = { trait = cynical }
			}
		}
		FROM = {
			letter_event = { id = Plus.528 }
		}
		ROOT = {
			opinion = {
				modifier = coronation_rejected
				who = FROM
				years = 10
			}
		}
	}
}
 
# Inform emperor that the pope agrees to the coronation & send out the invites to realm lords
letter_event = {
	id = Plus.527 #formerly 1000182429
	desc = "EVTDESC_Plus_527"

	is_triggered_only = yes

	option = {
		name = "EVTOPTA_Plus_527"	# Excellent, now invite all the lords
		hidden_tooltip = {
			any_vassal = {
				limit = {
					is_adult = yes
					OR = {
						tier = COUNT
						tier = DUKE
						tier = KING
					}
					NOT = {
						trait = excommunicated
						trait = incapable
						is_heretic = yes
					}
					religion_group = christian
					prisoner = no
				}
				letter_event = { id = Plus.529 } # Invitation to coronation
			}
			character_event = { id = Plus.531 days = 60 } # Coronation begins
		}
	}
}

# Inform emperor that the pope rejects coronation
letter_event = {
	id = Plus.528 #formerly 1000182430
	desc = "EVTDESC_Plus_528"

	is_triggered_only = yes

	option = {
		name = "EVTOPTA_Plus_528"	# Maybe we should try again later
		clr_character_flag = wants_coronation
		prestige = -50
		ROOT = {
			opinion = {
				modifier = coronation_rejected 
				who = FROM
				years = 2
			}
		}
	}
}

# Coronation invites to realm lords
letter_event = {
	id = Plus.529 #formerly 1000182431
	desc = "EVTDESC_Plus_529"

	is_triggered_only = yes

	option = {
		name = "EVTOPTA_Plus_529"	# I will attend the ceremony
		ai_chance = {
			factor = 80
			modifier = {
				factor = 1.2
				ROOT = {
					opinion = {
						who = FROM
						value = 20
					}
				}
			}
			modifier = {
				factor = 1.2
				ROOT = {
					opinion = {
						who = FROM
						value = 40
					}
				}
			}
			modifier = {
				factor = 1.6
				ROOT = {
					opinion = {
						who = FROM
						value = 60
					}
				}
			}
			modifier = {
				factor = 2.0
				ROOT = {
					opinion = {
						who = FROM
						value = 80
					}
				}
			}
			modifier = {
				factor = 2.0
				ROOT = {
					opinion = {
						who = FROM
						value = 100
					}
				}
			}
		}
		set_character_flag = attend_coronation
	}
	option = {
		name = "EVTOPTB_Plus_529"	# I have more important things to do
		ai_chance = {
			factor = 20
			modifier = {
				factor = 4.0
				ROOT = {
					has_opinion_modifier = {
						who = FROM
						modifier = attempted_murder
					}
				}
			}
			modifier = {
				factor = 2.0
				ROOT = {
					has_opinion_modifier = {
						who = FROM
						modifier = attempted_murder_of_spouse
					}
				}
			}
			modifier = {
				factor = 4.0
				ROOT = {
					has_opinion_modifier = {
						who = FROM
						modifier = attempted_murder_of_child
					}
				}
			}
			modifier = {
				factor = 1.5
				ROOT = {
					has_opinion_modifier = {
						who = FROM
						modifier = attempted_murder_of_vassal
					}
				}
			}
			modifier = {
				factor = 1.2
				ROOT = {
					NOT = {
						opinion = {
							who = FROM
							value = -20
						}
					}
				}
			}
			modifier = {
				factor = 1.2
				ROOT = {
					NOT = {
						opinion = {
							who = FROM
							value = -40
						}
					}
				}
			}
			modifier = {
				factor = 1.2
				ROOT = {
					NOT = {
						opinion = {
							who = FROM
							value = -60
						}
					}
				}
			}
			modifier = {
				factor = 1.2
				ROOT = {
					NOT = {
						opinion = {
							who = FROM
							value = -80
						}
					}
				}
			}
			modifier = {
				factor = 1.2
				ROOT = {
					NOT = {
						opinion = {
							who = FROM
							value = -99
						}
					}
				}
			}
		}
		FROM = {
			letter_event = { id = Plus.530 }
		}
	}
}

# Inform Emperor of NOT attending ceremony
letter_event = {
	id = Plus.530 #formerly 1000182432
	desc = "EVTDESC_Plus_530"

	is_triggered_only = yes

	option = {
		name = "EVTOPTA_Plus_530"	# I have no words for such dishonour
		ROOT = {
			opinion = {
				modifier = insulted
				who = FROM
				months = 60
			}
		}
	}
}

# Emperor crowned by pope
character_event = {
	id = Plus.531 #formerly 1000182433
	title = "EVTNAME_Plus_531"
	desc = "EVTDESC_Plus_531"
	picture = "GFX_evt_holy_emperor"
	sound = church_bells

	is_triggered_only = yes

	option = {
		name = "EVTOPTA_Plus_531"	# This is the happiest day of my life
		add_trait = crowned_by_pope
		prestige = 500
		custom_tooltip = {
			text = COURTFACTIONMOODPLUS
			hidden_tooltip = { change_variable = { which = "faction_mood_court" value = 4 } }
		}
		custom_tooltip = {
			text = RELIGIOUSFACTIONMOODPLUS
			hidden_tooltip = { change_variable = { which = "faction_mood_religious" value = 2 } }
		}
		hidden_tooltip = { random_courtier = { limit = { ai = yes } character_event = { id = PlusFaction.306 days = 1 } } }
		hidden_tooltip = {
			rightful_religious_head_scope = {
				reverse_opinion = {
					modifier = opinion_grateful
					who = ROOT
					months = 60
				}
			}
			any_vassal = {
				limit = {
					has_character_flag = attend_coronation
				}
				character_event = { id = Plus.532 }
				opinion = {
					modifier = opinion_attended_ceremony
					who = ROOT
					years = 5
				}
			}
			any_vassal = {
				limit = {
					NOT = { has_character_flag = attend_coronation }
				}
				letter_event = { id = Plus.533 }
			}
			clr_character_flag = wants_coronation
			narrative_event = { id = Plus.534 }
		}
	}
}

# Emperor crowned by pope - attended realm lords informed of ceremony
character_event = {
	id = Plus.532 #formerly 1000182434
	desc = "EVTDESC_Plus_532"
	picture = "GFX_evt_holy_emperor"

	is_triggered_only = yes

	option = {
		name = "EVTOPTA_Plus_532"	# The coronation was beautiful
		prestige = 20
		clr_character_flag = attend_coronation
	}
}

# Emperor crowned by pope - non-attending realm lords informed of ceremony
letter_event = {
	id = Plus.533 #formerly 1000182435
	desc = "EVTDESC_Plus_533"

	is_triggered_only = yes

	option = {
		name = "OK"	# Ok
	}
}

# HRE Coronation narrative event
narrative_event = {
	id = Plus.534 #formerly 1000182436
	title = "EVTNAME_Plus_534"
	desc = "EVTDESC_Plus_534"
	picture = "GFX_evt_holy_emperor"
	border = "GFX_event_narrative_frame_religion"

	major = yes

	is_triggered_only = yes

	option = {
		name = "EVTOPTA_Plus_533"	# This is the happiest day of my life
	}
}

### BYZANTIUM / BULGARIA

# Byzantine Emperor conquers Bulgaria (flag set in history file -- only valid between 998 and 1018 )
character_event = {
	id = Plus.535
	desc = "EVTDESC_Plus_535"
	picture = GFX_evt_throne_room
	
	only_rulers = yes

	trigger = {
		has_landed_title = e_byzantium
		has_landed_title = k_bulgaria
		has_global_flag = byz_bul_prev
		NOT = {
			culture = bulgarian
			has_global_flag = byz_bul
		}
	}
	
	mean_time_to_happen = {
		days = 1
	}

	immediate = {
		set_global_flag = byz_bul
	}

	option = {
		name = "EVTOPTA_Plus_535"
		give_nickname = nick_the_bulgar_slayer
		prestige = 100
		k_bulgaria = {
			destroy_landed_title = THIS
		}
	}
}

# Bulgaria is not conquered by the Byzantines (flag set in history file -- only valid between 998 and 1018 )
character_event = {
	id = Plus.536
	desc = "EVTDESC_Plus_536"
	picture = GFX_evt_throne_room
	
	only_rulers = yes

	trigger = {
		has_landed_title = k_bulgaria
		NOT = { has_landed_title = e_byzantium }
		independent = yes
		war = no
		has_global_flag = byz_bul_prev
		NOT = { has_global_flag = byz_bul }
	}
	
	mean_time_to_happen = {
		days = 1
	}

	immediate = {
		set_global_flag = byz_bul
	}

	option = {
		name = "EVTOPTA_Plus_536" #Take them down
		ai_chance = {
			factor = 20
			modifier = {
				factor = 0
				NOT = { trait = ambitious }
			}
		}
		give_nickname = nick_the_victorious
		prestige = 300
		add_claim = e_byzantium
		add_claim = d_thrace
		e_byzantium = {
			holder_scope = {
				prestige = -500
				reverse_war = {
					target = ROOT
					casus_belli = claim_all
					thirdparty_title = PREV
				}
			}
		}
		spawn_unit = {
			province = 507 #Nikopolis
			owner = ROOT
			disband_on_peace = yes
			troops = {
				light_cavalry = { 1000 1000 }
				light_infantry = { 300 300 }
				heavy_infantry = { 200 200 }
			}
		}
		spawn_unit = {
			province = 507 #Nikopolis
			owner = ROOT
			disband_on_peace = yes
			troops = {
				light_cavalry = { 1000 1000 }
				light_infantry = { 300 300 }
				heavy_infantry = { 200 200 }
			}
		}
		spawn_unit = {
			province = 507 #Nikopolis
			owner = ROOT
			disband_on_peace = yes
			troops = {
				knights = { 1000 1000 }
			}
		}
	}
	option = {
		name = "EVTOPTB_Plus_536" #Macedonia will be more than enough
		ai_chance = {
			factor = 30
		}
		add_claim = d_adrianopolis
		add_claim = d_epirus
		add_claim = d_thessalonika
		e_byzantium = {
			holder_scope = {
				reverse_war = {
					target = ROOT
					casus_belli = claim_all
					thirdparty_title = PREV
				}
			}
		}
		spawn_unit = {
			province = 471 #Ohrid
			owner = ROOT
			disband_on_peace = yes
			troops = {
				light_cavalry = { 1000 1000 }
				light_infantry = { 300 300 }
				heavy_infantry = { 200 200 }
			}
		}
		spawn_unit = {
			province = 471 #Ohrid
			owner = ROOT
			disband_on_peace = yes
			troops = {
				light_cavalry = { 1000 1000 }
				light_infantry = { 300 300 }
				heavy_infantry = { 200 200 }
			}
		}
		spawn_unit = {
			province = 471 #Ohrid
			owner = ROOT
			disband_on_peace = yes
			troops = {
				knights = { 1000 1000 }
			}
		}
	}
	option = {
		name = "EVTOPTC_Plus_536" #We should be grateful for what we have
		ai_chance = {
			factor = 50
			modifier = {
				factor = 2
				NOT = { trait = ambitious }
			}
		}
		prestige = -100
	}
}

### SWEDEN

# Sigfrid Arrives to convert norse pagans
character_event = {
	id = Plus.537
	desc = "EVTDESC_Plus_537"
	picture = GFX_evt_heretic
	border = GFX_event_normal_frame_religion
	
	only_rulers = yes
	capable_only = yes
	prisoner = no

	trigger = {
		year = 1004
		NOT = { year = 1030 }
		OR = {
			has_landed_title = k_sweden
			AND = {
				k_sweden = { has_holder = no }
				has_landed_title = d_uppland
			}
		}
		religion_group = pagan_group
		war = no
		NOT = { has_global_flag = sigfrid_arrived }
	}

	mean_time_to_happen = {
		months = 12
	}

	option = {
		name = "EVTOPTA_Plus_537" #What can I do?
		custom_tooltip = { text = preacher_allowed }
		set_global_flag = sigfrid_arrived
		create_random_priest = {
			random_traits = no
			dynasty = 1000124226
			name = "Siegfried"
			culture = norse
			religion = catholic
			female = no
			age = 30
			attributes = {
				diplomacy = 8
				stewardship = 2
				intrigue = 2
				martial = 1
				learning = 10
			}
			trait = mastermind_theologian
			trait = patient
			trait = zealous
			trait = humble
			trait = just
			trait = monk
		}
		new_character = {
			set_character_flag = sigfrid_of_sweden
		}
	}
}

# Sigfrid tries to convert Olofr
character_event = {
	id = Plus.538
	desc = "EVTDESC_Plus_538"
	picture = GFX_evt_heretic
	border = GFX_event_normal_frame_religion

	trigger = {
		OR = {
			has_landed_title = k_sweden
			AND = {
				k_sweden = { has_holder = no }
				has_landed_title = d_uppland
			}
		}
		religion_group = pagan_group
		war = no
		any_courtier = {
			has_character_flag = sigfrid_of_sweden
			religion = catholic
			prisoner = no
			NOT = { trait = incapable }
		}
	}
	
	mean_time_to_happen = {
		months = 40

		modifier = {
			factor = 1.25
			NOT = { learning = 2 }
		}
		modifier = {
			factor = 1.25
			NOT = { learning = 3 }
		}
		modifier = {
			factor = 1.25
			NOT = { learning = 4 }
		}
		modifier = {
			factor = 1.25
			NOT = { learning = 5 }
		}
		modifier = {
			factor = 0.75
			learning = 10
		}
		modifier = {
			factor = 0.75
			learning = 11
		}
		modifier = {
			factor = 0.75
			learning = 12
		}
		modifier = {
			factor = 0.75
			learning = 13
		}
	}

	option = {
		name = "EVTOPTA_Plus_538" #convert
		ai_chance = {
			factor = 50
			modifier = {
				factor = 3
				trait = cynical
			}
			modifier = {
				factor = 2
				trait = arbitrary
			}
		}
		piety = -100
		random_courtier = {
			limit = { has_character_flag = sigfrid_of_sweden }
			clr_character_flag = sigfrid_of_sweden
			add_friend = ROOT
		}
		any_courtier = {
			limit = {
				culture = ROOT
				religion = ROOT
				dynasty = ROOT
			}
			religion = catholic
		}
		any_spouse = {
			limit = {
				culture = ROOT
				religion = ROOT
				dynasty = ROOT
				is_consort = no
			}
			religion = catholic
		}
		religion = catholic
		hidden_tooltip = {
			any_playable_ruler = {
				limit = {
					ROOT = { has_landed_title = k_sweden }
					NOT = { character = ROOT }
					ai = no
				}
				narrative_event = { id = Plus.539 }
			}
		}
	}
	option = {
		name = "EVTOPTB_Plus_538" #We shall bow to no one!
		ai_chance = {
			factor = 50
			modifier = {
				factor = 5
				trait = zealous
			}
			modifier = {
				factor = 5
				OR = {
					controls_religion = yes
					any_vassal = { controls_religion = yes }
				}
			}
			modifier = {
				factor = 5
				is_reformed_religion = yes
			}
		}
		prestige = -100
		random_courtier = {
			limit = { has_character_flag = sigfrid_of_sweden }
			clr_character_flag = sigfrid_of_sweden
			add_rival = ROOT
		}		
		any_courtier = {
			limit = {
				religion = catholic
				prisoner = no
				NOT = { dynasty = ROOT }
				NOT = { is_close_relative = ROOT }
			}
			imprison = ROOT
		}
	}
}

# Informed about the conversion
narrative_event = {
	id = Plus.539
	title = "EVTNAME_Plus_539"
	desc = "EVTDESC_Plus_539"
	picture = GFX_evt_council
	border = GFX_event_narrative_frame_diplomacy

	is_triggered_only = yes

	option = {
		name = "EVTOPTA_Plus_539"
	}
}

### FATIMIDS / UMMAYADS

# Fall of Umayyads
narrative_event = {
	id = Plus.541
	title = "EVTNAME_Plus_541"
	desc = "EVTDESC_Plus_541"
	picture = "GFX_evt_mongols"
	
	major = yes
	hide_from = yes

	only_rulers = yes

	trigger = {
		has_landed_title = k_papal_state
		k_umayyad = { has_holder = no }
		NOT = { has_global_flag = umayyad_has_fallen }
		NOT = { has_global_flag = 867_start_umayyad }
	}

	mean_time_to_happen = {
		months = 1
	}

	option = {
		name = "EVTOPTA_Plus_541"
		if = {
			limit = { has_landed_title = k_papal_state }
			set_global_flag = umayyad_has_fallen
		}
	}
}

# Fall of Fatimids
narrative_event = {
	id = Plus.542
	title = "EVTNAME_Plus_542"
	desc = "EVTDESC_Plus_542"
	picture = "GFX_evt_mongols"
	
	major = yes
	hide_from = yes

	only_playable = yes

	trigger = {
		has_landed_title = k_papal_state
		k_fatimid = { has_holder = no }
		NOT = { has_global_flag = fatimid_has_fallen }
		NOT = { has_global_flag = 867_start_fatimid }
	}

	mean_time_to_happen = {
		months = 1
	}

	option = {
		name = "EVTOPTA_Plus_541"
		if = {
			limit = { has_landed_title = k_papal_state }
			set_global_flag = fatimid_has_fallen
		}
	}
}

### NORWAY

# Olafr den Helige begins adventure claim for Norway
character_event = {
	id = Plus.545

	hide_window = yes
	
	min_age = 16
	prisoner = no
	capable_only = yes

	trigger = {
		culture = norse
		is_ruler = no
		in_command = no
		k_norway = {
			has_holder = yes
			holder_scope = {
				NOT = { has_character_flag = sveinn_forkbeard }
			}
		}
		has_character_flag = olafr_den_helige
		NOT = { has_global_flag = yngling_reconquest }
	}

	mean_time_to_happen = {
		months = 24
		modifier = {
			factor = 0.5
			trait = ambitious
		}
		modifier = {
			factor = 0.5
			trait = envious
		}
		modifier = {
			factor = 0.5
			has_character_flag = flag_denied_title
		}
		modifier = {
			factor = 0.75
			diplomacy = 12
		}
		modifier = {
			factor = 0.75
			trait = brave
		}
		modifier = {
			factor = 0.85
			trait = proud
		}
		modifier = {
			factor = 1.5
			trait = slothful
		}
		modifier = {
			factor = 1.5
			trait = humble
		}
		modifier = {
			factor = 2.0
			trait = kind
		}
	}

	immediate = {
		set_global_flag = yngling_reconquest
		wealth = 500
		prestige = 300
		create_title = {
			tier = DUKE
			landless = yes
			temporary = yes
			culture = ROOT
			name = "CLAIMANT_ADVENTURE"
			holder = ROOT
		}
		create_random_soldier = {
			random_traits = yes
			dynasty = none
			religion = ROOT
			culture = ROOT
			female = no
			age = 30
		}
		create_random_soldier = {
			random_traits = yes
			dynasty = none
			religion = ROOT
			culture = ROOT
			female = no
			age = 25
		}
		create_random_soldier = {
			random_traits = yes
			dynasty = none
			religion = ROOT
			culture = ROOT
			female = no
			age = 33
		}
		create_random_soldier = {
			random_traits = yes
			dynasty = none
			religion = ROOT
			culture = ROOT
			female = no
			age = 29
		}
		k_norway = {
			holder_scope = {
				reverse_war = {
					target = ROOT
					casus_belli = claim
					thirdparty_title = PREV
				}
				ROOT = {
					spawn_unit = {
						province = 43
						home = 43
						owner = THIS
						leader = THIS
						match_character = PREV
						match_mult = 0.7
						match_min = 1500
						match_max = 5000
						attrition = 0.25
						disband_on_peace = yes
					}
					spawn_unit = {
						province = 43
						home = 43
						owner = THIS
						leader = THIS
						match_character = PREV
						match_mult = 0.7
						match_min = 1500
						match_max = 5000
						attrition = 0.25
						disband_on_peace = yes
					}
					spawn_unit = {
						province = 43
						home = 43
						owner = THIS
						leader = THIS
						match_character = PREV
						match_mult = 0.7
						match_min = 1500
						match_max = 5000
						attrition = 0.25
						disband_on_peace = yes
					}
					spawn_unit = {
						province = 43
						home = 43
						owner = THIS
						match_character = PREV
						match_mult = 0.7
						match_min = 1500
						match_max = 5000
						attrition = 0.25
						disband_on_peace = yes
					}
				}
				hidden_tooltip = {
					character_event = { id = Plus.546 days = 1 }
				}
			}
		}
		spawn_fleet = {
			province = closest # closest sea zone
			owner = ROOT
			disband_on_peace = yes
			troops = {
				galleys = { 150 150 }
			}
		}
	}
}

# Informed of impending Olafr den Helige invasion
character_event = {
	id = Plus.546
	desc = "EVTDESC_Plus_545"
	picture = GFX_evt_crusaders
	border = GFX_event_normal_frame_war

	is_triggered_only = yes

	option = {
		name = CURSES
	}
}

### PAPAL EVENTS

# Pope demands return of Rome
character_event = {
	id = Plus.547
	desc = "EVTDESC_Plus_547"
	picture = "GFX_evt_pope"
	
	is_triggered_only = yes

	trigger = {
		has_landed_title = b_roma
		OR = {
			religion = catholic
			religion = fraticelli
		}
		is_heretic = no
		rightful_religious_head_scope = { has_landed_title = k_papal_state }
		religion_head = { NOT = { opinion = { who = ROOT value = 50 } } }
		NOT = { trait = excommunicated }
		NOT = { has_character_flag = excommunicated_rome }
	}

	weight_multiplier = {
		days = 1
		modifier = {
			factor = 1.25
			religion_head = { NOT = { opinion = { who = ROOT value = 25 } } }
		}
		modifier = {
			factor = 1.25
			religion_head = { NOT = { opinion = { who = ROOT value = 0 } } }
		}
		modifier = {
			factor = 1.25
			religion_head = { NOT = { opinion = { who = ROOT value = -25 } } }
		}
		modifier = {
			factor = 1.25
			religion_head = { NOT = { opinion = { who = ROOT value = -50 } } }
		}
		modifier = {
			factor = 1.25
			religion_head = { NOT = { opinion = { who = ROOT value = -75 } } }
		}
		modifier = {
			factor = 1.25
			religion_head = { NOT = { opinion = { who = ROOT value = -100 } } }
		}
		modifier = {
			factor = 0.75
			piety = 200
		}
		modifier = {
			factor = 0.75
			piety = 100
		}
		modifier = {
			factor = 2.0
			NOT = { piety = 0 }
		}
		modifier = {
			factor = 2.0
			NOT = { piety = -100 }
		}
		modifier = {
			factor = 2.0
			NOT = { piety = -200 }
		}
		modifier = {
			factor = 100.0
			religion_head = { NOT = { demesne_size = 1 } }
		}
	}

	option = {
		name = "EVTOPTA_Plus_547" #Accept
		ai_chance = { factor = 75 }
		piety = 50
		if = {
			limit = {
				OR = {
					has_landed_title = b_roma
					any_realm_lord = { has_landed_title = b_roma }
				}
			}
			religion_head = {
				b_roma = {
					gain_title = PREV
				}
			}
		}
		opinion = {
			modifier = opinion_happy
			who = ROOT
			years = 10
		}
	}
	option = {
		name = "EVTOPTB_Plus_547" #Refuse
		ai_chance = {
			factor = 25
			modifier = {
				factor = 2.0
				trait = cynical
			}
			modifier = {
				factor = 0.5
				trait = zealous
			}
			modifier = {
				factor = 2.0
				trait = ambitious
			}
			modifier = {
				factor = 0.5
				trait = content
			}
			modifier = {
				factor = 2.0
				trait = proud
			}
			modifier = {
				factor = 0.5
				trait = humble
			}
			modifier = {
				factor = 2.0
				trait = envious
			}
			modifier = {
				factor = 0.5
				trait = kind
			}
		}
		piety = -250
		add_trait = excommunicated
		set_character_flag = excommunicated_rome
		religion_head = {
			opinion = {
				modifier = opinion_hate
				who = ROOT
				years = 100
			}
		}
	}
}

# Excommunicated for declaring war on the Pope
character_event = {
	id = Plus.548
	desc = EVTDESC_Plus_548
	picture = GFX_evt_emissary
	border = GFX_event_normal_frame_war
	
	only_rulers = yes
	
	trigger = {
		religion = catholic
		is_primary_war_attacker = yes
		any_current_enemy = {
			is_primary_war_defender = yes
			has_landed_title = k_papal_state
		}
		NOT = { has_character_flag = attacking_fhm }
	}

	mean_time_to_happen = {
		months = 1
	}
	
	option = {
		name = EVTOPTA_Plus_548
		if = {
			limit = { NOT = { trait = excommunicated } }
			add_trait = excommunicated
		}
		set_character_flag = attacking_fhm
		religion_head = {
			opinion = {
				modifier = opinion_hate
				who = ROOT
				years = 100
			}
		}
		any_vassal = { 
			if = {
				limit = {
					religion = catholic 
					is_adult = yes
					NOT = { trait = incapable }
				}
				character_event = { id = Plus.549 }
			}
		}
	}
}

# Catholic vassals respond to the attack on the Pope
character_event = {
	id = Plus.549
	title = EVTNAME_Plus_549
	desc = EVTDESC_Plus_549
	picture = GFX_evt_emissary
	border = GFX_event_normal_frame_war
	
	is_triggered_only = yes
	
	option = {
		name = EVTOPTA_Plus_549 #We shall defend the holy church!
		trigger = { controls_religion = no }
		ai_chance = {
			factor = 24
			modifier = {
				factor = 0
				#excommunicated by the true pope
				trait = excommunicated
				rightful_religious_head_scope = { has_landed_title = "k_papal_state" } 
			}
			modifier = {
				factor = 100
				 #excommunicated by the anti-pope
				trait = excommunicated
				rightful_religious_head_scope = { NOT = { has_landed_title = "k_papal_state" } } 
			}
			modifier = {
				factor = 1.25
				capital_scope = {
					OR = {
						de_jure_liege_or_above = k_italy
						de_jure_liege_or_above = k_sicily
						de_jure_liege_or_above = k_papal_state
					}
				}
			}
			modifier = {
				factor = 0
				NOT = { religion_head = { reverse_opinion = { who = ROOT value = 0 } } }
			}
			modifier = {
				factor = 0.75
				NOT = { religion_head = { reverse_opinion = { who = ROOT value = 25 } } }
			}
			modifier = {
				factor = 1.25
				religion_head = { reverse_opinion = { who = ROOT value = 50 } }
			}
			modifier = {
				factor = 1.5
				religion_head = { reverse_opinion = { who = ROOT value = 75 } }
			}
			modifier = {
				factor = 1.5
				religion_head = { reverse_opinion = { who = ROOT value = 100 } }
			}
			modifier = {
				factor = 5
				NOT = { opinion = { who = liege value = -75 } }
			}
			modifier = {
				factor = 1.5
				NOT = { opinion = { who = liege value = -50 } }
			}
			modifier = {
				factor = 1.5
				NOT = { opinion = { who = liege value = -25 } }
			}
			modifier = {
				factor = 0.75
				opinion = { who = liege value = 25 }
			}
			modifier = {
				factor = 0.75
				opinion = { who = liege value = 50 }
			}
			modifier = {
				factor = 0.25
				opinion = { who = liege value = 75 }
			}
			modifier = {
				factor = 0.1
				opinion = { who = liege value = 100 }
			}
			modifier = {
				factor = 2
				trait = zealous
			}
			modifier = {
				factor = 0.5
				trait = cynical
			}
			modifier = {
				factor = 0.5
				trait = craven
			}
			modifier = {
				factor = 1.5
				trait = just
			}
			modifier = {
				factor = 1.5
				trait = content
			}
			modifier = {
				factor = 1.5
				trait = honest
			}
			modifier = {
				factor = 1.1
				trait = chaste
			}
			modifier = {
				factor = 1.1
				trait = humble
			}
			modifier = {
				factor = 1.1
				trait = temperate
			}
			modifier = {
				factor = 1.1
				trait = charitable
			}
			modifier = {
				factor = 1.25
				piety = 500
			}
			modifier = {
				factor = 1.25
				liege = { ROOT = { NOT = { de_jure_liege_or_above = PREV } } }
			}
			modifier = {
				factor = 1.25
				liege = { NOT = { culture = ROOT } }
			}
			modifier = {
				factor = 0.9
				rightful_religious_head_scope = { NOT = { has_landed_title = "k_papal_state" } }
			}
		}
		hidden_tooltip = { opinion = { who = liege modifier = guelf years = 100 } }
		hidden_tooltip = { reverse_opinion = { who = liege modifier = guelf years = 100 } }
		hidden_tooltip = { set_defacto_liege = ROOT }
		hidden_tooltip = { add_trait = guelf }
		religion_head = {
			ROOT = { join_defender_wars = PREV }
			opinion = {
				modifier = opinion_grateful
				who = ROOT
				years = 20
			}
		}
		if = {
			limit = { trait = excommunicated }
			excommunicate = no
		}
	}
	
	option = {
		name = EVTOPTB_Plus_549 #Send some volunteers!
		trigger = { controls_religion = no }
		ai_chance = {
			factor = 23
			modifier = {
				factor = 0
				#excommunicated by the true pope
				trait = excommunicated
				rightful_religious_head_scope = { has_landed_title = "k_papal_state" } 
			}
			modifier = {
				factor = 0 #should join in open war instead
				#excommunicated by the anti-pope
				trait = excommunicated
				rightful_religious_head_scope = { NOT = { has_landed_title = "k_papal_state" } } 
			}
			modifier = {
				factor = 0
				NOT = { religion_head = { reverse_opinion = { who = ROOT value = -35 } } }
			}
			modifier = {
				factor = 1.1
				religion_head = { reverse_opinion = { who = ROOT value = 50 } }
			}
			modifier = {
				factor = 1.25
				religion_head = { reverse_opinion = { who = ROOT value = 25 } }
			}
			modifier = {
				factor = 0.25 # should join in open war instead
				religion_head = { reverse_opinion = { who = ROOT value = 100 } }
			}
			modifier = {
				factor = 0.5 # should declare open war instead
				NOT = { opinion = { who = liege value = -75 } }
			}
			modifier = {
				factor = 1.25
				NOT = { opinion = { who = liege value = -25 } }
			}
			modifier = {
				factor = 0.5
				opinion = { who = liege value = 25 }
			}
			modifier = {
				factor = 0.5
				opinion = { who = liege value = 50 }
			}
			modifier = {
				factor = 0.25
				opinion = { who = liege value = 75 }
			}
			modifier = {
				factor = 0.1
				opinion = { who = liege value = 100 }
			}
			modifier = {
				factor = 0.25 # should join in open war instead
				trait = zealous
			}
			modifier = {
				factor = 1.5
				trait = craven
			}
			modifier = {
				factor = 1.1
				trait = chaste
			}
			modifier = {
				factor = 1.1
				trait = humble
			}
			modifier = {
				factor = 1.1
				trait = temperate
			}
			modifier = {
				factor = 1.1
				trait = charitable
			}
			modifier = {
				factor = 1.25
				piety = 500
			}
			modifier = {
				factor = 1.25
				liege = { ROOT = { NOT = { de_jure_liege = PREV } } }
			}
			modifier = {
				factor = 1.25
				liege = { NOT = { culture = ROOT } }
			}
			modifier = {
				factor = 0.9
				religion_head = { NOT = { has_landed_title = "k_papal_state" } }
			}
			modifier = {
				factor = 1.25
				demesne_size = 5
			}
			modifier = {
				factor = 1.25
				num_of_vassals = 10
			}
		}
		religion_head = { 
			capital_scope = {
				ROOT = {
					spawn_unit =  {
						province = PREV
						home = PREV
						owner = PREVPREV
						match_character = THIS
						match_mult = 0.25
						disband_on_peace = yes
					}
				}
			}
		}
	}
	
	option = {
		name = EVTOPTC_Plus_549 #Perhaps we can contribute some money to him...
		trigger = { controls_religion = no }
		ai_chance = {
			factor = 23
			modifier = {
				factor = 0
				#excommunicated by the true pope
				trait = excommunicated
				rightful_religious_head_scope = { has_landed_title = "k_papal_state" } 
			}
			modifier = {
				factor = 0 #should join in open war instead
				#excommunicated by the anti-pope
				trait = excommunicated
				rightful_religious_head_scope = { NOT = { has_landed_title = "k_papal_state" } } 
			}
			modifier = {
				factor = 0
				NOT = { religion_head = { reverse_opinion = { who = ROOT value = -50 } } }
			}
			modifier = {
				factor = 1.25
				religion_head = { reverse_opinion = { who = ROOT value = 50 } }
			}
			modifier = {
				factor = 1.25
				religion_head = { reverse_opinion = { who = ROOT value = 0 } }
			}
			modifier = {
				factor = 0.25 # should join in open war instead
				religion_head = { reverse_opinion = { who = ROOT value = 100 } }
			}
			modifier = {
				factor = 0.25 # should declare open war instead
				NOT = { opinion = { who = liege value = -75 } }
			}
			modifier = {
				factor = 0.5 # should declare open war instead
				NOT = { opinion = { who = liege value = -50 } }
			}
			modifier = {
				factor = 2
				NOT = { opinion = { who = liege value = -25 } }
			}
			modifier = {
				factor = 0.75
				opinion = { who = liege value = 25 }
			}
			modifier = {
				factor = 0.75
				opinion = { who = liege value = 50 }
			}
			modifier = {
				factor = 0.25
				opinion = { who = liege value = 75 }
			}
			modifier = {
				factor = 0.1
				opinion = { who = liege value = 100 }
			}
			modifier = {
				factor = 0.25 # should join in open war instead
				trait = zealous
			}
			modifier = {
				factor = 1.5
				trait = craven
			}
			modifier = {
				factor = 1.1
				trait = chaste
			}
			modifier = {
				factor = 1.1
				trait = humble
			}
			modifier = {
				factor = 1.1
				trait = temperate
			}
			modifier = {
				factor = 1.1
				trait = charitable
			}
			modifier = {
				factor = 1.25
				piety = 500 
			}
			modifier = {
				factor = 1.25
				liege = { ROOT = { NOT = { de_jure_liege = PREV } } }
			}
			modifier = {
				factor = 1.25
				liege = { NOT = { culture = ROOT } }
			}
			modifier = {
				factor = 0.9
				religion_head = { NOT = { has_landed_title = "k_papal_state" } }
			}
			modifier = {
				factor = 2.5
				wealth = 1000
			}
			modifier = {
				factor = 0 #AI shouldn't run a debt with this option
				primary_title = { higher_tier_than = COUNT }
				NOT = { wealth = 100 }
			}
			modifier = {
				factor = 0
				primary_title = { higher_tier_than = BARON }
				NOT = { wealth = 50 }
			}
			modifier = {
				factor = 0
				primary_title = { lower_tier_than = COUNT }
				NOT = { wealth = 25 }
			}
		}
		if = {
			limit = {
				primary_title = { higher_tier_than = COUNT }
			}
			wealth = -100
			rightful_religious_head_scope = { wealth = 100 }
		}
		if = {
			limit = {
				primary_title = { higher_tier_than = BARON }
				primary_title = { lower_tier_than = DUKE }
			}
			wealth = -50
			rightful_religious_head_scope = { wealth = 50 }
		}
		if = {
			limit = {
				primary_title = { lower_tier_than = COUNT }
				}
			wealth = -25
			rightful_religious_head_scope = { wealth = 25 }
		}
	}
	
	option = {
		name = EVTOPTD_Plus_549 #The only good Pope is a dead Pope
		ai_chance = {
			factor = 30
			modifier = {
				factor = 100
				#excommunicated by the true pope
				trait = excommunicated
				rightful_religious_head_scope = { has_landed_title = "k_papal_state" } 
			}
			modifier = {
				factor = 0
				#excommunicated by the anti-pope
				trait = excommunicated
				rightful_religious_head_scope = { NOT = { has_landed_title = "k_papal_state" } } 
			}
			modifier = {
				factor = 1000
				controls_religion = yes
			}
			modifier = {
				factor = 5
				NOT = { religion_head = { reverse_opinion = { who = ROOT value = -50 } } }
			}
			modifier = {
				factor = 0.75
				religion_head = { reverse_opinion = { who = ROOT value = 50 } }
			}
			modifier = {
				factor = 0
				religion_head = { reverse_opinion = { who = ROOT value = 100 } }
			}
			modifier = {
				factor = 0
				NOT = { opinion = { who = liege value = -75 } }
			}
			modifier = {
				factor = 0.75 
				NOT = { opinion = { who = liege value = -50 } }
			}
			modifier = {
				factor = 0.75
				NOT = { opinion = { who = liege value = -25 } }
			}
			modifier = {
				factor = 1.5
				opinion = { who = liege value = 50 }
			}
			modifier = {
				factor = 1.5
				opinion = { who = liege value = 75 }
			}
			modifier = {
				factor = 5
				opinion = { who = liege value = 100 }
			}
			modifier = {
				factor = 0.25 
				trait = zealous
			}
			modifier = {
				factor = 1.5 
				trait = ambitious
			}
			modifier = {
				factor = 1.1
				trait = envious
			}
			modifier = {
				factor = 1.1
				trait = greedy
			}
			modifier = {
				factor = 1.1
				trait = slothful
			}
			modifier = {
				factor = 1.1
				trait = lustful
			}
			modifier = {
				factor = 1.1
				trait = gluttonous
			}
			modifier = {
				factor = 1.1
				trait = proud
			}
			modifier = {
				factor = 2
				NOT = { piety = 250 }
			}
		}
		religion_head = {
			opinion = {
				modifier = opinion_hate
				who = ROOT
				years = 100
			}
		}
	}

}

# Other catholic rulers respond to the attack on the Pope
character_event = {
	id = Plus.550
	title = EVTNAME_Plus_550
	desc = EVTDESC_Plus_550
	picture = GFX_evt_emissary
	border = GFX_event_normal_frame_war
	
	only_playable = yes
	min_age = 16
	capable_only = yes
	prisoner = no
	
	trigger = {
		war = no
		controls_religion = no
		religion = catholic
		mercenary = no
		OR = {
			independent = yes
			top_liege = { war = no }
		}
		religion_head = { 
			has_landed_title = k_papal_state
			is_primary_war_defender = yes
		}
		primary_title = { higher_tier_than = BARON }
		capital_scope = {
			OR = {
				de_jure_liege_or_above = k_italy
				de_jure_liege_or_above = k_sicily
				de_jure_liege_or_above = k_papal_state
			}
		}
		NOT = { has_character_flag = declined_guelf_ghibelline }
	}
	
	mean_time_to_happen = {
		months = 1
	}
	
	option = {
		name = EVTOPTA_Plus_549 #Guelfs join the war!
		ai_chance = {
			factor = 20
			modifier = {
				factor = 0
				 #excommunicated by the true pope
				trait = excommunicated
				rightful_religious_head_scope = { has_landed_title = "k_papal_state" } 
			}
			modifier = {
				factor = 100
				# excommunicated by the anti-pope
				trait = excommunicated
				rightful_religious_head_scope = { NOT = { has_landed_title = "k_papal_state" } } 
			}
			modifier = {
				factor = 2
				trait = zealous
			}
			modifier = {
				factor = 0.5
				trait = cynical
			}
			modifier = {
				factor = 0.5
				trait = craven
			}
			modifier = {
				factor = 1.5
				trait = just
			}
			modifier = {
				factor = 1.5
				trait = content
			}
			modifier = {
				factor = 1.5
				trait = honest
			}
			modifier = {
				factor = 1.1
				trait = chaste
			}
			modifier = {
				factor = 1.1
				trait = humble
			}
			modifier = {
				factor = 1.1
				trait = temperate
			}
			modifier = {
				factor = 1.1
				trait = charitable
			}
			modifier = {
				factor = 1.25
				piety = 500
			}
			modifier = {
				factor = 0.75
				rightful_religious_head_scope = { NOT = { has_landed_title = "k_papal_state" } }
			}
			modifier = {
				factor = 0
				NOT = { religion_head = { reverse_opinion = { who = ROOT value = 0 } } }
			}
			modifier = {
				factor = 1.25
				religion_head = { reverse_opinion = { who = ROOT value = 25 } }
			}
			modifier = {
				factor = 1.25
				religion_head = { reverse_opinion = { who = ROOT value = 50 } }
			}
			modifier = {
				factor = 1.25
				religion_head = { reverse_opinion = { who = ROOT value = 75 } }
			}
			modifier = {
				factor = 0.66
				religion_head = { 
					any_current_enemy = {
						reverse_opinion = { who = ROOT value = 25 }
					}
				}
			}
			modifier = {
				factor = 0.66
				religion_head = { 
					any_current_enemy = {
						reverse_opinion = { who = ROOT value = 50 } 
					}
				}
			}
			modifier = {
				factor = 0.66
				religion_head = { 
					any_current_enemy = {
						reverse_opinion = { who = ROOT value = 75 }
					}
				}
			}
		}
		religion_head = {
			ROOT = { join_defender_wars = PREV }
			opinion = {
				modifier = opinion_grateful
				who = ROOT
				years = 20
			}
		}
		if = {
			limit = { trait = excommunicated }
			excommunicate = no
		}
	}
	option = {
		name = EVTOPTB_Plus_549 #Guelfs send volunteers
		ai_chance = {
			factor = 30
			modifier = {
				factor = 0
				 #excommunicated by the true pope
				trait = excommunicated
				rightful_religious_head_scope = { has_landed_title = "k_papal_state" } 
			}
			modifier = {
				factor = 0
				# excommunicated by the anti-pope
				trait = excommunicated
				rightful_religious_head_scope = { NOT = { has_landed_title = "k_papal_state" } } 
			}
			modifier = {
				factor = 0.25
				trait = zealous
			}
			modifier = {
				factor = 1.5
				trait = craven
			}
			modifier = {
				factor = 1.25
				trait = just
			}
			modifier = {
				factor = 1.25
				trait = content
			}
			modifier = {
				factor = 1.25
				trait = deceitful
			}
			modifier = {
				factor = 1.1
				trait = chaste
			}
			modifier = {
				factor = 1.1
				trait = humble
			}
			modifier = {
				factor = 1.1
				trait = temperate
			}
			modifier = {
				factor = 1.1
				trait = charitable
			}
			modifier = {
				factor = 1.25
				piety = 250
			}
			modifier = {
				factor = 1.25
				is_merchant_republic = yes
			}
			modifier = {
				factor = 0.75
				rightful_religious_head_scope = { NOT = { has_landed_title = "k_papal_state" } }
			}
			modifier = {
				factor = 0
				NOT = { religion_head = { reverse_opinion = { who = ROOT value = -25 } } }
			}
			modifier = {
				factor = 1.25
				religion_head = { reverse_opinion = { who = ROOT value = 0 } }
			}
			modifier = {
				factor = 1.25
				religion_head = { reverse_opinion = { who = ROOT value = 25 } }
			}
			modifier = {
				factor = 1.25
				religion_head = { reverse_opinion = { who = ROOT value = 50 } }
			}
			modifier = {
				factor = 0.5
				religion_head = { reverse_opinion = { who = ROOT value = 75 } }
			}
			modifier = {
				factor = 0.75
				religion_head = { 
					any_current_enemy = {
						reverse_opinion = { who = ROOT value = 25 }
					}
				}
			}
			modifier = {
				factor = 0.75
				religion_head = { 
					any_current_enemy = {
						reverse_opinion = { who = ROOT value = 50 }
					}
				}
			}
			modifier = {
				factor = 0.75
				religion_head = { 
					any_current_enemy = {
						reverse_opinion = { who = ROOT value = 75 }
					}
				}
			}
		}
		set_character_flag = declined_guelf_ghibelline
		religion_head = { 
			capital_scope = {
				ROOT = {
					spawn_unit =  {
						province = PREV
						home = PREV
						owner = PREVPREV
						match_character = THIS
						match_mult = 0.25
						disband_on_peace = yes
					}
				}
			}
		}
	}
	option = {
		name = EVTOPTC_Plus_550 #This is not our concern
		ai_chance = {
			factor = 40
			modifier = {
				factor = 0
				 #excommunicated by the true pope
				trait = excommunicated
				rightful_religious_head_scope = { has_landed_title = "k_papal_state" } 
			}
			modifier = {
				factor = 0
				# excommunicated by the anti-pope
				trait = excommunicated
				rightful_religious_head_scope = { NOT = { has_landed_title = "k_papal_state" } } 
			}
			modifier = {
				factor = 0.5
				trait = zealous
			}
			modifier = {
				factor = 1.5
				trait = craven
			}
			modifier = {
				factor = 1.25
				trait = arbitrary
			}
			modifier = {
				factor = 1.25
				trait = content
			}
			modifier = {
				factor = 1.1
				trait = lustful
			}
			modifier = {
				factor = 1.1
				trait = proud
			}
			modifier = {
				factor = 1.1
				trait = gluttonous
			}
			modifier = {
				factor = 1.5
				trait = slothful
			}
			modifier = {
				factor = 1.25
				is_feudal = yes
			}
			modifier = {
				factor = 0
				NOT = { religion_head = { reverse_opinion = { who = ROOT value = -100 } } }
			}
			modifier = {
				factor = 0.9
				religion_head = { reverse_opinion = { who = ROOT value = 0 } }
			}
			modifier = {
				factor = 0.8
				religion_head = { reverse_opinion = { who = ROOT value = 25 } }
			}
			modifier = {
				factor = 0.8
				religion_head = { reverse_opinion = { who = ROOT value = 50 } }
			}
			modifier = {
				factor = 0.5
				religion_head = { reverse_opinion = { who = ROOT value = 75 } }
			}				
		}
		set_character_flag = declined_guelf_ghibelline
		piety = -50
	}
	option = {
		name = EVTOPTD_Plus_550 #Ghibellines, to arms!
		trigger = {
			religion_head = {
				NOT = { 
					any_current_enemy = {
						NOT = { religion_group = christian }
					}
				}
			}
		}
		ai_chance = {
			factor  = 10
			modifier = {
				factor = 100
				 #excommunicated by the true pope
				trait = excommunicated
				rightful_religious_head_scope = { has_landed_title = "k_papal_state" } 
			}
			modifier = {
				factor = 0
				# excommunicated by the anti-pope
				trait = excommunicated
				rightful_religious_head_scope = { NOT = { has_landed_title = "k_papal_state" } } 
			}
			modifier = {
				factor = 1.5
				trait = cynical
			}
			modifier = {
				factor = 1.25
				trait = brave
			}
			modifier = {
				factor = 1.25
				trait = cruel
			}
			modifier = {
				factor = 1.25
				trait = ambitious
			}
			modifier = {
				factor = 1.25
				trait = honest
			}
			modifier = {
				factor = 1.1
				trait = lustful
			}
			modifier = {
				factor = 1.1
				trait = envious
			}
			modifier = {
				factor = 1.1
				trait = wroth
			}
			modifier = {
				factor = 1.1
				trait = greedy
			}
			modifier = {
				factor = 1.25
				NOT = { piety = 100 }
			}
			modifier = {
				factor = 2
				rightful_religious_head_scope = { NOT = { has_landed_title = "k_papal_state" } } #antipope follower
			}
			modifier = {
				factor = 2
				NOT = { religion_head = { reverse_opinion = { who = ROOT value = -100 } } }
			}
			modifier = {
				factor = 1.25
				NOT = { religion_head = { reverse_opinion = { who = ROOT value = -50 } } }
			}
			modifier = {
				factor = 1.25
				NOT = { religion_head = { reverse_opinion = { who = ROOT value = 0 } } }
			}
			modifier = {
				factor = 1.25
				religion_head = { 
					any_current_enemy = {
						reverse_opinion = { who = ROOT value = 25 }
					}
				}
			}
			modifier = {
				factor = 1.25
				religion_head = { 
					any_current_enemy = {
						reverse_opinion = { who = ROOT value = 50 }
					}
				}
			}
			modifier = {
				factor = 1.25
				religion_head = { 
					any_current_enemy = {
						reverse_opinion = { who = ROOT value = 75 }
					}
				}
			}
			modifier = {
				factor = 5
				religion_head = { 
					any_current_enemy = {
						reverse_opinion = { who = ROOT value = 100 }
					}
				}
			}
		}
		religion_head = {
			any_current_enemy = {
				ROOT = { join_attacker_wars = PREV }
			}
			opinion = {
				modifier = opinion_hate
				who = ROOT
				years = 100
			}
		}
	}
}

# Remove the Guelf trait upon peace and revassalize to former liege
character_event = {
	id = Plus.551
	
	hide_window = yes
	
	only_rulers = yes

	trigger = {
		war = no
		trait = guelf
		OR = {
			independent = yes
			liege = { character = ROOT }
			liege = { war = no }
		}
		any_playable_ruler = {
			reverse_has_opinion_modifier = { who = ROOT modifier = guelf }
		}	
	}

	mean_time_to_happen = {
		months = 1
	}

	immediate = {
		remove_trait = guelf
		if = {
			limit = {
				any_playable_ruler = {
					NOT = { is_liege_of = ROOT }
					reverse_has_opinion_modifier = {
						who = ROOT
						modifier = guelf
					}
					higher_tier_than = ROOT
				}
			}
			random_playable_ruler = {
				limit = {
					NOT = { is_liege_of = ROOT }
					reverse_has_opinion_modifier = {
						who = ROOT
						modifier = guelf
					}
					higher_tier_than = ROOT
				}
				ROOT = { set_defacto_liege = PREV }
			}
			remove_opinion = { who = liege modifier = guelf }
			reverse_remove_opinion = { who = liege modifier = guelf }
		}
	}
}

# Remove the attacker flag upon peace
character_event = {
	id = Plus.552
	
	hide_window = yes
	
	only_rulers = yes
	only_playable = yes
	
	trigger = {
		NOT = {
			any_current_enemy = { has_landed_title = k_papal_state }
		}
		has_character_flag = attacking_fhm
	}
	
	mean_time_to_happen = {
		years = 1
	}
	
	immediate = {
		clr_character_flag = attacking_fhm
	}
}

### NORSE HOLY ORDERS

# The Brralag founded
narrative_event = {
	id = Plus.553 #formerly 1000182569
	title = EVTNAME_Plus_553
	desc = EVTDESC_Plus_553
	picture = GFX_evt_blood_eagle
	border = GFX_event_narrative_frame_war
	
	is_triggered_only = yes
	
	hide_from = yes
	
	option = {
		name = EXCELLENT
		hidden_tooltip = {
			any_playable_ruler = {
				limit = {
					ai = no
					NOT = { character = ROOT }
				}
				narrative_event = { id = Plus.554 }
			}
		}
	}
}

# The player is informed of the Brralag
narrative_event = {
	id = Plus.554
	title = EVTNAME_Plus_554
	desc = EVTDESC_Plus_554
	picture = GFX_evt_blood_eagle
	border = GFX_event_narrative_frame_war
	
	is_triggered_only = yes
	
	option = {
		name = EVTOPTA_Plus_554
		trigger = {
			OR = {
				religion = norse_pagan
				religion = norse_pagan_reformed
			}
		}
	}
	option = {
		name = EVTOPTB_Plus_554
		trigger = {
			NOT = {
				religion = norse_pagan
				religion = norse_pagan_reformed
			}
		}
	}
}

# The lfhenar founded
narrative_event = {
	id = Plus.555 #formerly 1000182571
	title = EVTNAME_Plus_555
	desc = EVTDESC_Plus_555
	picture = GFX_evt_blood_eagle
	border = GFX_event_narrative_frame_war
	
	is_triggered_only = yes
	
	hide_from = yes
	
	option = {
		name = EXCELLENT
		hidden_tooltip = {
			any_playable_ruler = {
				limit = {
					ai = no
					NOT = { character = ROOT }
				}
				narrative_event = { id = Plus.556 }
			}
		}
	}
}

# The player is informed of the lfhenar
narrative_event = {
	id = Plus.556
	title = EVTNAME_Plus_556
	desc = EVTDESC_Plus_556
	picture = GFX_evt_blood_eagle
	border = GFX_event_narrative_frame_war
	
	is_triggered_only = yes
	
	option = {
		name = EVTOPTA_Plus_554
		trigger = {
			OR = {
				religion = norse_pagan
				religion = norse_pagan_reformed
			}
		}
	}
	
	option = {
		name = EVTOPTB_Plus_554
		trigger = {
			NOT = {
				religion = norse_pagan
				religion = norse_pagan_reformed
			}
		}
	}
}

