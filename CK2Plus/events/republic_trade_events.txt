#################################
#
# THE REPUBLIC
# - Trade Events
#
#################################

# Written by Henrik Eklund

namespace = REP

### Shipping Events

# Thieving Captain
character_event = {
	id = REP.2
	desc = EVTDESC_REP_002
	picture = GFX_evt_trade_post_republic

	ai = no
	is_patrician = yes
	has_dlc = "The Republic"

	trigger = {
		OR = {
			liege = {
				is_merchant_republic = yes

				any_vassal = {
					is_patrician = yes
					ai = yes
				}
			}

			any_vassal = {
				is_patrician = yes
				ai = yes
			}
		}
	}

	mean_time_to_happen = {
		months = 1820
	}

	immediate = {
		if = {
			limit = {
				liege = {
					is_merchant_republic = yes
				}
			}

			liege = {
				random_vassal = {
					limit = {
						is_patrician = yes
						ai = yes
					}

					save_event_target_as = rival_patrician
				}
			}
		}
		else = {
			random_vassal = {
				limit = {
					is_patrician = yes
					ai = yes
				}

				save_event_target_as = rival_patrician
			}
		}
	}

	option = {
		name = EVTOPTA_REP_002

		scaled_wealth = -0.25
	}
}

# Spoiled Cargo
character_event = {
	id = REP.3
	desc = EVTDESC_REP_003
	picture = GFX_evt_merchant_ship_at_sea_republic

	ai = no
	is_patrician = yes
	has_dlc = "The Republic"

	mean_time_to_happen = {
		months = 1420
	}

	option = {
		name = EVTOPTA_REP_003

		scaled_wealth = -0.25
	}
}

# Ship Lost in Storm (AI)
character_event = {
	id = REP.4
	hide_window = yes

	ai = yes
	is_patrician = yes

	trigger = {
		has_dlc = "The Republic"
		liege = { is_merchant_republic = yes }
		OR = {
			liege = { ai = no }
			liege = {
				any_vassal = {
					is_patrician = yes
					ai = no
				}
			}
		}
	}

	mean_time_to_happen = {
		months = 1820
	}

	immediate = {
		if = {
			limit = {
				liege = { ai = no }
			}
			liege = {
				character_event = { id = REP.5 }
			}
		}
		if = {
			limit = {
				liege = {
					any_vassal = {
						is_patrician = yes
						ai = no
					}
				}
			}
			liege = {
				random_vassal = {
					limit = {
						is_patrician = yes
						ai = no
					}
					character_event = { id = REP.5 }
				}
			}
		}
	}
}

# Ship Lost in Storm (Player)
character_event = {
	id = REP.5
	desc = EVTDESC_REP_005
	picture = GFX_evt_bad_news

	ai = no
	is_patrician = yes
	has_dlc = "The Republic"

	trigger = {
		OR = {
			liege = {
				is_merchant_republic = yes

				any_vassal = {
					is_patrician = yes
					ai = yes
				}
			}

			any_vassal = {
				is_patrician = yes
				ai = yes
			}
		}
	}

	mean_time_to_happen = {
		months = 1820
	}

	immediate = {
		if = {
			limit = {
				liege = {
					is_merchant_republic = yes
				}
			}

			liege = {
				random_vassal = {
					limit = {
						is_patrician = yes
						ai = yes
					}

					save_event_target_as = rival_patrician
				}
			}
		}
		else = {
			random_vassal = {
				limit = {
					is_patrician = yes
					ai = yes
				}

				save_event_target_as = rival_patrician
			}
		}
	}

	option = {
		name = EVTOPTA_REP_005

		wealth = -100
	}
}

# Pirates Attack Ships
character_event = {
	id = REP.6
	desc = EVTDESC_REP_006
	picture = GFX_evt_merchant_ship_at_sea_republic

	ai = no
	is_patrician = yes
	has_dlc = "The Republic"

	mean_time_to_happen = {
		months = 1420
	}

	option = {
		name = EVTOPTA_REP_006

		scaled_wealth = -0.25
	}
}

# Pirates Captured
character_event = {
	id = REP.7
	desc = EVTDESC_REP_007
	picture = GFX_evt_merchant_ship_at_sea_republic

	ai = no
	is_patrician = yes
	has_dlc = "The Republic"

	mean_time_to_happen = {
		months = 1220
	}

	option = {
		name = EVTOPTA_REP_007

		wealth = 100
	}
}

# Valuable Spice Obtained
character_event = {
	id = REP.8
	desc = EVTDESC_REP_008
	picture = GFX_evt_busy_trading_dock_republic

	ai = no
	is_patrician = yes
	has_dlc = "The Republic"

	trigger = {
		in_revolt = no
	}

	mean_time_to_happen = {
		months = 1220
	}

	option = {
		name = EVTOPTA_REP_008

		scaled_wealth = 0.25
	}
}

# New Markets Discovered
character_event = {
	id = REP.9
	desc = EVTDESC_REP_009
	picture = GFX_evt_trade_post_republic

	ai = no
	is_patrician = yes
	has_dlc = "The Republic"

	mean_time_to_happen = {
		months = 1220
	}

	option = {
		name = EVTOPTA_REP_009

		scaled_wealth = 0.25
	}
}

# Lost Ship Appears
character_event = {
	id = REP.10
	desc = EVTDESC_REP_010
	picture = GFX_evt_merchant_ship_at_sea_republic

	ai = no
	is_patrician = yes
	has_dlc = "The Republic"

	mean_time_to_happen = {
		months = 1220
	}

	option = {
		name = EVTOPTA_REP_010

		wealth = 100
	}
}

# Dockworkers Strike
character_event = {
	id = REP.11
	desc = EVTDESC_REP_011
	picture = GFX_evt_busy_trading_dock_republic

	ai = no
	is_patrician = yes
	has_dlc = "The Republic"

	mean_time_to_happen = {
		months = 1420
	}

	option = {
		name = EVTOPTA_REP_011

		scaled_wealth = -0.25
	}
}

# Warehouse Fire
character_event = {
	id = REP.12
	desc = EVTDESC_REP_012
	picture = GFX_evt_burning_house

	ai = no
	is_patrician = yes
	has_dlc = "The Republic"

	mean_time_to_happen = {
		months = 1420
	}

	option = {
		name = EVTOPTA_REP_012

		scaled_wealth = -0.25
	}
}

# Noble Books Passage (AI)
character_event = {
	id = REP.14
	desc = EVTDESC_REP_014
	picture = GFX_evt_trade_post_republic

	ai = no
	is_patrician = yes
	has_dlc = "The Republic"

	trigger = {
		OR = {
			liege = {
				is_merchant_republic = yes

				any_vassal = {
					is_patrician = yes
					ai = yes
				}
			}

			any_vassal = {
				is_patrician = yes
				ai = yes
			}
		}
	}

	mean_time_to_happen = {
		months = 1820
	}

	immediate = {
		if = {
			limit = {
				liege = {
					is_merchant_republic = yes
				}
			}

			liege = {
				random_vassal = {
					limit = {
						is_patrician = yes
						ai = yes
					}

					save_event_target_as = rival_patrician
				}
			}
		}
		else = {
			random_vassal = {
				limit = {
					is_patrician = yes
					ai = yes
				}

				save_event_target_as = rival_patrician
			}
		}
	}

	option = {
		name = EVTOPTA_REP_014

		wealth = 50
	}
}

# Efficient Dockworkers
character_event = {
	id = REP.15
	desc = EVTDESC_REP_015
	picture = GFX_evt_busy_trading_dock_republic

	ai = no
	is_patrician = yes
	has_dlc = "The Republic"

	mean_time_to_happen = {
		months = 1220
	}

	option = {
		name = EVTOPTA_REP_015

		scaled_wealth = 0.25
	}
}

# Treasure Found!
character_event = {
	id = REP.16
	desc = EVTDESC_REP_016
	picture = GFX_evt_trade_post_republic

	ai = no
	is_patrician = yes
	has_dlc = "The Republic"

	mean_time_to_happen = {
		months = 1220
	}

	option = {
		name = EVTOPTA_REP_016

		wealth = 100
	}
}

# Improved Charts
character_event = {
	id = REP.17
	desc = EVTDESC_REP_017
	picture = GFX_evt_merchant_ship_at_sea_republic

	ai = no
	is_patrician = yes
	has_dlc = "The Republic"

	mean_time_to_happen = {
		months = 1220
	}

	option = {
		name = EVTOPTA_REP_017

		scaled_wealth = 0.25
	}
}

# Captain Rams Pier
character_event = {
	id = REP.18
	desc = EVTDESC_REP_018
	picture = GFX_evt_busy_trading_dock_republic

	ai = no
	is_patrician = yes
	has_dlc = "The Republic"

	mean_time_to_happen = {
		months = 1420
	}

	option = {
		name = EVTOPTA_REP_018

		trigger = {
			NOT = { trait = drunkard }
		}

		wealth = -50
	}

	option = {
		name = EVTOPTB_REP_018
		tooltip_info = drunkard

		trigger = { trait = drunkard }

		scaled_wealth = -0.25
	}
}

# Mutiny!
character_event = {
	id = REP.20
	desc = EVTDESC_REP_020
	picture = GFX_evt_merchant_ship_at_sea_republic

	ai = no
	is_patrician = yes
	has_dlc = "The Republic"

	trigger = {
		OR = {
			liege = {
				is_merchant_republic = yes

				any_vassal = {
					is_patrician = yes
					ai = yes
				}
			}

			any_vassal = {
				is_patrician = yes
				ai = yes
			}
		}
	}

	mean_time_to_happen = {
		months = 1820
	}

	immediate = {
		if = {
			limit = {
				liege = {
					is_merchant_republic = yes
				}
			}

			liege = {
				random_vassal = {
					limit = {
						is_patrician = yes
						ai = yes
					}

					save_event_target_as = rival_patrician
				}
			}
		}
		else = {
			random_vassal = {
				limit = {
					is_patrician = yes
					ai = yes
				}

				save_event_target_as = rival_patrician
			}
		}
	}

	option = {
		name = EVTOPTA_REP_020

		wealth = -50
	}
}

### The Rise of the Hansa

# Hansa formed (AI)
character_event = {
	id = REP.40

	hide_window = yes

	only_playable = yes
	ai = yes

	trigger = {
		capital_scope = {
			county = {
				OR = {
					title = c_hamburg
					title = c_bremen
					title = c_lubeck
					title = c_mecklemburg
					title = c_rostock
				}
			}

			has_city = yes
			german_cultures_trigger = yes
			religion_group = christian
		}

		year >= 1170

		top_liege = {
			has_landed_title = e_hre
			religion_group = christian
		}

		NOR = {
			government = merchant_republic_government
			has_global_flag = hansa_formed
		}
	}

	mean_time_to_happen = {
		months = 1020
	}

	immediate = {
		set_global_flag = hansa_formed

		capital_scope = {
			county = {
				save_event_target_as = hansa_capital
			}
		}

		top_liege = {
			character_event = { id = REP.45 }
		}
	}
}

# Permit Hansa?
character_event = {
	id = REP.45
	desc = EVTDESC_REP_45
	picture = GFX_evt_busy_trading_dock_republic
	border = GFX_event_normal_frame_intrigue

	hide_from = yes
	is_triggered_only = yes

	option = {
		name = EVTOPTA_REP_45

		ai_chance = { factor = 100 }

		custom_tooltip = { text = permit_hansa_tooltip }

		FROM = {
			show_scope_change = no

			character_event = { id = REP.50 }

			opinion = {
				name = opinion_happy
				who = ROOT
				years = 4
			}

			if = {
				limit = {
					NOT = { vassal_of = ROOT }
				}

				liege = {
					show_scope_change = no

					opinion = {
						name = opinion_happy
						who = ROOT
						years = 4
					}
				}
			}
		}
	}

	option = {
		name = EVTOPTB_REP_45

		custom_tooltip = { text = deny_hansa_tooltip }

		FROM = {
			show_scope_change = no

			opinion = {
				name = opinion_unhappy
				who = ROOT
				years = 4
			}


			if = {
				limit = {
					NOT = { vassal_of = ROOT }
				}

				liege = {
					show_scope_change = no

					opinion = {
						name = opinion_unhappy
						who = ROOT
						years = 4
					}
				}
			}
		}
	}
}

### The Rise of the Hansa

# Hansa formed (AI)
character_event = {
	id = REP.50

	is_triggered_only = yes
	hide_window = yes

	ai = yes

	immediate = {
		create_character = {
			random_traits = yes
			dynasty = random
			religion = FROM
			culture = old_saxon
			female = no
			age = 30
		}

		new_character = {
			event_target:hansa_capital = {
				random_province_holding = {
					limit = { holding_type = city }
					grant_title = PREVPREV
				}

				trigger_switch = {
					on_trigger = title

					c_hamburg = {
						PREV = {
							grant_title = b_altona
							grant_title = c_hamburg
						}
					}

					c_bremen = {
						PREV = {
							grant_title = b_beverstedt
							grant_title = c_bremen
						}
					}

					c_lubeck = {
						PREV = {
							grant_title = b_lubeck
							grant_title = c_hamburg
						}
					}

					c_mecklemburg = {
						PREV = {
							grant_title = b_wismar
							grant_title = c_mecklemburg
						}
					}

					c_rostock = {
						PREV = {
							grant_title = b_gustrow
							grant_title = c_rostock
						}
					}
				}
			}

			grant_title = k_hansa
			set_government_type = merchant_republic_government

			wealth = 1000

			e_hre = {
				holder_scope = {
					set_defacto_vassal = PREVPREV
				}
			}

			location = {
				if = {
					limit = { has_trade_post = yes }

					seize_trade_post = PREV

					any_neighbor_province = {
						seize_trade_post = PREVPREV
					}
				}
			}

			# Extra courtiers
			while = {
				count = 7

				create_character = {
					random_traits = yes
					dynasty = random
					religion = FROM
					culture = old_saxon
					female = no
					age = 16
				}

				new_character = {
					# Aged 16 - 28
					random_list = {
						1 = { add_age = 0 }
						1 = { add_age = 1 }
						1 = { add_age = 2 }
						1 = { add_age = 3 }
						1 = { add_age = 4 }
						1 = { add_age = 5 }
						1 = { add_age = 6 }
						1 = { add_age = 7 }
						1 = { add_age = 8 }
						1 = { add_age = 9 }
						1 = { add_age = 10 }
						1 = { add_age = 11 }
						1 = { add_age = 12 }
					}
				}
			}

			while = {
				count = 5

				create_character = {
					random_traits = yes
					dynasty = random
					religion = FROM
					culture = old_saxon
					female = yes
					age = 16
				}

				new_character = {
					# Aged 16 - 20
					random_list = {
						1 = { add_age = 0 }
						1 = { add_age = 1 }
						1 = { add_age = 2 }
						1 = { add_age = 3 }
						1 = { add_age = 4 }
					}
				}
			}

			# Set up Patricians
			character_event = { id = REP.65 }

			narrative_event = { id = REP.61 }
		}
	}
}

# The Rise of the Hansa
narrative_event = {
	id = REP.61
	title = EVTNAME_REP_61
	desc = EVTDESC_REP_61
	picture = GFX_evt_busy_trading_dock_republic
	portrait = k_hansa

	is_triggered_only = yes
	major = yes
	hide_from = yes

	major_trigger = {
		ai = no
	}

	immediate = {
		log = "REP.61"
	}

	option = {
		name = EVTOPTA_REP_61

		trigger = {
			NOR = {
				government = merchant_republic_government
				character = ROOT
			}
		}
	}

	option = {
		name = EVTOPTB_REP_61

		trigger = {
			government = merchant_republic_government
			NOT = { character = ROOT }
		}
	}

	option = {
		name = EVTOPTC_REP_61

		trigger = { character = ROOT }
	}
}

# Set up Patricians
character_event = {
	id = REP.65

	is_triggered_only = yes
	hide_window = yes

	ai = yes

	immediate = {
		set_variable = {
			which = local_patrician
			value = 1
		}

		any_vassal = {
			limit = { is_patrician = yes }

			count = 4

			wealth = 1000

			if = {
				limit = {
					check_variable = {
						which = local_patrician
						value == 1
					}
				}

				save_event_target_as = trade_post_usurper

				267 = { # Jylland
					if = {
						limit = { has_trade_post = yes }

						save_event_target_as = lost_trade_post_province

						trade_post_owner = {
							character_event = { id = REP.70 }
						}

						seize_trade_post = PREV
					}
				}

				296 = { # Viken
					if = {
						limit = { has_trade_post = yes }

						save_event_target_as = lost_trade_post_province

						trade_post_owner = {
							character_event = { id = REP.70 }
						}

						seize_trade_post = PREV
					}
				}
			}
			else_if = {
				limit = {
					check_variable = {
						which = local_patrician
						value == 2
					}
				}

				save_event_target_as = trade_post_usurper

				84 = { # Friesland
					if = {
						limit = { has_trade_post = yes }

						save_event_target_as = lost_trade_post_province

						trade_post_owner = {
							character_event = { id = REP.70 }
						}

						seize_trade_post = PREV
					}
				}

				83 = { # Ostfriesland
					if = {
						limit = { has_trade_post = yes }

						save_event_target_as = lost_trade_post_province

						trade_post_owner = {
							character_event = { id = REP.70 }
						}

						seize_trade_post = PREV
					}
				}
			}
			else_if = {
				limit = {
					check_variable = {
						which = local_patrician
						value == 3
					}
				}

				save_event_target_as = trade_post_usurper

				32 = { # Middlesex
					if = {
						limit = { has_trade_post = yes }

						save_event_target_as = lost_trade_post_province

						trade_post_owner = {
							character_event = { id = REP.70 }
						}

						seize_trade_post = PREV
					}
				}

				74 = { # Guines
					if = {
						limit = { has_trade_post = yes }

						save_event_target_as = lost_trade_post_province

						trade_post_owner = {
							character_event = { id = REP.70 }
						}

						seize_trade_post = PREV
					}
				}
			}
			else = {
				save_event_target_as = trade_post_usurper

				368 = { # Danzig
					if = {
						limit = { has_trade_post = yes }

						save_event_target_as = lost_trade_post_province

						trade_post_owner = {
							character_event = { id = REP.70 }
						}

						seize_trade_post = PREV
					}
				}

				370 = { # Marienburg
					if = {
						limit = { has_trade_post = yes }

						save_event_target_as = lost_trade_post_province

						trade_post_owner = {
							character_event = { id = REP.70 }
						}

						seize_trade_post = PREV
					}
				}
			}

			change_variable = {
				which = local_patrician
				value = 1
			}
		}
	}
}

# Former Trade Post Owner Informed
character_event = {
	id = REP.70
	desc = EVTDESC_REP_070
	picture = GFX_evt_trade_post_republic

	is_triggered_only = yes

	option = {
		name = EVTOPTA_REP_070

		tooltip = {
			event_target:lost_trade_post_province = {
				show_scope_change = no

				seize_trade_post = event_target:trade_post_usurper
			}
		}
	}
}

### Seize Trade Post Plot

# Decision Fired
character_event = {
	id = REP.300
	desc = EVTDESC_REP_300
	picture = GFX_evt_trade_post_republic

	hide_from = yes
	is_triggered_only = yes # plot_decisions.txt

	option = {
		name = EVTOPTA_REP_300

		trigger = {
			plot_power >= 1.0
			plot_power < 1.5
		}

		wealth = -250

		plot_target_char = {
			show_scope_change = no

			character_event = {
				id = REP.302
				days = 5
				tooltip = EVTOPTA_REP_300_tooltip
			}
		}
	}

	option = {
		name = EVTOPTB_REP_300

		trigger = { plot_power >= 1.5 }

		wealth = -200

		plot_target_char = {
			show_scope_change = no

			character_event = {
				id = REP.308
				days = 5
				tooltip = EVTOPTB_REP_300_tooltip
			}
		}
	}

	option = {
		name = EVTOPTC_REP_300

		trigger = { plot_power < 1.0 }

		wealth = -230

		plot_target_char = {
			show_scope_change = no

			character_event = {
				id = REP.301
				days = 5
				tooltip = EVTOPTC_REP_300_tooltip
			}
		}
	}

	option = {
		name = EVTOPTE_REP_300

		trigger = {
			is_merchant_republic = no

			plot_target_char = {
				is_merchant_republic = no

				num_of_trade_post_diff = {
					character = ROOT
					value >= 10
				}
			}
		}

		liege = {
			show_scope_change = no

			letter_event = {
				id = REP.310
				days = 5
				tooltip = EVTOPTE_REP_300_tooltip
			}
		}
	}

	option = {
		name = EVTOPTD_REP_300

		custom_tooltip = {
			text = EVTOPTD_REP_300_tooltip

			clr_character_flag = plot_seize_trade_post_decision_taken
		}

		cancel_plot = plot_seize_trade_post
	}
}

# Trade Post Owner Informed Of Bribe
character_event = {
	id = REP.301
	desc = EVTDESC_REP_301
	picture = GFX_evt_trade_post_republic

	is_triggered_only = yes

	option = {
		name = EVTOPTA_REP_301

		wealth = -250

		FROM = {
			show_scope_change = no

			character_event = {
				id = REP.303
				days = 5
				tooltip = EVTOPTA_REP_301_tooltip
			}
		}
	}

	option = {
		name = EVTOPTB_REP_301

		FROM = {
			show_scope_change = no

			character_event = {
				id = REP.306
				days = 5
				tooltip = EVTOPTB_REP_301_tooltip
			}
		}
	}
}

# Trade Post Owner Informed Of Plot Support
character_event = {
	id = REP.302
	desc = EVTDESC_REP_302
	picture = GFX_evt_trade_post_republic

	is_triggered_only = yes

	option = {
		name = EVTOPTA_REP_302

		wealth = -250

		FROM = {
			show_scope_change = no

			character_event = {
				id = REP.303
				days = 5
				tooltip = EVTOPTA_REP_302_tooltip
			}
		}
	}

	option = {
		name = EVTOPTB_REP_302

		FROM = {
			show_scope_change = no

			character_event = {
				id = REP.306
				days = 5
				tooltip = EVTOPTB_REP_302_tooltip
			}
		}
	}
}

# Plotter Informed Of Bribe
character_event = {
	id = REP.303
	desc = EVTDESC_REP_303
	picture = GFX_evt_trade_post_republic

	is_triggered_only = yes

	option = {
		name = EVTOPTA_REP_303

		wealth = -300

		FROM = {
			show_scope_change = no

			character_event = {
				id = REP.304
				days = 5
				tooltip = EVTOPTA_REP_303_tooltip
			}
		}
	}

	option = {
		name = EVTOPTB_REP_303

		cancel_plot = plot_seize_trade_post
		clr_character_flag = plot_seize_trade_post_decision_taken

		FROM = {
			show_scope_change = no

			character_event = {
				id = REP.307
				days = 5
				tooltip = EVTOPTB_REP_303_tooltip
			}
		}
	}
}

# Owner Informed Of Counter-Bribe
character_event = {
	id = REP.304
	desc = EVTDESC_REP_304
	picture = GFX_evt_trade_post_republic

	is_triggered_only = yes

	option = {
		name = EVTOPTA_REP_304

		wealth = -350

		FROM = {
			show_scope_change = no

			character_event = {
				id = REP.305
				days = 5
				tooltip = EVTOPTA_REP_304_tooltip
			}
		}
	}

	option = {
		name = EVTOPTB_REP_304

		FROM = {
			show_scope_change = no

			character_event = {
				id = REP.306
				days = 5
				tooltip = EVTOPTB_REP_302_tooltip
			}
		}
	}
}

# Plotter Informed He Has Been Outbid
character_event = {
	id = REP.305
	desc = EVTDESC_REP_305
	picture = GFX_evt_trade_post_republic

	is_triggered_only = yes

	option = {
		name = EVTOPTA_REP_305

		cancel_plot = plot_seize_trade_post
		clr_character_flag = plot_seize_trade_post_decision_taken

		prestige = -50

		FROM = {
			show_scope_change = no

			character_event = {
				id = REP.307
				days = 5
				tooltip = EVTOPTB_REP_303_tooltip
			}
		}
	}
}

# Victorious Plotter Informed About Success
character_event = {
	id = REP.306
	desc = EVTDESC_REP_306
	picture = GFX_evt_trade_post_republic

	is_triggered_only = yes

	option = {
		name = EXCELLENT

		plot_target_province = {
			show_scope_change = no

			seize_trade_post = ROOT
		}

		clr_character_flag = plot_seize_trade_post_decision_taken

		FROM = {
			show_scope_change = no

			opinion = {
				name = opinion_seized_tp
				who = ROOT
				years = 5
			}
		}
	}
}

# Victorious Owner Informed About Success
character_event = {
	id = REP.307
	desc = EVTDESC_REP_306
	picture = GFX_evt_trade_post_republic

	is_triggered_only = yes

	option = {
		name = EXCELLENT

		prestige = 50
	}
}

# Trade Post Owner Informed Of Overwhelming Plot Support
character_event = {
	id = REP.308
	desc = EVTDESC_REP_308
	picture = GFX_evt_trade_post_republic

	is_triggered_only = yes

	option = {
		name = EVTOPTA_REP_308

		FROM = {
			show_scope_change = no

			character_event = {
				id = REP.306
				days = 5
				tooltip = EVTOPTB_REP_306_tooltip
			}
		}
	}
}

# Plotter goes to Doge
letter_event = {
	id = REP.310
	desc = EVTDESC_REP_310

	is_triggered_only = yes

	option = {
		name = EVTOPTA_REP_310

		ai_chance = {
			factor = 1

			trigger = {
				opinion = {
					who = FROM
					value >= 0
				}
			}

			mult_modifier = {
				factor = 1.5

				opinion = {
					who = FROM
					value >= 25
				}
			}

			mult_modifier = {
				factor = 2

				opinion = {
					who = FROM
					value >= 50
				}
			}

			mult_modifier = {
				factor = 3

				opinion = {
					who = FROM
					value >= 75
				}
			}
		}

		FROM = {
			show_scope_change = no

			plot_target_char = {
				show_scope_change = no

				letter_event = {
					id = REP.311
					days = 5
					tooltip = EVTTOOLTIPREP.311
				}

				opinion = {
					name = opinion_disgruntled
					who = ROOT
					years = 5
				}
			}

			letter_event = {
				id = REP.313
				days = 5
				tooltip = EVTTOOLTIPREP.311
			}

			opinion = {
				name = opinion_glad
				who = ROOT
			}
		}
	}

	option = {
		name = EVTOPTB_REP_310

		ai_chance = {
			factor = 1

			trigger = {
				opinion = {
					who = FROM
					value < 90
				}
			}

			modifier = {
				factor = 2

				opinion = {
					who = FROM
					value < 10
				}
			}
		}

		FROM = {
			show_scope_change = no

			letter_event = {
				id = REP.312
				days = 5
				tooltip = EVTTOOLTIPREP.313
			}

			opinion = {
				name = opinion_disgruntled
				who = ROOT
				years = 5
			}
		}
	}
}

# Owner Told of Doge's Support
letter_event = {
	id = REP.311
	desc = EVTDESC_REP_311

	is_triggered_only = yes

	option = {
		name = EVTOPTA_REP_311

		prestige = -30
	}
}

# Plotter Told Doge Refuses Support
letter_event = {
	id = REP.312
	desc = EVTDESC_REP_312

	is_triggered_only = yes

	option = {
		name = EVTOPTA_REP_312

		cancel_plot = plot_seize_trade_post
		prestige = -50
		clr_character_flag = plot_seize_trade_post_decision_taken
	}
}

# Plotter Informed of Doge's Support
letter_event = {
	id = REP.313
	desc = EVTDESC_REP_313

	is_triggered_only = yes

	option = {
		name = EVTOPTA_REP_313

		clr_character_flag = plot_seize_trade_post_decision_taken

		plot_target_char = {
			show_scope_change = no

			opinion = {
				name = opinion_seized_tp
				who = ROOT
				years = 5
			}
		}

		plot_target_province = {
			show_scope_change = no

			seize_trade_post = ROOT
		}
	}
}

### Dynastic Marriage Events

# Family member marries burgher daughter (AI)
character_event = {
	id = REP.400
	hide_window = yes

	only_men = yes
	min_age = 18
	is_married = no
	ai = yes
	only_capable = yes
	prisoner = no

	trigger = {
		liege = {
			is_patrician = yes
		}

		dynasty = liege
		is_betrothed = no
		is_primary_heir = no
		is_pretender = no
		is_theocracy = no
		is_priest = no
		is_ascetic_trigger = no

		NOR = {
			is_child_of = liege
			has_character_flag = getting_married
			trait = chaste
		}
	}

	mean_time_to_happen = {
		months = 210
	}

	immediate = {
		set_character_flag = getting_married

		liege = {
			character_event = { id = REP.401 }
		}
	}
}

# Family member marries burgher daughter
character_event = {
	id = REP.401
	desc = EVTDESC_REP_401
	picture = GFX_evt_marriage

	is_triggered_only = yes

	immediate = {
		create_character = {
			random_traits = yes
			dynasty = none
			female = yes
			age = 24
			religion = FROM
			culture = FROM
		}

		# Set appropriate age
		new_character = {
			if = {
				limit = {
					FROM = {
						practical_age >= 45
					}
				}

				add_age = 24
			}
			else_if = {
				limit = {
					FROM = {
						practical_age >= 30
					}
				}

				add_age = 11
			}
		}
	}

	option = {
		name = EVTOPTA_REP_401

		FROM = {
			show_scope_change = no

			add_spouse = new_character
			clr_character_flag = getting_married
		}
	}
}

# Family member marries bar wench/peasant girl/rich girl (AI)
character_event = {
	id = REP.404
	hide_window = yes

	only_men = yes
	is_married = no
	min_age = 18
	max_age = 40
	ai = yes
	only_capable = yes
	prisoner = no

	trigger = {
		liege = {
			is_patrician = yes
		}

		dynasty = liege
		is_betrothed = no
		is_primary_heir = no
		is_pretender = no
		is_theocracy = no
		is_priest = no

		NOR = {
			trait = chaste
			has_character_flag = getting_married
			is_child_of = liege
		}
	}

	mean_time_to_happen = {
		months = 300
	}

	immediate = {
		set_character_flag = getting_married

		liege = {
			random_list = {
				33 = { character_event = { id = REP.405 } }
				33 = { character_event = { id = REP.406 } }
				33 = { character_event = { id = REP.407 } }
			}
		}
	}
}

# Family member marries bar wench
character_event = {
	id = REP.405
	desc = EVTDESC_REP_405
	picture = GFX_evt_marriage

	is_triggered_only = yes

	immediate = {
		create_character = {
			random_traits = yes
			dynasty = none
			female = yes
			age = 25
			religion = FROM
			culture = FROM
		}
	}

	option = {
		name = I_SEE

		FROM = {
			show_scope_change = no

			add_spouse = new_character
			clr_character_flag = getting_married
		}
	}
}

# Family member marries peasant girl
character_event = {
	id = REP.406
	desc = EVTDESC_REP_406
	picture = GFX_evt_marriage

	is_triggered_only = yes

	immediate = {
		create_character = {
			random_traits = yes
			dynasty = none
			female = yes
			age = 24
			religion = FROM
			culture = FROM
			add_trait = fair
		}
	}

	option = {
		name = EVTOPTA_REP_406

		FROM = {
			show_scope_change = no

			add_spouse = new_character
			clr_character_flag = getting_married
		}
	}
}

# Family member marries rich girl
character_event = {
	id = REP.407
	desc = EVTDESC_REP_407
	picture = GFX_evt_marriage

	is_triggered_only = yes

	immediate = {
		create_character = {
			random_traits = yes
			dynasty = none
			female = yes
			age = 28
			religion = FROM
			culture = FROM
			add_trait = ugly
		}
	}

	option = {
		name = EVTOPTA_REP_407

		FROM = {
			show_scope_change = no

			add_spouse = new_character
			wealth = 100
			clr_character_flag = getting_married
		}
	}
}

# Old family member marries young woman (AI)
character_event = {
	id = REP.408
	hide_window = yes

	ai = yes
	only_capable = yes
	prisoner = no
	min_age = 42
	only_men = yes
	is_married = no

	trigger = {
		liege = {
			is_patrician = yes
		}

		dynasty = liege
		is_betrothed = no
		is_primary_heir = no
		is_pretender = no
		is_theocracy = no
		is_priest = no

		NOR = {
			trait = chaste
			is_child_of = liege
		}
	}

	mean_time_to_happen = {
		months = 450
	}

	immediate = {
		liege = {
			character_event = { id = REP.409 }
		}
	}
}

# Old family member marries young woman
character_event = {
	id = REP.409
	desc = EVTDESC_REP_409
	picture = GFX_evt_marriage

	is_triggered_only = yes

	immediate = {
		create_character = {
			random_traits = yes
			dynasty = none
			female = yes
			age = 20
			religion = FROM
			culture = FROM
		}
	}

	option = {
		name = EVTOPTA_REP_409

		FROM = {
			show_scope_change = no

			add_spouse = new_character
		}
	}
}

# Young family member marries older woman (AI)
character_event = {
	id = REP.410
	hide_window = yes

	ai = yes
	only_capable = yes
	prisoner = no
	min_age = 18
	max_age = 26
	only_men = yes
	is_married = no

	trigger = {
		liege = {
			is_patrician = yes
		}

		dynasty = liege
		is_betrothed = no
		is_primary_heir = no
		is_pretender = no
		is_theocracy = no
		is_priest = no

		NOR = {
			is_child_of = liege
			trait = chaste
		}
	}

	mean_time_to_happen = {
		months = 450
	}

	immediate = {
		liege = {
			character_event = { id = REP.411 }
		}
	}
}

# Young family member marries older woman
character_event = {
	id = REP.411
	desc = EVTDESC_REP_411
	picture = GFX_evt_marriage

	is_triggered_only = yes

	immediate = {
		create_character = {
			random_traits = yes
			dynasty = none
			female = yes
			age = 41
			religion = FROM
			culture = FROM
		}
	}

	option = {
		name = EVTOPTA_REP_411

		FROM = {
			show_scope_change = no

			add_spouse = new_character
		}
	}
}

# Family member marries foreign woman (AI)
character_event = {
	id = REP.412
	hide_window = yes

	ai = yes
	only_capable = yes
	prisoner = no
	min_age = 18
	only_men = yes
	is_married = no

	trigger = {
		is_betrothed = no
		is_primary_heir = no
		is_pretender = no
		is_theocracy = no
		is_priest = no
		NOT = { trait = chaste }
		can_marry = yes
		NOT = { culture = manden }
		liege = {
			NOT = { any_child = { character = ROOT } }
			NOT = { culture = manden }
			is_patrician = yes
			dynasty = ROOT
		}
	}

	mean_time_to_happen = {
		months = 450
	}

	immediate = {
		liege = {
			character_event = { id = REP.413 }
		}
	}
}

# Family member marries foreign woman
character_event = {
	id = REP.413
	desc = EVTDESC_REP_413
	picture = GFX_evt_marriage

	is_triggered_only = yes

	immediate = {
		create_character = {
			random_traits = yes
			dynasty = none
			female = yes
			age = 26
			religion = FROM
			culture = manden
		}
	}

	option = {
		name = EVTOPTA_REP_413

		FROM = {
			show_scope_change = no

			add_spouse = new_character
		}
	}
}

### Trade Post Decisions

# Doge approached by Patrician
letter_event = {
	id = REP.500
	desc = EVTDESC_REP_500

	is_triggered_only = yes # realm_decisions.txt, petition_doge_for_tp

	immediate = {
		if = {
			limit = {
				FROM = {
					num_of_trade_posts >= 1
				}

				any_vassal = {
					is_patrician = yes

					num_of_trade_post_diff = {
						character = FROM
						value >= 10
					}
				}
			}

			random_vassal = {
				limit = {
					is_patrician = yes

					num_of_trade_post_diff = {
						character = FROM
						value >= 10
					}
				}

				save_event_target_as = target_patrician
			}
		}
		else_if = {
			limit = {
				FROM = {
					num_of_trade_posts < 1
				}

				any_vassal = {
					is_patrician = yes
					num_of_trade_posts >= 10
				}
			}

			random_vassal = {
				limit = {
					is_patrician = yes
					num_of_trade_posts >= 10
				}

				save_event_target_as = target_patrician
			}
		}

		FROM = {
			save_event_target_as = poor_patrician
		}
	}

	option = {
		name = EVTOPTA_REP_500

		FROM = {
			letter_event = { id = REP.501 }
		}
	}

	option = {
		name = EVTOPTB_REP_500

		ai_chance = { factor = 100 }

		event_target:target_patrician = {
			show_scope_change = no

			letter_event = {
				id = REP.502
				tooltip = EVTTOOLTIP_REP_502
			}
		}
	}
}

# Doge refuses request
letter_event = {
	id = REP.501
	desc = EVTDESC_REP_501

	is_triggered_only = yes

	option = {
		name = EVTOPTA_REP_501

		prestige = -100
	}
}

# Doge makes request to wealthy patrician
letter_event = {
	id = REP.502
	desc = EVTDESC_REP_502

	is_triggered_only = yes

	option = {
		name = EVTOPTA_REP_502

		FROM = {
			show_scope_change = no

			letter_event = {
				id = REP.503
				tooltip = EVTTOOLTIP_REP_503
			}
		}

		tooltip = {
			random_trade_post = {
				show_scope_change = no

				seize_trade_post = FROMFROM

				any_neighbor_province = {
					show_scope_change = no

					limit = {
						trade_post_owner = {
							character = ROOT
						}
					}

					seize_trade_post = FROMFROM
				}
			}
		}
	}

	option = {
		name = EVTOPTB_REP_510
		tooltip_info = stewardship

		trigger = { stewardship >= 10 }

		FROM = {
			show_scope_change = no

			letter_event = {
				id = REP.505
				tooltip = EVTTOOLTIP_REP_512
			}
		}
	}

	option = {
		name = EVTOPTC_REP_510
		tooltip_info = diplomacy

		trigger = { diplomacy >= 10 }

		FROM = {
			show_scope_change = no

			letter_event = {
				id = REP.506
				tooltip = EVTTOOLTIP_REP_513
			}
		}
	}

	option = {
		name = EVTOPTD_REP_510
		tooltip_info = intrigue

		trigger = { intrigue >= 10 }

		FROM = {
			show_scope_change = no

			letter_event = {
				id = REP.507
				tooltip = EVTTOOLTIP_REP_514
			}
		}
	}
}

# Patrician grants Doge's request
letter_event = {
	id = REP.503
	desc = EVTDESC_REP_503

	is_triggered_only = yes

	option = {
		name = EVTOPTA_REP_503

		FROM = {
			show_scope_change = no

			opinion = {
				name = opinion_disgruntled
				who = ROOT
				years = 5
			}
		}

		event_target:poor_patrician = {
			show_scope_change = no

			letter_event = {
				id = REP.504
				tooltip = EVTTOOLTIP_REP_504
			}
		}
	}
}

# Doge informs original Patrician that request has been granted
letter_event = {
	id = REP.504
	desc = EVTDESC_REP_504

	is_triggered_only = yes

	option = {
		name = EVTOPTA_REP_504

		FROMFROM = {
			show_scope_change = no

			opinion = {
				name = opinion_angry
				who = ROOT
				years = 5
			}

			random_trade_post = {
				show_scope_change = no

				seize_trade_post = ROOT

				any_neighbor_province = {
					show_scope_change = no

					limit = {
						trade_post_owner = {
							character = PREVPREVPREV
						}
					}

					seize_trade_post = ROOT
				}
			}
		}
	}
}

# Patrician refuses demand due to stewardship
letter_event = {
	id = REP.505
	desc = EVTDESC_REP_512

	is_triggered_only = yes

	option = {
		name = I_SEE

		event_target:poor_patrician = {
			show_scope_change = no

			letter_event = {
				id = REP.508
				tooltip = EVTTOOLTIP_REP_508
			}
		}
	}
}

# Patrician refuses demand due to diplomacy
letter_event = {
	id = REP.506
	desc = EVTDESC_REP_513

	is_triggered_only = yes

	option = {
		name = I_SEE

		event_target:poor_patrician = {
			show_scope_change = no

			letter_event = {
				id = REP.508
				tooltip = EVTTOOLTIP_REP_508
			}
		}
	}
}

# Patrician refuses demand due to intrigue
letter_event = {
	id = REP.507
	desc = EVTDESC_REP_514

	is_triggered_only = yes

	option = {
		name = I_SEE

		event_target:poor_patrician = {
			show_scope_change = no

			letter_event = {
				id = REP.508
				tooltip = EVTTOOLTIP_REP_508
			}
		}
	}
}

# Doge informs Patrician of failure
letter_event = {
	id = REP.508
	desc = EVTDESC_REP_508

	is_triggered_only = yes

	option = {
		name = EVTOPTA_REP_508

		prestige = -50
	}
}

# Patrician approached by Doge
letter_event = {
	id = REP.510
	desc = EVTDESC_REP_510

	is_triggered_only = yes

	option = {
		name = EVTOPTA_REP_510

		FROM = {
			letter_event = { id = REP.511 }
		}

		tooltip = {
			random_trade_post = {
				show_scope_change = no

				seize_trade_post = FROM
				any_neighbor_province = {
					show_scope_change = no

					limit = {
						trade_post_owner = {
							character = ROOT
						}
					}

					seize_trade_post = FROM
				}
			}
		}
	}

	option = {
		name = EVTOPTB_REP_510
		tooltip_info = stewardship

		trigger = {
			stewardship >= 10
			FROM = { stewardship < 8 }
		}

		FROM = {
			show_scope_change = no

			letter_event = {
				id = REP.512
				tooltip = EVTTOOLTIP_REP_512
			}
		}
	}

	option = {
		name = EVTOPTC_REP_510
		tooltip_info = diplomacy

		trigger = {
			diplomacy >= 10
			FROM = { diplomacy < 8 }
		}

		FROM = {
			show_scope_change = no

			letter_event = {
				id = REP.513
				tooltip = EVTTOOLTIP_REP_513
			}
		}
	}

	option = {
		name = EVTOPTD_REP_510
		tooltip_info = intrigue

		trigger = {
			intrigue >= 10
			FROM = { intrigue < 8 }
		}

		FROM = {
			show_scope_change = no

			letter_event = {
				id = REP.514
				tooltip = EVTTOOLTIP_REP_514
			}
		}
	}
}

# Patrician agrees to demand
letter_event = {
	id = REP.511
	desc = EVTDESC_REP_511

	is_triggered_only = yes

	option = {
		name = EVTOPTA_REP_511

		FROM = {
			show_scope_change = no

			opinion = {
				name = opinion_angry
				who = ROOT
				years = 5
			}

			random_trade_post = {
				show_scope_change = no

				seize_trade_post = ROOT

				any_neighbor_province = {
					show_scope_change = no

					limit = {
						trade_post_owner = {
							character = PREVPREVPREV
						}
					}

					seize_trade_post = ROOT
				}
			}
		}
	}
}

# Patrician refuses demand due to stewardship
letter_event = {
	id = REP.512
	desc = EVTDESC_REP_512

	is_triggered_only = yes

	option = {
		name = EVTOPTA_REP_512

		prestige = -50
	}
}

# Patrician refuses demand due to diplomacy
letter_event = {
	id = REP.513
	desc = EVTDESC_REP_513

	is_triggered_only = yes

	option = {
		name = EVTOPTA_REP_512

		prestige = -50
	}
}

# Patrician refuses demand due to intrigue
letter_event = {
	id = REP.514
	desc = EVTDESC_REP_514

	is_triggered_only = yes

	option = {
		name = EVTOPTA_REP_512

		prestige = -50
	}
}

### Trade Post Razing

# Province has TP
province_event = {
	id = REP.600

	hide_window = yes

	trigger = {
		has_trade_post = yes

		trade_post_owner = {
			is_patrician = yes

			ROOT = {
				owner = {
					is_patrician = no

					NOR = {
						same_realm = PREVPREV
						has_non_aggression_pact_with = PREVPREV
					}

					top_liege = {
						is_patrician = no

						opinion = {
							who = PREVPREVPREV
							value < 0
						}

						NOR = {
							war_with = PREVPREVPREV
							has_opinion_modifier = { who = PREVPREVPREV name = opinion_bribed_tp }
							has_opinion_modifier = { who = PREVPREVPREV name = opinion_thwarted_tp_destruction }
							has_opinion_modifier = { who = PREVPREVPREV name = opinion_burned_tp }
							has_opinion_modifier = { who = PREVPREVPREV name = opinion_burned_tp_despite_bribe }
						}
					}

				}
			}
		}
	}

	mean_time_to_happen = {
		months = 1620

		mult_modifier = {
			factor = 0.7

			trade_post_owner = {
				ROOT = {
					owner = {
						top_liege = {
							opinion = {
								who = PREVPREVPREV
								value < -20
							}
						}
					}
				}
			}
		}

		mult_modifier = {
			factor = 0.6

			trade_post_owner = {
				ROOT = {
					owner = {
						top_liege = {
							opinion = {
								who = PREVPREVPREV
								value < -40
							}
						}
					}
				}
			}
		}

		mult_modifier = {
			factor = 0.5

			trade_post_owner = {
				ROOT = {
					owner = {
						top_liege = {
							opinion = {
								who = PREVPREVPREV
								value < -60
							}
						}
					}
				}
			}
		}

		mult_modifier = {
			factor = 0.4

			trade_post_owner = {
				ROOT = {
					owner = {
						top_liege = {
							opinion = {
								who = PREVPREVPREV
								value < -80
							}
						}
					}
				}
			}
		}
	}

	immediate = {
		owner = {
			top_liege = {
				character_event = { id = REP.601 }
			}
		}
	}
}

# Liege informed
character_event = {
	id = REP.601
	desc = EVTDESC_REP_601
	picture = GFX_evt_trade_post_republic

	is_triggered_only = yes

	option = {
		name = EVTOPTA_REP_601

		ai_chance = { factor = 100 }

		FROM = {
			show_scope_change = no

			trade_post_owner = {
				show_scope_change = no

				character_event = {
					id = REP.602
					days = 6
					tooltip = EVTTOOLTIP_REP_602
				}
			}
		}
	}

	option = {
		name = EVTOPTB_REP_601

		custom_tooltip = { text = tp_spare }
	}
}

# Trade Post Owner Confronted
character_event = {
	id = REP.602
	desc = EVTDESC_REP_602
	picture = GFX_evt_trade_post_republic

	is_triggered_only = yes

	option = { # Accept

		name = EVTOPTA_REP_602

		destroy_tradepost = FROMFROM

		FROM = {
			character_event = { id = REP.603 }
		}
	}

	option = { # Bribe
		name = EVTOPTB_REP_602

		trigger = {
			trigger_if = {
				limit = {
					OR = {
						lower_real_tier_than = DUKE

						AND = {
							is_patrician = yes
							is_merchant_republic = no
						}
					}
				}

				scaled_wealth = 2.5
			}
			trigger_else = {
				scaled_wealth = 0.65
			}
		}

		if = {
			limit = {
				OR = {
					lower_real_tier_than = DUKE

					AND = {
						is_patrician = yes
						is_merchant_republic = no
					}
				}
			}

			transfer_scaled_wealth = {
				to = FROM
				value = 2.5
			}
		}
		else = {
			transfer_scaled_wealth = {
				to = FROM
				value = 0.65
			}
		}

		FROMFROM = {
			show_scope_change = no

			province_event = {
				id = REP.608
				days = 6
				tooltip = EVTTOOLTIP_REP_604
			}
		}
	}

	option = { # Stewardship
		name = EVTOPTC_REP_602
		tooltip_info = stewardship

		trigger = { stewardship >= 12 }

		FROM = {
			show_scope_change = no

			character_event = {
				id = REP.605
				days = 6
				tooltip = EVTTOOLTIP_REP_605
			}
		}
	}

	option = { # Diplomacy
		name = EVTOPTD_REP_602
		tooltip_info = diplomacy

		trigger = { diplomacy >= 12 }

		FROM = {
			show_scope_change = no

			character_event = {
				id = REP.606
				days = 6
				tooltip = EVTTOOLTIP_REP_605
			}
		}
	}
}

# Trade Post Destroyed
character_event = {
	id = REP.603
	desc = EVTDESC_REP_603
	picture = GFX_evt_burning_house

	is_triggered_only = yes

	option = {
		name = EVTOPTA_REP_603

		prestige = 30

		FROM = {
			show_scope_change = no

			opinion = {
				name = opinion_burned_tp
				who = ROOT
			}
		}
	}
}

# Bribe Offered
character_event = {
	id = REP.604
	desc = EVTDESC_REP_604
	picture = GFX_evt_trade_post_republic

	is_triggered_only = yes

	option = {
		name = EVTOPTA_REP_604

		ai_chance = { factor = 70 }

		wealth = 100

		opinion = {
			name = opinion_bribed_tp
			who = FROMFROM
		}

		tooltip = {
			FROMFROM = {
				show_scope_change = no

				if = {
					limit = {
						OR = {
							lower_real_tier_than = DUKE

							AND = {
								is_patrician = yes
								is_merchant_republic = no
							}
						}
					}

					transfer_scaled_wealth = {
						to = ROOT
						value = 2.5
					}
				}
				else = {
					transfer_scaled_wealth = {
						to = ROOT
						value = 0.65
					}
				}
			}
		}
	}

	option = {
		name = EVTOPTB_REP_604

		ai_chance = { factor = 30 }

		tooltip = {
			FROMFROM = {
				show_scope_change = no

				if = {
					limit = {
						OR = {
							lower_real_tier_than = DUKE

							AND = {
								is_patrician = yes
								is_merchant_republic = no
							}
						}
					}

					transfer_scaled_wealth = {
						to = ROOT
						value = 2.5
					}
				}
				else = {
					transfer_scaled_wealth = {
						to = ROOT
						value = 0.65
					}
				}
			}
		}

		piety = -50

		FROMFROM = {
			show_scope_change = no

			character_event = { id = REP.607 days = 6 }

			opinion = {
				name = opinion_burned_tp_despite_bribe
				who = ROOT
			}

			if = {
				limit = {
					liege = {
						is_merchant_republic = yes
						NOT = { character = FROMFROM }
					}
				}

				liege = {
					show_scope_change = no

					opinion = {
						name = opinion_burned_tp_despite_bribe
						who = ROOT
					}
				}
			}
		}

		tooltip = {
			destroy_tradepost = FROM
		}
	}
}

# Stewardship used to save TP
character_event = {
	id = REP.605
	desc = EVTDESC_REP_605
	picture = GFX_evt_trade_post_republic

	is_triggered_only = yes

	option = {
		name = EVTOPTA_REP_605

		opinion = {
			name = opinion_thwarted_tp_destruction
			who = FROM
		}

		prestige = -30
	}
}

# Diplomacy used to save TP
character_event = {
	id = REP.606
	desc = EVTDESC_REP_606
	picture = GFX_evt_trade_post_republic

	is_triggered_only = yes

	option = {
		name = EVTOPTA_REP_605

		opinion = {
			name = opinion_thwarted_tp_destruction
			who = FROM
		}

		prestige = -30
	}
}

# TP owner informed of treachery
character_event = {
	id = REP.607
	desc = EVTDESC_REP_607
	picture = GFX_evt_burning_house

	is_triggered_only = yes

	option = {
		name = EVTOPTA_REP_607

		destroy_tradepost = FROMFROM
	}
}

# Hidden province owner event
province_event = {
	id = REP.608

	hide_window = yes
	is_triggered_only = yes

	immediate = {
		FROMFROM = {
			character_event = { id = REP.604 }
		}
	}
}